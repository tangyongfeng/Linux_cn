<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>在 WSL 上忘记了 Linux 密码？下面是如何轻松重设的方法</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Author: Abhishek Prakash 对于那些想从舒适的 Windows 中享受 Linux 命令行的人来说，WSL（Windows Subsystem for Linux） 是一个方便的工具。 当你 在 Windows 上使用 WSL 安装 Linux 时，会 …" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">linux_cn</a></h1>
                <nav><ul>
                    <li><a href="/category/chuan-shan-jia-zhuan-fang">穿山甲专访</a></li>
                    <li><a href="/category/dai-ma-ying-xiong">代码英雄</a></li>
                    <li><a href="/category/fen-xiang">分享</a></li>
                    <li><a href="/category/guan-dian">观点</a></li>
                    <li><a href="/category/huo-dong">活动</a></li>
                    <li><a href="/category/ji-ke-man-hua">极客漫画</a></li>
                    <li class="active"><a href="/category/ji-zhu">技术</a></li>
                    <li><a href="/category/kai-yuan-zhi-hui">开源智慧</a></li>
                    <li><a href="/category/linux-fa-xing-ban">Linux 发行版</a></li>
                    <li><a href="/category/mei-ri-an-quan-zi-xun">每日安全资讯</a></li>
                    <li><a href="/category/misc">Misc</a></li>
                    <li><a href="/category/qu-kuai-lian">区块链</a></li>
                    <li><a href="/category/rong-qi-yu-yun">容器与云</a></li>
                    <li><a href="/category/ruan-jian-kai-fa">软件开发</a></li>
                    <li><a href="/category/shu-mei-pai">树莓派</a></li>
                    <li><a href="/category/xi-tong-yun-wei">系统运维</a></li>
                    <li><a href="/category/xin-wen">新闻</a></li>
                    <li><a href="/category/ying-he-guan-cha">硬核观察</a></li>
                    <li><a href="/category/zhi-ye-sheng-ya">职业生涯</a></li>
                    <li><a href="/category/zhong-jiang-ming-dan">中奖名单</a></li>
                    <li><a href="/category/zhuo-mian-ying-yong">桌面应用</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2021/07/zai-wsl-shang-wang-ji-liao-linux-mi-ma-xia-mian-shi-ru-he-qing-song-zhong-she-de-fang-fa.html" rel="bookmark"
           title="Permalink to 在 WSL 上忘记了 Linux 密码？下面是如何轻松重设的方法">在 WSL 上忘记了 Linux 密码？下面是如何轻松重设的方法</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2021-07-03T15:58:24+02:00">
                Published: Sat 03 July 2021
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/linux-fans-from-china.html">linux fans from china</a>
        </address>
<p>In <a href="/category/ji-zhu">技术</a>.</p>

</footer><!-- /.post-info -->      <p>Author: Abhishek Prakash</p>
<p>对于那些想从舒适的 Windows 中享受 Linux 命令行的人来说，WSL（Windows Subsystem for Linux） 是一个方便的工具。</p>
<p>当你 <a href="https://itsfoss.com/install-bash-on-windows/">在 Windows 上使用 WSL 安装 Linux</a> 时，会要求你创建一个用户名和密码。当你在 WSL 上启动 Linux 时，这个用户会自动登录。</p>
<p>现在的问题是，如果你有一段时间没有使用它，你可能会忘记 WSL 的账户密码。而如果你要使用 <code>sudo</code> 的命令，这将成为一个问题，因为这里你需要输入密码。</p>
<p><img alt="" src="/data/attachment/album/202107/03/155824ua3xfpzpal7irnx8.png"></p>
<p>不要担心。你可以很容易地重置它。</p>
<h3>在 Ubuntu 或任何其他 Linux 发行版上重置遗忘的 WSL 密码</h3>
<p>要在 WSL 中重设 Linux 密码，你需要：</p>
<ul>
<li>将默认用户切换为 <code>root</code></li>
<li>重置普通用户的密码</li>
<li>将默认用户切换回普通用户</li>
</ul>
<p>让我向你展示详细的步骤和截图。</p>
<h4>步骤 1：将默认用户切换为 root</h4>
<p>记下你的普通/常规用户名将是明智之举。如你所见，我的普通帐户的用户名是 <code>abhishek</code>。</p>
<p><img alt="Note down the account username" src="/data/attachment/album/202107/03/155825mflz1lj0efrh2zd2.png"></p>
<p>WSL 中的 <code>root</code> 用户是无锁的，没有设置密码。这意味着你可以切换到 <code>root</code> 用户，然后利用 <code>root</code> 的能力来重置密码。</p>
<p>由于你不记得帐户密码，切换到 <code>root</code> 用户是通过改变你的 Linux WSL 应用的配置，使其默认使用 <code>root</code> 用户来完成。</p>
<p>这是通过 Windows 命令提示符完成的，你需要知道你的 Linux 发行版需要运行哪个命令。</p>
<p>这个信息通常在 <a href="https://www.microsoft.com/en-us/store/apps/windows">Windows 商店</a> 中的发行版应用的描述中提供。这是你首次下载发行版的地方。</p>
<p><img alt="Know the command to run for your distribution app" src="/data/attachment/album/202107/03/155825ps2ftt6fftjkus22.png"></p>
<p>从 Windows 菜单中，启动命令提示符：</p>
<p><img alt="Start Command Prompt" src="/data/attachment/album/202107/03/155826way5ywdcrhy5m7wt.jpg"></p>
<p>在这里，以这种方式使用你的发行版的命令。如果你使用的是 Windows 商店中的 Ubuntu 应用，那么该命令将是：</p>
<div class="highlight"><pre><span></span><code>ubuntu config --default-user root
</code></pre></div>

<p>截图中，我正在使用 Windows 商店中的 Ubuntu 20.04 应用。所以，我使用了 ubuntu2004 命令。</p>
<p><img alt="Set root as default user in Linux app’s configuration" src="/data/attachment/album/202107/03/155826ujerby8j4y8rmhfh.png"></p>
<p>为了减少你的麻烦，我在这个表格中列出了一些发行版和它们各自的命令：</p>
<table>
<thead>
<tr>
<th>发行版应用</th>
<th>Windows 命令</th>
</tr>
</thead>
<tbody>
<tr>
<td>Ubuntu</td>
<td><code>ubuntu config –default-user root</code></td>
</tr>
<tr>
<td>Ubuntu 20.04</td>
<td><code>ubuntu2004 config –default-user root</code></td>
</tr>
<tr>
<td>Ubuntu 18.04</td>
<td><code>ubuntu1804 config –default-user root</code></td>
</tr>
<tr>
<td>Debian</td>
<td><code>debian config –default-user root</code></td>
</tr>
<tr>
<td>Kali Linux</td>
<td><code>kali config –default-user root</code></td>
</tr>
</tbody>
</table>
<h4>步骤 2：重设帐户密码</h4>
<p>现在，如果你启动 Linux 发行程序，你应该以 <code>root</code> 身份登录。你可以重新设置普通用户帐户的密码。</p>
<p>你还记得 WSL 中的用户名吗？（LCTT 译注：请使用你的“用户名”替换下列命令中的 <code>username</code>）如果没有，你可以随时检查 <code>/home</code> 目录的内容。当你有了用户名后，使用这个命令：</p>
<div class="highlight"><pre><span></span><code>passwd username
</code></pre></div>

<p>它将要求你输入一个新的密码。**当你输入时，屏幕上将不会显示任何内容。这很正常。只要输入新的密码，然后点击回车就可以了。**你必须重新输入新的密码来确认，当你输入密码时，屏幕上也不会显示任何东西。</p>
<p><img alt="Reset the password for the regular user" src="/data/attachment/album/202107/03/155827cpspiqpv7oo9q8po.png"></p>
<p>恭喜你。用户账户的密码已经被重置。但你还没有完成。默认用户仍然是 <code>root</code>。你应该把它改回你的普通用户帐户，否则它将一直以 <code>root</code> 用户的身份登录。</p>
<h4>步骤 3：再次将普通用户设置为默认用户</h4>
<p>你需要你在上一步中用 <a href="https://linuxhandbook.com/passwd-command/">passwd 命令</a> 使用的普通帐户用户名。</p>
<p>再次启动 Windows 命令提示符。<strong>使用你的发行版命令</strong>，方式与第 1 步中类似。然而，这一次，用普通用户代替 <code>root</code>。</p>
<div class="highlight"><pre><span></span><code>ubuntu config --default-user username
</code></pre></div>

<p><img alt="Set regular user as default user" src="/data/attachment/album/202107/03/155827g1tub4lunnt49yjb.png"></p>
<p>现在，当你在 WSL 中启动你的 Linux 发行版时，你将以普通用户的身份登录。你已经重新设置了密码，可以用它来运行 <code>sudo</code> 命令。</p>
<p>如果你将来再次忘记了密码，你知道重置密码的步骤。</p>
<h3>如果重设 WSL 密码如此简单，这难道不是一种安全风险吗？</h3>
<p>并非如此。你需要有对计算机的物理访问权以及对 Windows 帐户的访问权。如果有人已经有这么多的访问权，他/她可以做很多事情，而不仅仅是改变 WSL 中的 Linux 密码。</p>
<h3>你是否能够重新设置 WSL 密码？</h3>
<p>我给了你命令并解释了步骤。我希望这对你有帮助，并能够在 WSL 中重置你的 Linux 发行版的密码。</p>
<p>如果你仍然遇到问题，或者你对这个话题有疑问，请随时在评论区提问。</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>