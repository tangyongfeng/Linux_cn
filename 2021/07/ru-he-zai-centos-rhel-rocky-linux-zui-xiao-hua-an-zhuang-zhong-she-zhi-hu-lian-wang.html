<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>如何在 CentOS、RHEL、Rocky Linux 最小化安装中设置互联网</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Author: Arindam 在最小化服务器安装中，设置互联网或网络是非常容易的。在本指南中，我们将解释如何在 CentOS、RHEL、Rocky Linux 最小安装中设置 …" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">linux_cn</a></h1>
                <nav><ul>
                    <li><a href="/category/chuan-shan-jia-zhuan-fang">穿山甲专访</a></li>
                    <li><a href="/category/dai-ma-ying-xiong">代码英雄</a></li>
                    <li><a href="/category/fen-xiang">分享</a></li>
                    <li><a href="/category/guan-dian">观点</a></li>
                    <li><a href="/category/huo-dong">活动</a></li>
                    <li><a href="/category/ji-ke-man-hua">极客漫画</a></li>
                    <li><a href="/category/ji-zhu">技术</a></li>
                    <li><a href="/category/kai-yuan-zhi-hui">开源智慧</a></li>
                    <li><a href="/category/linux-fa-xing-ban">Linux 发行版</a></li>
                    <li><a href="/category/mei-ri-an-quan-zi-xun">每日安全资讯</a></li>
                    <li><a href="/category/misc">Misc</a></li>
                    <li><a href="/category/qu-kuai-lian">区块链</a></li>
                    <li><a href="/category/rong-qi-yu-yun">容器与云</a></li>
                    <li><a href="/category/ruan-jian-kai-fa">软件开发</a></li>
                    <li><a href="/category/shu-mei-pai">树莓派</a></li>
                    <li class="active"><a href="/category/xi-tong-yun-wei">系统运维</a></li>
                    <li><a href="/category/xin-wen">新闻</a></li>
                    <li><a href="/category/ying-he-guan-cha">硬核观察</a></li>
                    <li><a href="/category/zhi-ye-sheng-ya">职业生涯</a></li>
                    <li><a href="/category/zhong-jiang-ming-dan">中奖名单</a></li>
                    <li><a href="/category/zhuo-mian-ying-yong">桌面应用</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2021/07/ru-he-zai-centos-rhel-rocky-linux-zui-xiao-hua-an-zhuang-zhong-she-zhi-hu-lian-wang.html" rel="bookmark"
           title="Permalink to 如何在 CentOS、RHEL、Rocky Linux 最小化安装中设置互联网">如何在 CentOS、RHEL、Rocky Linux 最小化安装中设置互联网</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2021-07-16T10:49:49+02:00">
                Published: Fri 16 July 2021
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/linux-fans-from-china.html">linux fans from china</a>
        </address>
<p>In <a href="/category/xi-tong-yun-wei">系统运维</a>.</p>

</footer><!-- /.post-info -->      <p>Author: Arindam</p>
<p><img alt="" src="/data/attachment/album/202107/16/104745wne0x111onmafxj9.jpg"></p>
<p>在最小化服务器安装中，设置互联网或网络是非常容易的。在本指南中，我们将解释如何在 CentOS、RHEL、Rocky Linux 最小安装中设置互联网或网络。</p>
<p>当你刚刚完成任何服务器发行版的最小化安装时，你没有任何图形界面或桌面环境可以用于设置你的网络或互联网。因此，当你只能使用终端时，了解如何设置联网是很重要的。NetworkManager 以及 systemd 服务为完成这项工作提供了必要的工具。以下是具体使用方法。</p>
<h3>在 CentOS、RHEL、Rocky Linux 最小化安装中设置互联网</h3>
<p>完成安装后，启动服务器终端。理想情况下，你应该会看到提示符。使用 root 或 admin 账户登录。</p>
<p>然后，首先尝试使用 <code>nmcli</code> 检查网络接口的状态和细节。<code>nmcli</code> 是一个控制 NetworkManager 服务的命令行工具。使用以下命令进行检查。</p>
<div class="highlight"><pre><span></span><code>nmcli device status
</code></pre></div>

<p>这将显示设备名称、状态等。</p>
<p><img alt="nmcli device status" src="/data/attachment/album/202107/16/104950l888nmb4p8gj3pzm.jpg"></p>
<p>运行工具 <code>nmtui</code> 来配置网络接口。<a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/networking_guide/sec-configuring_ip_networking_with_nmtui">nmtui</a> 是 NetworkManager 工具的一部分，它为你提供了一个漂亮的用户界面来配置网络。这是 NetworkManager-tui 包的一部分，当你完成最小服务器的安装时它应该默认安装。</p>
<div class="highlight"><pre><span></span><code>nmtui
</code></pre></div>

<p>在 <code>nmtui</code> 窗口中点击编辑一个连接。</p>
<p><img alt="nmtui – Select options" src="/data/attachment/album/202107/16/104950osiz43z69v69sj4z.jpg"></p>
<p>选择网口名称：</p>
<p><img alt="Select Interface to Edit" src="/data/attachment/album/202107/16/104950sqzxt55yymmhh2hy.jpg"></p>
<p>在编辑连接窗口，为 IPv4 和 IPv6 选择自动。并选择自动连接。完成后按 “OK”。</p>
<p><img alt="nmtui – Edit Connection" src="/data/attachment/album/202107/16/104951uabf7oac4fz724bw.jpg"></p>
<p>通过使用如下 <a href="https://www.debugpoint.com/2020/12/systemd-systemctl-service/">systemd systemctl</a> 命令，重新启动 NetworkManager 服务。</p>
<div class="highlight"><pre><span></span><code>systemctl restart NetworkManager
</code></pre></div>

<p>如果一切顺利，在 CentOS、RHEL、Rocky Linux 服务器的最小化安装中你应该可以连接到网络和互联网了，前提是你的网络有互联网连接。你可以用 <code>ping</code> 来验证它是否正常。</p>
<p><img alt="setup internet minimal server – CentOS Rocky Linux RHEL" src="/data/attachment/album/202107/16/104951qpwsnlwhvspxtaxv.jpg"></p>
<h3>额外技巧：在最小化服务器中设置静态 IP</h3>
<p>当你把网络配置设置为自动，当你连接到互联网时，网口会动态地分配 IP。在某些情况下，当你建立一个局域网 （LAN） 时，你可能想给你的网口分配静态 IP。这超级简单。</p>
<p>打开你的网络的网络配置脚本。根据你的设备修改高亮部分：</p>
<div class="highlight"><pre><span></span><code>vi /etc/sysconfig/network-scripts/ifcfg-ens3
</code></pre></div>

<p>在上面的文件中，用 <code>IPADDR</code> 属性添加你想要的 IP 地址。保存该文件。</p>
<div class="highlight"><pre><span></span><code>IPADDR=192.168.0.55
</code></pre></div>

<p>在 <code>/etc/sysconfig/network</code> 中为你的网络添加网关：</p>
<div class="highlight"><pre><span></span><code>NETWORKING=yes
HOSTNAME=debugpoint
GATEWAY=10.1.1.1
</code></pre></div>

<p>在 <code>/etc/resolv.conf</code> 的 <code>resolv.conf</code> 中添加任意公共 DNS 服务器：</p>
<div class="highlight"><pre><span></span><code>nameserver 8.8.8.8
nameserver 8.8.4.4
</code></pre></div>

<p>并重新启动网络服务：</p>
<div class="highlight"><pre><span></span><code>systemctl restart NetworkManager
</code></pre></div>

<p>这样就完成了静态 IP 的设置。你也可以使用 <code>ip addr</code> 命令检查详细的 IP 信息。</p>
<p>我希望这个指南能帮助你在你的最小化服务器中设置网络、互联网和静态 IP。如果你有任何问题，请在评论区告诉我。</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>