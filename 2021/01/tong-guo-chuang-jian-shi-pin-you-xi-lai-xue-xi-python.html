<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>通过创建视频游戏来学习 Python</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Author: Seth Kenlon 使用我们的新电子书中的分步说明，以有趣的方式了解 Python。 Python 是目前最流行的程序设计语言之一。不管是为了工作 …" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">linux_cn</a></h1>
                <nav><ul>
                    <li><a href="/category/chuan-shan-jia-zhuan-fang">穿山甲专访</a></li>
                    <li><a href="/category/dai-ma-ying-xiong">代码英雄</a></li>
                    <li><a href="/category/fen-xiang">分享</a></li>
                    <li><a href="/category/guan-dian">观点</a></li>
                    <li><a href="/category/huo-dong">活动</a></li>
                    <li><a href="/category/ji-ke-man-hua">极客漫画</a></li>
                    <li><a href="/category/ji-zhu">技术</a></li>
                    <li><a href="/category/kai-yuan-zhi-hui">开源智慧</a></li>
                    <li><a href="/category/linux-fa-xing-ban">Linux 发行版</a></li>
                    <li><a href="/category/mei-ri-an-quan-zi-xun">每日安全资讯</a></li>
                    <li><a href="/category/misc">Misc</a></li>
                    <li><a href="/category/qu-kuai-lian">区块链</a></li>
                    <li><a href="/category/rong-qi-yu-yun">容器与云</a></li>
                    <li class="active"><a href="/category/ruan-jian-kai-fa">软件开发</a></li>
                    <li><a href="/category/shu-mei-pai">树莓派</a></li>
                    <li><a href="/category/xi-tong-yun-wei">系统运维</a></li>
                    <li><a href="/category/xin-wen">新闻</a></li>
                    <li><a href="/category/ying-he-guan-cha">硬核观察</a></li>
                    <li><a href="/category/zhi-ye-sheng-ya">职业生涯</a></li>
                    <li><a href="/category/zhong-jiang-ming-dan">中奖名单</a></li>
                    <li><a href="/category/zhuo-mian-ying-yong">桌面应用</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2021/01/tong-guo-chuang-jian-shi-pin-you-xi-lai-xue-xi-python.html" rel="bookmark"
           title="Permalink to 通过创建视频游戏来学习 Python">通过创建视频游戏来学习 Python</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2021-01-18T23:45:39+01:00">
                Published: Mon 18 January 2021
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/linux-fans-from-china.html">linux fans from china</a>
        </address>
<p>In <a href="/category/ruan-jian-kai-fa">软件开发</a>.</p>

</footer><!-- /.post-info -->      <p>Author: Seth Kenlon</p>
<blockquote>
<p>使用我们的新电子书中的分步说明，以有趣的方式了解 Python。</p>
</blockquote>
<p><img alt="" src="/data/attachment/album/202101/18/234525jdrrv6o6gkhkdq1k.jpg" title="Arcade games"></p>
<p>Python 是目前最流行的程序设计语言之一。不管是为了工作还是娱乐为目的学习 Python，它都是一门功能强大且非常有用的编程语言。你可以创建应用程序来帮助你完成日常任务，创建你和朋友们喜欢玩的游戏，创建用于处理数据的脚本，创建用于生成或分析信息的应用程序等等。</p>
<p>无论你计划使用程序设计语言做什么，我们都认为通过创建游戏来学习比通过处理数字或变换字符串来学习更为有趣。然而，如果你完全是一个编程的新手，当你能看到代码在视频游戏等熟悉的环境中工作时，你会更容易理解为什么要用代码做某事。</p>
<p>你可能不会选择 <a href="https://www.python.org/">Python</a> 作为最好的编程语言（每个人对此都有自己的答案），但它不是一门令人恐惧的编程语言。 Python 可以使用很多关键字（例如 <code>is</code> 和 <code>is not</code>）代替符号（例如 <code>=</code> 和 <code>!=</code>）。它还能管理许多低级任务，因此你通常不必担心数据类型和垃圾收集之类的事情。通常，这意味着你马上就可以开始编写代码，而不会像在 <a href="https://opensource.com/article/20/8/c-programming-cheat-sheet">C</a> 或 <a href="https://opensource.com/resources/java">Java</a> 那样的复杂编程语言面前遇到挫折。</p>
<p>为了帮助你学习 Python，我们编写了一本电子书，教你如何使用 Python 创建平台类视频游戏。在制作视频游戏的同时逐步通过课程学习 Python。另外一个好处是，你还将学习编程逻辑、语法、运算符等更多的内容。你可以在学习过程中立即看到结果，因此你学到的所有内容都会得到及时巩固。</p>
<h3>一分钟上手 Python</h3>
<p>Python 是一种用途广泛的编程语言，这意味着它（与大多数语言一样）提供了函数来对数字和字符做处理的“简单技巧”。Linux 操作系统用户已经安装了 Python。 Mac 操作系统用户使用的是较旧版本的 Python，但是你可以从 <a href="http://Python.org">Python.org</a> 网站 <a href="https://www.python.org/downloads/mac-osx">安装最新版本</a>。Windows 操作系统用户可以从这篇 <a href="https://opensource.com/article/19/8/how-install-python-windows">在 Windows 上安装 Python</a> 的文章中学习如何安装 Python。</p>
<p>安装完成后，你可以启动交互式 Python Shell 进行算术运算：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>python3
&gt;&gt;&gt;<span class="w"> </span><span class="m">5</span>+6
<span class="m">11</span>
&gt;&gt;&gt;<span class="w"> </span><span class="m">11</span>/2
<span class="m">5</span>.5
&gt;&gt;&gt;<span class="w"> </span><span class="m">11</span>//2
<span class="m">5</span>
&gt;&gt;&gt;<span class="w"> </span><span class="m">11</span>%2
<span class="m">1</span>
</code></pre></div>

<p>从该示例可以了解，需要一些特殊的符号，但学过数学的人都最熟悉不过了。也许你不喜欢数字，而更喜欢字母：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>python3
&gt;&gt;&gt;<span class="w"> </span><span class="nv">string</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;hello world&quot;</span>
&gt;&gt;&gt;<span class="w"> </span>print<span class="o">(</span>string<span class="o">)</span>
hello<span class="w"> </span>world
&gt;&gt;&gt;<span class="w"> </span>print<span class="o">(</span>string.upper<span class="o">())</span>
HELLO<span class="w"> </span>WORLD
&gt;&gt;&gt;<span class="w"> </span>print<span class="o">(</span>string<span class="o">[</span><span class="m">0</span><span class="o">])</span>
h
&gt;&gt;&gt;<span class="w"> </span>print<span class="o">(</span>string<span class="o">[</span><span class="m">1</span><span class="o">])</span>
e
&gt;&gt;&gt;<span class="w"> </span>print<span class="o">(</span>string<span class="o">[</span><span class="m">2</span><span class="o">])</span>
l
&gt;&gt;&gt;<span class="w"> </span>print<span class="o">(</span>string<span class="o">[</span><span class="m">3</span><span class="o">])</span>
l
&gt;&gt;&gt;<span class="w"> </span>print<span class="o">(</span>string<span class="o">[</span><span class="m">4</span><span class="o">])</span>
o
</code></pre></div>

<p>同样，相对地说基础的任务有特殊的符号表示法，但是即使没有说明，你也可能已经发现 <code>[0]</code> 和 <code>[1]</code> 符号表示法是将数据“切片”并且利用 <code>print</code> 函数将其中的数据显示在屏幕上。</p>
<h3>五分钟用上 Pygame</h3>
<p>如果你只想使用 Python 来创建一个视频游戏或任何超越基本计算的项目，这可能需要投入大量的学习、努力和时间。幸运的是，Python 诞生已有二十年了，开发者已经开发了代码库来帮助你（相对）轻松地完成典型的程序壮举。<a href="https://www.pygame.org/news">Pygame</a> 是一套用于创建视频游戏的代码模块。它 <a href="https://opensource.com/article/18/4/easy-2d-game-creation-python-and-arcade">不是唯一的这种类库</a>，但是它是最古老的（不论好坏），因此在线上有很多文档和示例。</p>
<p>首先学习 <a href="https://opensource.com/article/20/9/venv-python">推荐的 Python 虚拟环境工作流程</a>：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>python3<span class="w"> </span>-m<span class="w"> </span>venv<span class="w"> </span>mycode/venv
$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>mycode
$<span class="w"> </span><span class="nb">source</span><span class="w"> </span>./venv/bin/activate
<span class="o">(</span>venv<span class="o">)</span>$
</code></pre></div>

<p>进入虚拟环境后，可以安全地将 Pygame 安装到项目文件夹中：</p>
<div class="highlight"><pre><span></span><code><span class="p">(</span><span class="nx">venv</span><span class="p">)</span><span class="err">$</span><span class="w"> </span><span class="nx">echo</span><span class="w"> </span><span class="s">&quot;pygame&quot;</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="nx">requirements</span><span class="p">.</span><span class="nx">txt</span>
<span class="p">(</span><span class="nx">venv</span><span class="p">)</span><span class="err">$</span><span class="w"> </span><span class="nx">python</span><span class="w"> </span><span class="o">-</span><span class="nx">m</span><span class="w"> </span><span class="nx">pip</span><span class="w"> </span><span class="nx">install</span><span class="w"> </span><span class="o">-</span><span class="nx">r</span><span class="w"> </span><span class="nx">requirements</span><span class="p">.</span><span class="nx">txt</span>
<span class="p">[</span><span class="o">...</span><span class="p">]</span><span class="w"> </span><span class="nx">Installing</span><span class="w"> </span><span class="nx">collected</span><span class="w"> </span><span class="nx">packages</span><span class="p">:</span><span class="w"> </span><span class="nx">pygame</span>
<span class="nx">Successfully</span><span class="w"> </span><span class="nx">installed</span><span class="w"> </span><span class="nx">pygame</span><span class="o">-</span><span class="nx">x</span><span class="p">.</span><span class="nx">y</span><span class="p">.</span><span class="nx">z</span>
</code></pre></div>

<p>现在你已经安装了 Pygame，就可以创建一个简单的演示应用程序。它比你想象的要容易。Python 可以进行所谓的面向对象编程（OOP），这是一个漂亮的计算机科学术语，用于描述当代码结构化时，就像你在使用代码创建物理对象一样。然而，程序员并没有受到迷惑。他们知道在编写代码时并不是真的在制造物理对象，但是这样有助于想象，因为这样你就可以了解编程世界的局限性。</p>
<p>例如，如果你被困在一个荒岛上并想要一杯咖啡，那么你就必须收集一些黏土，做一个杯子，然后烘烤它。如果你足够聪明，先创建一个模具，以便每当需要另一个杯子时，都可以从模板中快速创建一个新杯子。即使每个杯子都来自相同的模板，它们在物理上也是独立的：如果一个杯子破裂，你还会有另一个杯子。你可以通过添加颜色或蚀刻使每个咖啡杯显得独一无二。</p>
<p>在 Pygame 和许多编程任务中，你都会使用类似的逻辑。在定义之前，它不会出现在你的编程项目中。下面是如何在 Python 和 Pygame 程序中让咖啡杯出现。</p>
<h4>使用 Pygame 进行面向对象编程</h4>
<p>创建一个名为 <code>main.py</code> 的文件，并输入以下代码用以启动 Pygame 模块，并使用 Pygame 模板创建一个窗口：</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">pygame</span>

<span class="n">pygame</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>

<span class="n">screen</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">set_mode</span><span class="p">((</span><span class="mi">960</span><span class="p">,</span><span class="mi">720</span><span class="p">))</span>
</code></pre></div>

<p>就像你可能在现实生活中使用模板来创建对象一样，你也可以使用 Pygame 提供的模板来创建一个<ruby> 妖精 <rt>  sprite </rt></ruby>（这是 Pygame 的视觉游戏对象术语）。在面向对象的编程中，<code>class</code> 表示对象的模板。在你的文档中输入以下代码：</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="n">Cup</span><span class="p">(</span><span class="n">pygame</span><span class="o">.</span><span class="n">sprite</span><span class="o">.</span><span class="n">Sprite</span><span class="p">):</span>
<span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="n">pygame</span><span class="o">.</span><span class="n">sprite</span><span class="o">.</span><span class="n">Sprite</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

<span class="w">        </span><span class="c1"># image</span>
<span class="w">        </span><span class="n">img</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pygame</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;coffeecup.png&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">convert</span><span class="p">()</span>
<span class="w">        </span><span class="bp">self</span><span class="o">.</span><span class="n">image</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">img</span>

<span class="w">        </span><span class="c1"># volume</span>
<span class="w">        </span><span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">self</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">get_rect</span><span class="p">()</span>
<span class="w">        </span><span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span>
<span class="w">        </span><span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span>
</code></pre></div>

<p>该代码块使用 Pygame 的 <code>sprite</code> 模板设计一个咖啡杯子妖精。由于 <code>self.image</code> 的存在，你的咖啡杯妖精有一个图像，而 <code>self.rect</code> 则赋予了它体积（宽度和高度）。这些是 Pygame 期望妖精拥有的属性，但是如果你要创建一个可玩的视频游戏，则可以为其指定任何其他所需的属性，例如健康点和得分。</p>
<p>到目前为止，你所要做的就是创建一个窗口和一个用于咖啡杯的 <em>模板</em> 。你的游戏实际上还没有一个杯子。</p>
<p>你的代码的最后一部分必须使用模板来生成杯子并将其添加到游戏世界中。如你所知，计算机运行速度非常快，因此从技术上讲，你到目前为止创建的代码只会运行一毫秒左右。编写图形计算机应用程序时，无论计算机是否认为已完成规定的任务，都必须强制其保持打开状态。程序员使用 <em>无限循环</em> 来执行此操作，该循环在 Python 中由 <code>while True</code> 语句表示（<code>True</code> 始终为真，因此循环永远不会结束）。</p>
<p>无限循环可以确保你的应用程序保持打开状态足够长的时间，以使计算机用户可以查看和使用该应用程序：</p>
<div class="highlight"><pre><span></span><code><span class="nv">cup</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Cup</span><span class="ss">()</span>

<span class="k">while</span><span class="w"> </span><span class="nv">True</span>:
<span class="w">    </span><span class="nv">pygame</span>.<span class="nv">display</span>.<span class="nv">update</span><span class="ss">()</span>
<span class="w">    </span><span class="nv">screen</span>.<span class="nv">blit</span><span class="ss">(</span><span class="nv">cup</span>.<span class="nv">image</span>,<span class="w"> </span><span class="nv">cup</span>.<span class="nv">rect</span><span class="ss">)</span>
</code></pre></div>

<p>此代码示例从模板 <code>Cup</code> 创建杯子，然后使用 Pygame 函数更新显示。最后，使用 Pygame 的 <code>blit</code> 函数在其边框内绘制杯子的图像。</p>
<h4>获取图形</h4>
<p>在成功运行代码之前，你需要为咖啡杯准备一个图形。你可以在 <a href="http://freesvg.org">FreeSVG.org</a> 上找到许多 <a href="https://opensource.com/article/20/1/what-creative-commons">公用创作</a> 咖啡杯图形。我用了 <a href="https://freesvg.org/1548870028">这个</a>。将图形保存在项目目录中，并将其命名为 <code>coffeecup.png</code>。</p>
<h4>运行游戏</h4>
<p>启动应用程序：</p>
<div class="highlight"><pre><span></span><code>(venv)$ python ./main.py
</code></pre></div>

<p><img alt="Pygame 中的咖啡杯" src="/data/attachment/album/202101/18/234540gzv0v0uevzv0tte0.jpg" title="Coffee cup in Pygame"></p>
<ul>
<li><a href="https://opensource.com/downloads/python-gaming-ebook">下载 Python 游戏电子书</a></li>
</ul>
<p>Pygame 是一个功能强大的框架，除了在屏幕上绘制咖啡杯之外，你还可以做更多的事情。<a href="https://opensource.com/downloads/python-gaming-ebook">下载我们的免费电子书</a> 更好地了解 Pygame 和 Python。</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>