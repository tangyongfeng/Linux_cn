<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>Git 入门：术语基础</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Author: Matthew Broberg 想学习 Git？看看这个最重要的术语和命令的快速总结。 如今，对于任何希望跟踪他们的变化的人来说，版本控制是一 …" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">linux_cn</a></h1>
                <nav><ul>
                    <li><a href="/category/chuan-shan-jia-zhuan-fang">穿山甲专访</a></li>
                    <li><a href="/category/dai-ma-ying-xiong">代码英雄</a></li>
                    <li><a href="/category/fen-xiang">分享</a></li>
                    <li><a href="/category/guan-dian">观点</a></li>
                    <li><a href="/category/huo-dong">活动</a></li>
                    <li><a href="/category/ji-ke-man-hua">极客漫画</a></li>
                    <li><a href="/category/ji-zhu">技术</a></li>
                    <li><a href="/category/kai-yuan-zhi-hui">开源智慧</a></li>
                    <li><a href="/category/linux-fa-xing-ban">Linux 发行版</a></li>
                    <li><a href="/category/mei-ri-an-quan-zi-xun">每日安全资讯</a></li>
                    <li><a href="/category/misc">Misc</a></li>
                    <li><a href="/category/qu-kuai-lian">区块链</a></li>
                    <li><a href="/category/rong-qi-yu-yun">容器与云</a></li>
                    <li class="active"><a href="/category/ruan-jian-kai-fa">软件开发</a></li>
                    <li><a href="/category/shu-mei-pai">树莓派</a></li>
                    <li><a href="/category/xi-tong-yun-wei">系统运维</a></li>
                    <li><a href="/category/xin-wen">新闻</a></li>
                    <li><a href="/category/ying-he-guan-cha">硬核观察</a></li>
                    <li><a href="/category/zhi-ye-sheng-ya">职业生涯</a></li>
                    <li><a href="/category/zhong-jiang-ming-dan">中奖名单</a></li>
                    <li><a href="/category/zhuo-mian-ying-yong">桌面应用</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2021/01/git-ru-men-zhu-yu-ji-chu.html" rel="bookmark"
           title="Permalink to Git 入门：术语基础">Git 入门：术语基础</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2021-01-08T17:12:05+01:00">
                Published: Fri 08 January 2021
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/linux-fans-from-china.html">linux fans from china</a>
        </address>
<p>In <a href="/category/ruan-jian-kai-fa">软件开发</a>.</p>

</footer><!-- /.post-info -->      <p>Author: Matthew Broberg</p>
<blockquote>
<p>想学习 Git？看看这个最重要的术语和命令的快速总结。</p>
</blockquote>
<p><img alt="" src="/data/attachment/album/202101/08/171156gu9l8dvulxmxom6d.jpg" title="Digital hand surrounding by objects, bike, light bulb, graphs"></p>
<p>如今，对于任何希望跟踪他们的变化的人来说，版本控制是一个重要的工具。它对程序员、系统管理员和<ruby> 网站可靠性工程师 <rt>  site reliability engineers </rt></ruby>（SRE）都特别有用。确保可以从错误中恢复到已知的良好状态是一个巨大的胜利，比以前给复制的文件添加 <code>.old</code> 后缀的策略更友好。</p>
<p>但学习 Git 这件事往往被告诉大家“投身开源”的好心同行们过度简化了。在你还不明白之前，就有人要你给一个从<ruby> 上游 <rt>  upstream </rt></ruby> <ruby> 变基 <rt>  rebase </rt></ruby>的<ruby> 拉取请求 <rt>  pull request </rt></ruby>（PR）或<ruby> 合并请求 <rt>  merge request </rt></ruby>（MR），然后他们才能从你的<ruby> 远程版本库 <rt>  remote </rt></ruby>合并 —— 而且一定会删除<ruby> 合并提交 <rt>  merge commits </rt></ruby>。无论你想给开源项目做出什么好的贡献，当你看到这些你不认识的单词时，都会觉得难以融入。</p>
<p><img alt="Git 速查表封面图" src="/data/attachment/album/202101/08/171207av0lvu3z688ubg8l.jpg" title="Git Cheat Sheet cover image"></p>
<ul>
<li><a href="https://opensource.com/downloads/cheat-sheet-git">下载</a> 我们的 Git 速查表。</li>
</ul>
<p>如果你有一两个月的时间和足够的好奇心，<a href="https://git-scm.com/about">Git SCM</a> 是你需要学习所有术语的权威来源。但如果你正在寻找来自实践的总结，请继续阅读。</p>
<h3>提交就是提醒</h3>
<p>对我来说，Git 最难理解的部分是 Git 最简单的概念：一个<ruby> 提交 <rt>  commit </rt></ruby>就是一个内容的集合，包括一个关于描述的信息，以及之前的提交。没有固有的代码发布策略，甚至没有内置的明确建议。这个内容甚至不一定是代码 —— 可以是<em>任何</em>你想添加到版本库的东西。<ruby> 提交消息 <rt>  commit message </rt></ruby>会对这些内容进行注释。</p>
<p>我喜欢把提交信息看作是给未来的自己的礼物：它可能会提到你编辑的文件，但更重要的是它提醒你修改这些文件的意图。添加更多关于你为什么编辑这些内容的信息，可以帮助任何使用你的版本库的人，即使那个人是你。</p>
<h3>origin/master 在哪里？</h3>
<p>要知道自己在 Git 项目中的位置，首先把它想成一棵树。所有 Git 项目都有一个根目录，类似于文件系统的根目录。所有的提交都是这个根目录下的分支。这样一来，分支只是一个提交的指针。按照惯例，<code>master</code> 是根目录下默认的分支名称。（LCTT 译注：世界变得快，原文发表于 2019 年，而现在有些地方开始用 <code>main</code> 替代这个名字。）</p>
<p>由于 Git 是一个分布式的版本控制系统，同一个代码库分布在多个地方，所以人们经常用<ruby> 版本库 <rt>  repository </rt></ruby>这个词来表示同一个项目的所有副本。（LCTT 译注：“repository” 英文原意是仓库、存储库，在计算机环境中，常用于版本控制、软件分发等方面，有时候会统一译作“仓库”、“存储库”。但我们认为，应该根据不同语境采用更有指向性的译法。在 Git 等版本控制语境中，采用“版本库”；在软件分发方面，采用“软件库”；其它泛指或不确定的语境中，可采用“仓库”、“存储库”译法。）有<ruby> 本地版本库 <rt>  local repository </rt></ruby>，这是你编辑代码的地方（稍后会有更多的介绍），还有<ruby> 远程版本库 <rt>  remote repository </rt></ruby>，这是你完成后想把代码发送到的地方。远程版本库可以在任何地方，甚至在你的本地版本库所在的同一台计算机上，但它们通常托管在 GitLab 或 GitHub 等版本库服务上。</p>
<h3>我在哪里？</h3>
<p>虽然不是官方的卖点，但迷路也是 Git 仓库的“乐趣”之一。你可以通过这套可靠的命令来找到自己的方向：</p>
<ul>
<li><code>git branch</code> —— 找到你所在的分支。</li>
<li><code>git log</code> —— 查看你正在进行的提交。</li>
<li><code>git status</code> —— 查看自上次提交以来你所做的编辑。</li>
<li><code>git remote</code> —— 查看你正在跟踪的远程仓库。</li>
</ul>
<p>用这些命令来定位自己的方向，当你被卡住的时候，会让你有一种方向感。</p>
<h3>我是否已将我的提交暂存或缓存起来？</h3>
<p>你电脑上的代码俗称为你的<ruby> 工作空间 <rt>  workspace </rt></ruby>。但不是很明显的是，当你在 Git 仓库中时，你还有两个（是的，两个！）其他位置：<ruby> 索引 <rt>  index </rt></ruby>和<ruby> 暂存 <rt>  stash </rt></ruby>。当你写了一些内容，然后<strong>添加</strong>时，你是把它添加到索引中，也就是准备提交的缓存内容。有的时候，你的索引中的文件还没有准备好提交，但你想查看另一个分支。这时，暂存就派上用场了。你可以使用 <code>git stash</code> 将索引了但尚未提交的文件存储到暂存区中。当你准备好取回文件时，运行 <code>git stash pop</code> 将更改带回索引中。</p>
<p>下面是一些你需要使用暂存区和缓存区的命令：</p>
<ul>
<li><code>git diff ...origin/master</code> —— 显示最近的本地提交和远程的 <code>origin</code> 版本库的 <code>master</code> 分支之间的差异。</li>
<li><code>git diff --cached</code> —— 显示最近的本地提交与添加到本地索引的内容之间的任何差异。</li>
<li><code>git stash</code> —— 将索引的（已添加但未提交的）文件放在暂存区堆栈中。</li>
<li><code>git stash list</code> —— 显示暂存区堆栈中的变化。</li>
<li><code>git stash pop</code> —— 将最近的变化从暂存库中删除。</li>
</ul>
<h3>无头骑士</h3>
<p>Git 里面有各种比喻。当我想到 <code>HEAD</code> 是哪里的时候，我就会想到火车线路。如果你最终处于<ruby> 脱离的 HEAD <rt>  detached HEAD </rt></ruby>模式，就意味着你已经脱离了这个隐喻的轨道。</p>
<p><code>HEAD</code> 是指向当前签出分支中最近一次提交的指针。默认的“签出checkout”是指当你创建一个 Git 仓库并进入到 <code>master</code> 分支的时候。每次创建或修改到另一个分支时，你都会切换到该分支行。如果你在当前分支的某处进行 <code>git checkout &lt;commit&gt;</code>，<code>HEAD</code> 就会移动到该提交。如果没有提交历史记录将你的当前提交连接到已签出的提交，那么你将处于脱离的 <code>HEAD</code> 状态。如果你找不到 <code>HEAD</code> 的位置，你可以随时用 <code>git reset --hard origin/master</code> 来删除修改，回到已知状态。<em>警告：这将删除你上次推送到 <code>master</code> 后的任何改动。</em></p>
<h3>你是上游还是下游？</h3>
<p>你的项目的本地副本被认为是你的本地版本库，它可能有也可能没有远程版本库 —— 远程版本库的副本是用于协作或保存的。也可能还有一个<ruby> 上游 <rt>  upstream </rt></ruby>版本库，在那里，项目的第三个副本由不同的贡献者托管和维护。</p>
<p>例如，假设我想为 Kubernetes 做贡献。我会首先将 <code>kubernetes/kubernetes</code> 项目<ruby> 复刻 <rt>  fork </rt></ruby>到我的账户下 <code>mbbroberg/kubernetes</code>。然后我会将我的项目克隆到我的本地工作区。在这种情况下，我的本地克隆是我的本地仓库，<code>mbbroberg/kubernetes</code> 是我的远程仓库，<code>kubernetes/kubernetes</code> 是上游。</p>
<h3>合并的隐喻</h3>
<p>当你深入 Git 分支时，根系统的视觉效果就会和火车轨道的形象合二为一。分支通常被用作开发一个新功能的方式，最终你想把它<ruby> 合并 <rt>  merge </rt></ruby>到主分支中。当这样做时，Git 会按顺序保留共同的提交历史，然后将你的分支的新提交追加到历史中。这个过程有一大堆的细节：是否<ruby> 变基 <rt>  rebase </rt></ruby>，是否添加一个<ruby> 合并提交 <rt>  merge commit </rt></ruby>，<a href="https://opensource.com/users/bclaster">Brent Laster</a> 在《<a href="https://opensource.com/article/18/6/git-reset-revert-rebase-commands">如何在 Git 中重置、恢复和返回之前的状态</a>》中会有更详细的探讨。</p>
<h3>我想现在就去 Git</h3>
<p>要掌握 Git 命令的世界，有大量的术语和需要探索的地方。我希望这篇关于日常使用术语的第一人称探索能帮助你适应这一切。如果你觉得自己被卡住了或者遇到了挫折，欢迎在 Twitter <a href="https://twitter.com/mbbroberg">@mbbroberg</a> 上联系我。</p>
<h4>回顾</h4>
<ul>
<li><ruby> 提交 <rt>  Commit </rt></ruby> —— 将当前索引的内容保存在一个新的提交中，并附上用户描述更改的日志信息。</li>
<li><ruby> 分支 <rt>  Branch </rt></ruby> —— 指向一个提交的指针。</li>
<li><code>master</code> —— 第一个分支的默认名称。</li>
<li><code>HEAD</code> —— 指向当前分支上最近一次提交的指针。</li>
<li><ruby> 合并 <rt>  Merge </rt></ruby> —— 合并两个或多个提交的历史。</li>
<li><ruby> 工作空间 <rt>  Workspace </rt></ruby> —— Git 仓库本地副本的通俗名称。</li>
<li><ruby> 工作树 <rt>  Working tree </rt></ruby> —— 工作区中的当前分支；任何时候你都可以在 <code>git status</code> 的输出中看到这个。</li>
<li><ruby> 缓存 <rt>  Cache </rt></ruby> —— 用于临时存储未提交的变更的空间。</li>
<li><ruby> 索引 <rt>  Index </rt></ruby> —— 变更提交前存储其变化的缓存。</li>
<li>跟踪和未跟踪的文件 —— 没有被索引缓存的文件或尚未加入其中的文件。</li>
<li><ruby> 暂存 <rt>  Stash </rt></ruby> —— 另一个缓存，作为一个堆栈，在这里可以存储更改而不需要提交它们。</li>
<li><code>origin</code> —— 远程版本库的默认名称。</li>
<li><ruby> 本地仓库 <rt>  Local repository </rt></ruby> —— 也就是你在工作站上保存 Git 仓库副本的地方。</li>
<li><ruby> 远程存储库 <rt>  Remote repository </rt></ruby> —— Git 存储库的第二副本，你可以在这里推送变更以便协作或备份。</li>
<li><ruby> 上游存储库 <rt>  Upstream repository </rt></ruby> —— 你跟踪的远程存储库的通俗说法。</li>
<li><ruby> 拉取请求 <rt>  Pull request </rt></ruby> —— 这是 GitHub 的专用术语，用于让其他人知道你推送到仓库分支的变化。</li>
<li><ruby> 合并请求 <rt>  Merge request </rt></ruby> —— 这是 GitLab 的专用术语，用于让其他人知道你推送到仓库分支的变化。</li>
<li><code>origin/master</code> —— 远程版本库及其主要分支的默认名称。</li>
</ul>
<p>后记：双关语是 Git 最好的部分之一，愿你喜欢。</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>