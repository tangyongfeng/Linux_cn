<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>使用 OpenSSL 加密和解密文件</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Author: Gaurav Kamathe OpenSSL 是一个实用工具，它可以确保其他人员无法打开你的敏感和机密消息。 加密是对消息进行编码的一种方法，这样 …" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">linux_cn</a></h1>
                <nav><ul>
                    <li><a href="/category/chuan-shan-jia-zhuan-fang">穿山甲专访</a></li>
                    <li><a href="/category/dai-ma-ying-xiong">代码英雄</a></li>
                    <li><a href="/category/fen-xiang">分享</a></li>
                    <li><a href="/category/guan-dian">观点</a></li>
                    <li><a href="/category/huo-dong">活动</a></li>
                    <li><a href="/category/ji-ke-man-hua">极客漫画</a></li>
                    <li class="active"><a href="/category/ji-zhu">技术</a></li>
                    <li><a href="/category/kai-yuan-zhi-hui">开源智慧</a></li>
                    <li><a href="/category/linux-fa-xing-ban">Linux 发行版</a></li>
                    <li><a href="/category/mei-ri-an-quan-zi-xun">每日安全资讯</a></li>
                    <li><a href="/category/misc">Misc</a></li>
                    <li><a href="/category/qu-kuai-lian">区块链</a></li>
                    <li><a href="/category/rong-qi-yu-yun">容器与云</a></li>
                    <li><a href="/category/ruan-jian-kai-fa">软件开发</a></li>
                    <li><a href="/category/shu-mei-pai">树莓派</a></li>
                    <li><a href="/category/xi-tong-yun-wei">系统运维</a></li>
                    <li><a href="/category/xin-wen">新闻</a></li>
                    <li><a href="/category/ying-he-guan-cha">硬核观察</a></li>
                    <li><a href="/category/zhi-ye-sheng-ya">职业生涯</a></li>
                    <li><a href="/category/zhong-jiang-ming-dan">中奖名单</a></li>
                    <li><a href="/category/zhuo-mian-ying-yong">桌面应用</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2021/05/shi-yong-openssl-jia-mi-he-jie-mi-wen-jian.html" rel="bookmark"
           title="Permalink to 使用 OpenSSL 加密和解密文件">使用 OpenSSL 加密和解密文件</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2021-05-07T16:38:38+02:00">
                Published: Fri 07 May 2021
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/linux-fans-from-china.html">linux fans from china</a>
        </address>
<p>In <a href="/category/ji-zhu">技术</a>.</p>

</footer><!-- /.post-info -->      <p>Author: Gaurav Kamathe</p>
<blockquote>
<p>OpenSSL 是一个实用工具，它可以确保其他人员无法打开你的敏感和机密消息。</p>
</blockquote>
<p><img alt="" src="/data/attachment/album/202105/07/163825a9yh74h9yh4h77y2.jpg" title="A secure lock."></p>
<p>加密是对消息进行编码的一种方法，这样可以保护消息的内容免遭他人窥视。一般有两种类型：</p>
<ol>
<li>密钥加密或对称加密</li>
<li>公钥加密或非对称加密</li>
</ol>
<p><ruby> 密钥加密 <rt>  secret-key encryption </rt></ruby>使用相同的密钥进行加密和解密，而<ruby> 公钥加密 <rt>  public-key encryption </rt></ruby>使用不同的密钥进行加密和解密。每种方法各有利弊。密钥加密速度更快，而公钥加密更安全，因为它解决了安全共享密钥的问题，将它们结合在一起可以最大限度地利用每种类型的优势。</p>
<h3>公钥加密</h3>
<p>公钥加密使用两组密钥，称为密钥对。一个是公钥，可以与你想要秘密通信的任何人自由共享。另一个是私钥，应该是一个秘密，永远不会共享。</p>
<p>公钥用于加密。如果某人想与你交流敏感信息，你可以将你的公钥发送给他们，他们可以使用公钥加密消息或文件，然后再将其发送给你。私钥用于解密。解密发件人加密的消息的唯一方法是使用私钥。因此，它们被称为“密钥对”，它们是相互关联的。</p>
<h3>如何使用 OpenSSL 加密文件</h3>
<p><a href="https://www.openssl.org/">OpenSSL</a> 是一个了不起的工具，可以执行各种任务，例如加密文件。本文使用安装了 OpenSSL 的 Fedora 计算机。如果你的机器上没有，则可以使用软件包管理器进行安装：</p>
<div class="highlight"><pre><span></span><code><span class="nv">alice</span><span class="w"> </span><span class="p">$</span><span class="w"> </span><span class="nv">cat</span><span class="w"> </span><span class="o">/</span><span class="nv">etc</span><span class="o">/</span><span class="nv">fedora</span><span class="o">-</span><span class="nv">release</span>
<span class="nv">Fedora</span><span class="w"> </span><span class="nv">release</span><span class="w"> </span><span class="mi">33</span><span class="w"> </span><span class="p">(</span><span class="nv">Thirty</span><span class="w"> </span><span class="nv">Three</span><span class="p">)</span>
<span class="nv">alice</span><span class="w"> </span><span class="p">$</span>
<span class="nv">alice</span><span class="w"> </span><span class="p">$</span><span class="w"> </span><span class="nv">openssl</span><span class="w"> </span><span class="nv">version</span>
<span class="nv">OpenSSL</span><span class="w"> </span><span class="mf">1.1</span><span class="o">.</span><span class="mi">1</span><span class="nv">i</span><span class="w"> </span><span class="nv">FIPS</span><span class="w">  </span><span class="mi">8</span><span class="w"> </span><span class="nv">Dec</span><span class="w"> </span><span class="mi">2020</span>
<span class="nv">alice</span><span class="w"> </span><span class="p">$</span>
</code></pre></div>

<p>要探索文件加密和解密，假如有两个用户 Alice 和 Bob，他们想通过使用 OpenSSL 交换加密文件来相互通信。</p>
<h4>步骤 1：生成密钥对</h4>
<p>在加密文件之前，你需要生成密钥对。你还需要一个<ruby> 密码短语 <rt>  passphrase </rt></ruby>，每当你使用 OpenSSL 时都必须使用该密码短语，因此务必记住它。</p>
<p>Alice 使用以下命令生成她的一组密钥对：</p>
<div class="highlight"><pre><span></span><code>alice $ openssl genrsa -aes128 -out alice_private.pem 1024
</code></pre></div>

<p>此命令使用 OpenSSL 的 <a href="https://www.openssl.org/docs/man1.0.2/man1/genrsa.html">genrsa</a> 命令生成一个 1024 位的公钥/私钥对。这是可以的，因为 RSA 算法是不对称的。它还使用了 aes128 对称密钥算法来加密 Alice 生成的私钥。</p>
<p>输入命令后，OpenSSL 会提示 Alice 输入密码，每次使用密钥时，她都必须输入该密码：</p>
<div class="highlight"><pre><span></span><code><span class="nv">alice</span><span class="w"> </span><span class="p">$</span><span class="w"> </span><span class="nv">openssl</span><span class="w"> </span><span class="nv">genrsa</span><span class="w"> </span><span class="o">-</span><span class="nv">aes128</span><span class="w"> </span><span class="o">-</span><span class="nv">out</span><span class="w"> </span><span class="nv">alice_private</span><span class="o">.</span><span class="nv">pem</span><span class="w"> </span><span class="mi">1024</span>
<span class="nv">Generating</span><span class="w"> </span><span class="nv">RSA</span><span class="w"> </span><span class="nv">private</span><span class="w"> </span><span class="nv">key</span><span class="p">,</span><span class="w"> </span><span class="mi">1024</span><span class="w"> </span><span class="nv">bit</span><span class="w"> </span><span class="nv">long</span><span class="w"> </span><span class="nf">modulus</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="w"> </span><span class="nv">primes</span><span class="p">)</span>
<span class="o">..........+++++</span>
<span class="o">..................................+++++</span>
<span class="nv">e</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="mi">65537</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="nv">x010001</span><span class="p">)</span>
<span class="nv">Enter</span><span class="w"> </span><span class="nv">pass</span><span class="w"> </span><span class="nv">phrase</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">alice_private</span><span class="o">.</span><span class="nv">pem</span><span class="o">:</span>
<span class="nv">Verifying</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nv">Enter</span><span class="w"> </span><span class="nv">pass</span><span class="w"> </span><span class="nv">phrase</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">alice_private</span><span class="o">.</span><span class="nv">pem</span><span class="o">:</span>
<span class="nv">alice</span><span class="w"> </span><span class="p">$</span>
<span class="nv">alice</span><span class="w"> </span><span class="p">$</span>
<span class="nv">alice</span><span class="w"> </span><span class="p">$</span><span class="w"> </span><span class="nv">ls</span><span class="w"> </span><span class="o">-</span><span class="nv">l</span><span class="w"> </span><span class="nv">alice_private</span><span class="o">.</span><span class="nv">pem</span>
<span class="o">-</span><span class="nv">rw</span><span class="o">-------.</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="nv">alice</span><span class="w"> </span><span class="nv">alice</span><span class="w"> </span><span class="mi">966</span><span class="w"> </span><span class="nv">Mar</span><span class="w"> </span><span class="mi">22</span><span class="w"> </span><span class="mi">17</span><span class="o">:</span><span class="mi">44</span><span class="w"> </span><span class="nv">alice_private</span><span class="o">.</span><span class="nv">pem</span>
<span class="nv">alice</span><span class="w"> </span><span class="p">$</span>
<span class="nv">alice</span><span class="w"> </span><span class="p">$</span><span class="w"> </span><span class="nv">file</span><span class="w"> </span><span class="nv">alice_private</span><span class="o">.</span><span class="nv">pem</span>
<span class="nv">alice_private</span><span class="o">.</span><span class="nv">pem</span><span class="o">:</span><span class="w"> </span><span class="nv">PEM</span><span class="w"> </span><span class="nv">RSA</span><span class="w"> </span><span class="nv">private</span><span class="w"> </span><span class="nv">key</span>
<span class="nv">alice</span><span class="w"> </span><span class="p">$</span>
</code></pre></div>

<p>Bob 使用相同的步骤来创建他的密钥对：</p>
<div class="highlight"><pre><span></span><code><span class="nv">bob</span><span class="w"> </span><span class="p">$</span><span class="w"> </span><span class="nv">openssl</span><span class="w"> </span><span class="nv">genrsa</span><span class="w"> </span><span class="o">-</span><span class="nv">aes128</span><span class="w"> </span><span class="o">-</span><span class="nv">out</span><span class="w"> </span><span class="nv">bob_private</span><span class="o">.</span><span class="nv">pem</span><span class="w"> </span><span class="mi">1024</span>
<span class="nv">Generating</span><span class="w"> </span><span class="nv">RSA</span><span class="w"> </span><span class="nv">private</span><span class="w"> </span><span class="nv">key</span><span class="p">,</span><span class="w"> </span><span class="mi">1024</span><span class="w"> </span><span class="nv">bit</span><span class="w"> </span><span class="nv">long</span><span class="w"> </span><span class="nf">modulus</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="w"> </span><span class="nv">primes</span><span class="p">)</span>
<span class="o">..................+++++</span>
<span class="o">............................+++++</span>
<span class="nv">e</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="mi">65537</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="nv">x010001</span><span class="p">)</span>
<span class="nv">Enter</span><span class="w"> </span><span class="nv">pass</span><span class="w"> </span><span class="nv">phrase</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">bob_private</span><span class="o">.</span><span class="nv">pem</span><span class="o">:</span>
<span class="nv">Verifying</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nv">Enter</span><span class="w"> </span><span class="nv">pass</span><span class="w"> </span><span class="nv">phrase</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">bob_private</span><span class="o">.</span><span class="nv">pem</span><span class="o">:</span>
<span class="nv">bob</span><span class="w"> </span><span class="p">$</span>
<span class="nv">bob</span><span class="w"> </span><span class="p">$</span><span class="w"> </span><span class="nv">ls</span><span class="w"> </span><span class="o">-</span><span class="nv">l</span><span class="w"> </span><span class="nv">bob_private</span><span class="o">.</span><span class="nv">pem</span>
<span class="o">-</span><span class="nv">rw</span><span class="o">-------.</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="nv">bob</span><span class="w"> </span><span class="nv">bob</span><span class="w"> </span><span class="mi">986</span><span class="w"> </span><span class="nv">Mar</span><span class="w"> </span><span class="mi">22</span><span class="w"> </span><span class="mi">13</span><span class="o">:</span><span class="mi">48</span><span class="w"> </span><span class="nv">bob_private</span><span class="o">.</span><span class="nv">pem</span>
<span class="nv">bob</span><span class="w"> </span><span class="p">$</span>
<span class="nv">bob</span><span class="w"> </span><span class="p">$</span><span class="w"> </span><span class="nv">file</span><span class="w"> </span><span class="nv">bob_private</span><span class="o">.</span><span class="nv">pem</span>
<span class="nv">bob_private</span><span class="o">.</span><span class="nv">pem</span><span class="o">:</span><span class="w"> </span><span class="nv">PEM</span><span class="w"> </span><span class="nv">RSA</span><span class="w"> </span><span class="nv">private</span><span class="w"> </span><span class="nv">key</span>
<span class="nv">bob</span><span class="w"> </span><span class="p">$</span>
</code></pre></div>

<p>如果你对密钥文件感到好奇，可以打开命令生成的 .pem 文件，但是你会看到屏幕上的一堆文本：</p>
<div class="highlight"><pre><span></span><code><span class="nv">alice</span><span class="w"> </span><span class="p">$</span><span class="w"> </span><span class="nv">head</span><span class="w"> </span><span class="nv">alice_private</span><span class="o">.</span><span class="nv">pem</span>
<span class="o">-----</span><span class="nv">BEGIN</span><span class="w"> </span><span class="nv">RSA</span><span class="w"> </span><span class="nv">PRIVATE</span><span class="w"> </span><span class="nv">KEY</span><span class="o">-----</span>
<span class="nv">Proc</span><span class="o">-</span><span class="nv">Type</span><span class="o">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="nv">ENCRYPTED</span>
<span class="nv">DEK</span><span class="o">-</span><span class="nv">Info</span><span class="o">:</span><span class="w"> </span><span class="nv">AES</span><span class="o">-</span><span class="mi">128</span><span class="o">-</span><span class="nv">CBC</span><span class="p">,</span><span class="nv">E26FAC1F143A30632203F09C259200B9</span>

<span class="nv">pdKj8Gm5eeAOF0RHzBx8l1tjmA1HSSvy0RF42bOeb7sEVZtJ6pMnrJ26ouwTQnkL</span>
<span class="nv">JJjUVPPHoKZ7j4QpwzbPGrz</span><span class="o">/</span><span class="nv">hVeMXVT</span><span class="o">/</span><span class="nv">y33ZEEA</span><span class="o">+</span><span class="mi">3</span><span class="nv">nrobwisLKz</span><span class="o">+</span><span class="nv">Q</span><span class="o">+</span><span class="nv">C9TVJU3m7M</span>
<span class="o">/</span><span class="nv">veiBO9xHMGV01YBNeic7MqXBkhIrNZW6pPRfrbjsBMBGSsL8nwJbb3wvHhzPkeM</span>
<span class="nv">e</span><span class="o">+</span><span class="nv">wtt9S5PWhcnGMj3T</span><span class="o">+</span><span class="mi">2</span><span class="nv">mtFfW6HWpd8Kdp60z7Nh5mhA9</span><span class="o">+</span><span class="mi">5</span><span class="nv">aDWREfJhJYzl1zfcv</span>
<span class="nv">Bmxjf2wZ3sFJNty</span><span class="o">+</span><span class="nv">sQVajYfk6UXMyJIuWgAjnqjw6c3vxQi0KE3NUNZYO93GQgEF</span>
<span class="nv">pyAnN9uGUTBCDYeTwdw8TEzkyaL08FkzLfFbS2N9BDksA3rpI1cxpxRVFr9</span><span class="o">+</span><span class="nv">jDBz</span>
<span class="nv">alice</span><span class="w"> </span><span class="p">$</span>
</code></pre></div>

<p>要查看密钥的详细信息，可以使用以下 OpenSSL 命令打开 .pem 文件并显示内容。你可能想知道在哪里可以找到另一个配对的密钥，因为这是单个文件。你观察的很细致，获取公钥的方法如下：</p>
<div class="highlight"><pre><span></span><code><span class="nv">alice</span><span class="w"> </span><span class="p">$</span><span class="w"> </span><span class="nv">openssl</span><span class="w"> </span><span class="nv">rsa</span><span class="w"> </span><span class="o">-</span><span class="nv">in</span><span class="w"> </span><span class="nv">alice_private</span><span class="o">.</span><span class="nv">pem</span><span class="w"> </span><span class="o">-</span><span class="nv">noout</span><span class="w"> </span><span class="o">-</span><span class="nv">text</span>
<span class="nv">Enter</span><span class="w"> </span><span class="nv">pass</span><span class="w"> </span><span class="nv">phrase</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">alice_private</span><span class="o">.</span><span class="nv">pem</span><span class="o">:</span>
<span class="nv">RSA</span><span class="w"> </span><span class="nv">Private</span><span class="o">-</span><span class="nv">Key</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="mi">1024</span><span class="w"> </span><span class="nv">bit</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="nv">primes</span><span class="p">)</span>
<span class="nv">modulus</span><span class="o">:</span>
<span class="w">    </span><span class="mi">00</span><span class="o">:</span><span class="nv">bd</span><span class="o">:</span><span class="nv">e8</span><span class="o">:</span><span class="mi">61</span><span class="o">:</span><span class="mi">72</span><span class="o">:</span><span class="nv">f8</span><span class="o">:</span><span class="nv">f6</span><span class="o">:</span><span class="nv">c8</span><span class="o">:</span><span class="nv">f2</span><span class="o">:</span><span class="nv">cc</span><span class="o">:</span><span class="mi">05</span><span class="o">:</span><span class="nv">fa</span><span class="o">:</span><span class="mi">07</span><span class="o">:</span><span class="nv">aa</span><span class="o">:</span><span class="mi">99</span><span class="o">:</span>
<span class="w">    </span><span class="mi">47</span><span class="o">:</span><span class="nv">a6</span><span class="o">:</span><span class="nv">d8</span><span class="o">:</span><span class="mi">06</span><span class="o">:</span><span class="nv">cf</span><span class="o">:</span><span class="mi">09</span><span class="o">:</span><span class="nv">bf</span><span class="o">:</span><span class="nv">d1</span><span class="o">:</span><span class="mi">66</span><span class="o">:</span><span class="nv">b7</span><span class="o">:</span><span class="nv">f9</span><span class="o">:</span><span class="mi">37</span><span class="o">:</span><span class="mi">29</span><span class="o">:</span><span class="mi">5</span><span class="nv">d</span><span class="o">:</span><span class="nv">dc</span><span class="o">:</span>
<span class="w">    </span><span class="nv">c7</span><span class="o">:</span><span class="mi">11</span><span class="o">:</span><span class="mi">56</span><span class="o">:</span><span class="mi">59</span><span class="o">:</span><span class="nv">d7</span><span class="o">:</span><span class="mi">83</span><span class="o">:</span><span class="nv">b4</span><span class="o">:</span><span class="mi">81</span><span class="o">:</span><span class="nv">f6</span><span class="o">:</span><span class="nv">cf</span><span class="o">:</span><span class="nv">e2</span><span class="o">:</span><span class="mi">5</span><span class="nv">f</span><span class="o">:</span><span class="mi">16</span><span class="o">:</span><span class="mi">0</span><span class="nv">d</span><span class="o">:</span><span class="mi">47</span><span class="o">:</span>
<span class="w">    </span><span class="mi">81</span><span class="o">:</span><span class="nv">fe</span><span class="o">:</span><span class="mi">62</span><span class="o">:</span><span class="mi">9</span><span class="nv">a</span><span class="o">:</span><span class="mi">63</span><span class="o">:</span><span class="nv">c5</span><span class="o">:</span><span class="mi">20</span><span class="o">:</span><span class="nv">df</span><span class="o">:</span><span class="nv">ee</span><span class="o">:</span><span class="nv">d3</span><span class="o">:</span><span class="mi">95</span><span class="o">:</span><span class="mi">73</span><span class="o">:</span><span class="nv">dc</span><span class="o">:</span><span class="mi">0</span><span class="nv">a</span><span class="o">:</span><span class="mi">3</span><span class="nv">f</span><span class="o">:</span>
<span class="w">    </span><span class="mi">65</span><span class="o">:</span><span class="nv">d3</span><span class="o">:</span><span class="mi">36</span><span class="o">:</span><span class="mi">1</span><span class="nv">d</span><span class="o">:</span><span class="nv">c1</span><span class="o">:</span><span class="mi">7</span><span class="nv">d</span><span class="o">:</span><span class="mi">8</span><span class="nv">b</span><span class="o">:</span><span class="mi">7</span><span class="nv">d</span><span class="o">:</span><span class="mi">0</span><span class="nv">f</span><span class="o">:</span><span class="mi">79</span><span class="o">:</span><span class="nv">de</span><span class="o">:</span><span class="mi">80</span><span class="o">:</span><span class="nv">fc</span><span class="o">:</span><span class="nv">d2</span><span class="o">:</span><span class="nv">c0</span><span class="o">:</span>
<span class="w">    </span><span class="nv">e4</span><span class="o">:</span><span class="mi">27</span><span class="o">:</span><span class="nv">fc</span><span class="o">:</span><span class="nv">e9</span><span class="o">:</span><span class="mi">66</span><span class="o">:</span><span class="mi">2</span><span class="nv">d</span><span class="o">:</span><span class="nv">e2</span><span class="o">:</span><span class="mi">7</span><span class="nv">e</span><span class="o">:</span><span class="nv">fc</span><span class="o">:</span><span class="nv">e6</span><span class="o">:</span><span class="mi">73</span><span class="o">:</span><span class="nv">d1</span><span class="o">:</span><span class="nv">c9</span><span class="o">:</span><span class="mi">28</span><span class="o">:</span><span class="mi">6</span><span class="nv">b</span><span class="o">:</span>
<span class="w">    </span><span class="mi">6</span><span class="nv">a</span><span class="o">:</span><span class="mi">8</span><span class="nv">a</span><span class="o">:</span><span class="nv">e8</span><span class="o">:</span><span class="mi">96</span><span class="o">:</span><span class="mi">9</span><span class="nv">d</span><span class="o">:</span><span class="mi">65</span><span class="o">:</span><span class="nv">a0</span><span class="o">:</span><span class="mi">8</span><span class="nv">a</span><span class="o">:</span><span class="mi">46</span><span class="o">:</span><span class="nv">e0</span><span class="o">:</span><span class="nv">b8</span><span class="o">:</span><span class="mi">1</span><span class="nv">f</span><span class="o">:</span><span class="nv">b0</span><span class="o">:</span><span class="mi">48</span><span class="o">:</span><span class="nv">d4</span><span class="o">:</span>
<span class="w">    </span><span class="nv">db</span><span class="o">:</span><span class="nv">d4</span><span class="o">:</span><span class="nv">a3</span><span class="o">:</span><span class="mi">7</span><span class="nv">f</span><span class="o">:</span><span class="mi">0</span><span class="nv">d</span><span class="o">:</span><span class="mi">53</span><span class="o">:</span><span class="mi">36</span><span class="o">:</span><span class="mi">9</span><span class="nv">a</span><span class="o">:</span><span class="mi">7</span><span class="nv">d</span><span class="o">:</span><span class="mi">2</span><span class="nv">e</span><span class="o">:</span><span class="nv">e7</span><span class="o">:</span><span class="nv">d8</span><span class="o">:</span><span class="nv">f2</span><span class="o">:</span><span class="mi">16</span><span class="o">:</span><span class="nv">d3</span><span class="o">:</span>
<span class="w">    </span><span class="nv">ff</span><span class="o">:</span><span class="mi">1</span><span class="nv">b</span><span class="o">:</span><span class="mi">12</span><span class="o">:</span><span class="nv">af</span><span class="o">:</span><span class="mi">53</span><span class="o">:</span><span class="mi">22</span><span class="o">:</span><span class="nv">c0</span><span class="o">:</span><span class="mi">41</span><span class="o">:</span><span class="mi">51</span>
<span class="nv">publicExponent</span><span class="o">:</span><span class="w"> </span><span class="mi">65537</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="nv">x10001</span><span class="p">)</span>

<span class="o">&lt;&lt;</span><span class="w"> </span>截断<span class="w"> </span><span class="o">&gt;&gt;</span>

<span class="nv">exponent2</span><span class="o">:</span>
<span class="w">    </span><span class="mi">6</span><span class="nv">e</span><span class="o">:</span><span class="nv">aa</span><span class="o">:</span><span class="mi">8</span><span class="nv">c</span><span class="o">:</span><span class="mi">6</span><span class="nv">e</span><span class="o">:</span><span class="mi">37</span><span class="o">:</span><span class="nv">d0</span><span class="o">:</span><span class="mi">57</span><span class="o">:</span><span class="mi">37</span><span class="o">:</span><span class="mi">13</span><span class="o">:</span><span class="nv">c0</span><span class="o">:</span><span class="mi">08</span><span class="o">:</span><span class="mi">7</span><span class="nv">e</span><span class="o">:</span><span class="mi">75</span><span class="o">:</span><span class="mi">43</span><span class="o">:</span><span class="mi">96</span><span class="o">:</span>
<span class="w">    </span><span class="mi">33</span><span class="o">:</span><span class="mi">01</span><span class="o">:</span><span class="mi">99</span><span class="o">:</span><span class="mi">25</span><span class="o">:</span><span class="mi">24</span><span class="o">:</span><span class="mi">75</span><span class="o">:</span><span class="mi">9</span><span class="nv">c</span><span class="o">:</span><span class="mi">0</span><span class="nv">b</span><span class="o">:</span><span class="mi">45</span><span class="o">:</span><span class="mi">3</span><span class="nv">c</span><span class="o">:</span><span class="nv">a2</span><span class="o">:</span><span class="mi">39</span><span class="o">:</span><span class="mi">44</span><span class="o">:</span><span class="mi">69</span><span class="o">:</span><span class="mi">84</span><span class="o">:</span>
<span class="w">    </span><span class="nv">a4</span><span class="o">:</span><span class="mi">64</span><span class="o">:</span><span class="mi">48</span><span class="o">:</span><span class="nv">f4</span><span class="o">:</span><span class="mi">5</span><span class="nv">c</span><span class="o">:</span><span class="nv">bc</span><span class="o">:</span><span class="mi">40</span><span class="o">:</span><span class="mi">40</span><span class="o">:</span><span class="nv">bf</span><span class="o">:</span><span class="mi">84</span><span class="o">:</span><span class="nv">b8</span><span class="o">:</span><span class="nv">f8</span><span class="o">:</span><span class="mi">0</span><span class="nv">f</span><span class="o">:</span><span class="mi">1</span><span class="nv">d</span><span class="o">:</span><span class="mi">7</span><span class="nv">b</span><span class="o">:</span>
<span class="w">    </span><span class="mi">96</span><span class="o">:</span><span class="mi">7</span><span class="nv">e</span><span class="o">:</span><span class="mi">16</span><span class="o">:</span><span class="mi">00</span><span class="o">:</span><span class="nv">eb</span><span class="o">:</span><span class="mi">49</span><span class="o">:</span><span class="nv">da</span><span class="o">:</span><span class="mi">6</span><span class="nv">b</span><span class="o">:</span><span class="mi">20</span><span class="o">:</span><span class="mi">65</span><span class="o">:</span><span class="nv">fc</span><span class="o">:</span><span class="nv">a9</span><span class="o">:</span><span class="mi">20</span><span class="o">:</span><span class="nv">d9</span><span class="o">:</span><span class="mi">98</span><span class="o">:</span>
<span class="w">    </span><span class="mi">76</span><span class="o">:</span><span class="nv">ca</span><span class="o">:</span><span class="mi">59</span><span class="o">:</span><span class="nv">e1</span>
<span class="nv">coefficient</span><span class="o">:</span>
<span class="w">    </span><span class="mi">68</span><span class="o">:</span><span class="mi">9</span><span class="nv">e</span><span class="o">:</span><span class="mi">2</span><span class="nv">e</span><span class="o">:</span><span class="nv">fa</span><span class="o">:</span><span class="nv">a3</span><span class="o">:</span><span class="nv">a4</span><span class="o">:</span><span class="mi">72</span><span class="o">:</span><span class="mi">1</span><span class="nv">d</span><span class="o">:</span><span class="mi">2</span><span class="nv">b</span><span class="o">:</span><span class="mi">60</span><span class="o">:</span><span class="mi">61</span><span class="o">:</span><span class="mi">11</span><span class="o">:</span><span class="nv">b1</span><span class="o">:</span><span class="mi">8</span><span class="nv">b</span><span class="o">:</span><span class="mi">30</span><span class="o">:</span>
<span class="w">    </span><span class="mi">6</span><span class="nv">e</span><span class="o">:</span><span class="mi">7</span><span class="nv">e</span><span class="o">:</span><span class="mi">2</span><span class="nv">d</span><span class="o">:</span><span class="nv">f9</span><span class="o">:</span><span class="mi">79</span><span class="o">:</span><span class="mi">79</span><span class="o">:</span><span class="nv">f2</span><span class="o">:</span><span class="mi">27</span><span class="o">:</span><span class="nv">ab</span><span class="o">:</span><span class="nv">a0</span><span class="o">:</span><span class="nv">a0</span><span class="o">:</span><span class="nv">b6</span><span class="o">:</span><span class="mi">45</span><span class="o">:</span><span class="mi">08</span><span class="o">:</span><span class="nv">df</span><span class="o">:</span>
<span class="w">    </span><span class="mi">12</span><span class="o">:</span><span class="nv">f7</span><span class="o">:</span><span class="nv">a4</span><span class="o">:</span><span class="mi">3</span><span class="nv">b</span><span class="o">:</span><span class="nv">d9</span><span class="o">:</span><span class="nv">df</span><span class="o">:</span><span class="nv">c5</span><span class="o">:</span><span class="mi">6</span><span class="nv">e</span><span class="o">:</span><span class="nv">c7</span><span class="o">:</span><span class="nv">e8</span><span class="o">:</span><span class="mi">81</span><span class="o">:</span><span class="mi">29</span><span class="o">:</span><span class="mi">07</span><span class="o">:</span><span class="nv">cd</span><span class="o">:</span><span class="mi">7</span><span class="nv">e</span><span class="o">:</span>
<span class="w">    </span><span class="mi">47</span><span class="o">:</span><span class="mi">99</span><span class="o">:</span><span class="mi">5</span><span class="nv">d</span><span class="o">:</span><span class="mi">33</span><span class="o">:</span><span class="mi">8</span><span class="nv">c</span><span class="o">:</span><span class="nv">b7</span><span class="o">:</span><span class="nv">fb</span><span class="o">:</span><span class="mi">3</span><span class="nv">b</span><span class="o">:</span><span class="nv">a9</span><span class="o">:</span><span class="nv">bb</span><span class="o">:</span><span class="mi">52</span><span class="o">:</span><span class="nv">c0</span><span class="o">:</span><span class="mi">47</span><span class="o">:</span><span class="mi">7</span><span class="nv">a</span><span class="o">:</span><span class="mi">1</span><span class="nv">c</span><span class="o">:</span>
<span class="w">    </span><span class="nv">e3</span><span class="o">:</span><span class="mi">64</span><span class="o">:</span><span class="mi">90</span><span class="o">:</span><span class="mi">26</span>
<span class="nv">alice</span><span class="w"> </span><span class="p">$</span>
</code></pre></div>

<h4>步骤 2：提取公钥</h4>
<p>注意，公钥是你可以与他人自由共享的密钥，而你必须将私钥保密。因此，Alice 必须提取她的公钥，并将其保存到文件中：</p>
<div class="highlight"><pre><span></span><code><span class="nv">alice</span><span class="w"> </span><span class="p">$</span><span class="w"> </span><span class="nv">openssl</span><span class="w"> </span><span class="nv">rsa</span><span class="w"> </span><span class="o">-</span><span class="nv">in</span><span class="w"> </span><span class="nv">alice_private</span><span class="o">.</span><span class="nv">pem</span><span class="w"> </span><span class="o">-</span><span class="nv">pubout</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nv">alice_public</span><span class="o">.</span><span class="nv">pem</span>
<span class="nv">Enter</span><span class="w"> </span><span class="nv">pass</span><span class="w"> </span><span class="nv">phrase</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">alice_private</span><span class="o">.</span><span class="nv">pem</span><span class="o">:</span>
<span class="nv">writing</span><span class="w"> </span><span class="nv">RSA</span><span class="w"> </span><span class="nv">key</span>
<span class="nv">alice</span><span class="w"> </span><span class="p">$</span>
<span class="nv">alice</span><span class="w"> </span><span class="p">$</span><span class="w"> </span><span class="nv">ls</span><span class="w"> </span><span class="o">-</span><span class="nv">l</span><span class="w"> </span><span class="o">*.</span><span class="nv">pem</span>
<span class="o">-</span><span class="nv">rw</span><span class="o">-------.</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="nv">alice</span><span class="w"> </span><span class="nv">alice</span><span class="w"> </span><span class="mi">966</span><span class="w"> </span><span class="nv">Mar</span><span class="w"> </span><span class="mi">22</span><span class="w"> </span><span class="mi">17</span><span class="o">:</span><span class="mi">44</span><span class="w"> </span><span class="nv">alice_private</span><span class="o">.</span><span class="nv">pem</span>
<span class="o">-</span><span class="nv">rw</span><span class="o">-</span><span class="nv">rw</span><span class="o">-</span><span class="nv">r</span><span class="o">--.</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="nv">alice</span><span class="w"> </span><span class="nv">alice</span><span class="w"> </span><span class="mi">272</span><span class="w"> </span><span class="nv">Mar</span><span class="w"> </span><span class="mi">22</span><span class="w"> </span><span class="mi">17</span><span class="o">:</span><span class="mi">47</span><span class="w"> </span><span class="nv">alice_public</span><span class="o">.</span><span class="nv">pem</span>
<span class="nv">alice</span><span class="w"> </span><span class="p">$</span>
</code></pre></div>

<p>你可以使用与之前相同的方式查看公钥详细信息，但是这次，输入公钥 .pem 文件：</p>
<div class="highlight"><pre><span></span><code><span class="nv">alice</span><span class="w"> </span><span class="p">$</span>
<span class="nv">alice</span><span class="w"> </span><span class="p">$</span><span class="w"> </span><span class="nv">openssl</span><span class="w"> </span><span class="nv">rsa</span><span class="w"> </span><span class="o">-</span><span class="nv">in</span><span class="w"> </span><span class="nv">alice_public</span><span class="o">.</span><span class="nv">pem</span><span class="w"> </span><span class="o">-</span><span class="nv">pubin</span><span class="w"> </span><span class="o">-</span><span class="nv">text</span><span class="w"> </span><span class="o">-</span><span class="nv">noout</span>
<span class="nv">RSA</span><span class="w"> </span><span class="nv">Public</span><span class="o">-</span><span class="nv">Key</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="mi">1024</span><span class="w"> </span><span class="nv">bit</span><span class="p">)</span>
<span class="nv">Modulus</span><span class="o">:</span>
<span class="w">    </span><span class="mi">00</span><span class="o">:</span><span class="nv">bd</span><span class="o">:</span><span class="nv">e8</span><span class="o">:</span><span class="mi">61</span><span class="o">:</span><span class="mi">72</span><span class="o">:</span><span class="nv">f8</span><span class="o">:</span><span class="nv">f6</span><span class="o">:</span><span class="nv">c8</span><span class="o">:</span><span class="nv">f2</span><span class="o">:</span><span class="nv">cc</span><span class="o">:</span><span class="mi">05</span><span class="o">:</span><span class="nv">fa</span><span class="o">:</span><span class="mi">07</span><span class="o">:</span><span class="nv">aa</span><span class="o">:</span><span class="mi">99</span><span class="o">:</span>
<span class="w">    </span><span class="mi">47</span><span class="o">:</span><span class="nv">a6</span><span class="o">:</span><span class="nv">d8</span><span class="o">:</span><span class="mi">06</span><span class="o">:</span><span class="nv">cf</span><span class="o">:</span><span class="mi">09</span><span class="o">:</span><span class="nv">bf</span><span class="o">:</span><span class="nv">d1</span><span class="o">:</span><span class="mi">66</span><span class="o">:</span><span class="nv">b7</span><span class="o">:</span><span class="nv">f9</span><span class="o">:</span><span class="mi">37</span><span class="o">:</span><span class="mi">29</span><span class="o">:</span><span class="mi">5</span><span class="nv">d</span><span class="o">:</span><span class="nv">dc</span><span class="o">:</span>
<span class="w">    </span><span class="nv">c7</span><span class="o">:</span><span class="mi">11</span><span class="o">:</span><span class="mi">56</span><span class="o">:</span><span class="mi">59</span><span class="o">:</span><span class="nv">d7</span><span class="o">:</span><span class="mi">83</span><span class="o">:</span><span class="nv">b4</span><span class="o">:</span><span class="mi">81</span><span class="o">:</span><span class="nv">f6</span><span class="o">:</span><span class="nv">cf</span><span class="o">:</span><span class="nv">e2</span><span class="o">:</span><span class="mi">5</span><span class="nv">f</span><span class="o">:</span><span class="mi">16</span><span class="o">:</span><span class="mi">0</span><span class="nv">d</span><span class="o">:</span><span class="mi">47</span><span class="o">:</span>
<span class="w">    </span><span class="mi">81</span><span class="o">:</span><span class="nv">fe</span><span class="o">:</span><span class="mi">62</span><span class="o">:</span><span class="mi">9</span><span class="nv">a</span><span class="o">:</span><span class="mi">63</span><span class="o">:</span><span class="nv">c5</span><span class="o">:</span><span class="mi">20</span><span class="o">:</span><span class="nv">df</span><span class="o">:</span><span class="nv">ee</span><span class="o">:</span><span class="nv">d3</span><span class="o">:</span><span class="mi">95</span><span class="o">:</span><span class="mi">73</span><span class="o">:</span><span class="nv">dc</span><span class="o">:</span><span class="mi">0</span><span class="nv">a</span><span class="o">:</span><span class="mi">3</span><span class="nv">f</span><span class="o">:</span>
<span class="p">$</span>
</code></pre></div>

<p>Bob 可以按照相同的过程来提取他的公钥并将其保存到文件中：</p>
<div class="highlight"><pre><span></span><code><span class="nv">bob</span><span class="w"> </span><span class="p">$</span><span class="w"> </span><span class="nv">openssl</span><span class="w"> </span><span class="nv">rsa</span><span class="w"> </span><span class="o">-</span><span class="nv">in</span><span class="w"> </span><span class="nv">bob_private</span><span class="o">.</span><span class="nv">pem</span><span class="w"> </span><span class="o">-</span><span class="nv">pubout</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nv">bob_public</span><span class="o">.</span><span class="nv">pem</span>
<span class="nv">Enter</span><span class="w"> </span><span class="nv">pass</span><span class="w"> </span><span class="nv">phrase</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">bob_private</span><span class="o">.</span><span class="nv">pem</span><span class="o">:</span>
<span class="nv">writing</span><span class="w"> </span><span class="nv">RSA</span><span class="w"> </span><span class="nv">key</span>
<span class="nv">bob</span><span class="w"> </span><span class="p">$</span>
<span class="nv">bob</span><span class="w"> </span><span class="p">$</span><span class="w"> </span><span class="nv">ls</span><span class="w"> </span><span class="o">-</span><span class="nv">l</span><span class="w"> </span><span class="o">*.</span><span class="nv">pem</span>
<span class="o">-</span><span class="nv">rw</span><span class="o">-------.</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="nv">bob</span><span class="w"> </span><span class="nv">bob</span><span class="w"> </span><span class="mi">986</span><span class="w"> </span><span class="nv">Mar</span><span class="w"> </span><span class="mi">22</span><span class="w"> </span><span class="mi">13</span><span class="o">:</span><span class="mi">48</span><span class="w"> </span><span class="nv">bob_private</span><span class="o">.</span><span class="nv">pem</span>
<span class="o">-</span><span class="nv">rw</span><span class="o">-</span><span class="nv">r</span><span class="o">--</span><span class="nv">r</span><span class="o">--.</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="nv">bob</span><span class="w"> </span><span class="nv">bob</span><span class="w"> </span><span class="mi">272</span><span class="w"> </span><span class="nv">Mar</span><span class="w"> </span><span class="mi">22</span><span class="w"> </span><span class="mi">13</span><span class="o">:</span><span class="mi">51</span><span class="w"> </span><span class="nv">bob_public</span><span class="o">.</span><span class="nv">pem</span>
<span class="nv">bob</span><span class="w"> </span><span class="p">$</span>
</code></pre></div>

<h4>步骤 3：交换公钥</h4>
<p>这些公钥在 Alice 和 Bob 彼此交换之前没有太大用处。有几种共享公钥的方法，例如使用 <code>scp</code> 命令将密钥复制到彼此的工作站。</p>
<p>将 Alice 的公钥发送到 Bob 的工作站：</p>
<div class="highlight"><pre><span></span><code><span class="n">alice</span><span class="w"> </span><span class="err">$</span><span class="w"> </span><span class="n">scp</span><span class="w"> </span><span class="n">alice_public</span><span class="p">.</span><span class="n">pem</span><span class="w"> </span><span class="n">bob</span><span class="nv">@bob</span><span class="o">-</span><span class="n">machine</span><span class="o">-</span><span class="ow">or</span><span class="o">-</span><span class="nl">ip</span><span class="p">:</span><span class="o">/</span><span class="k">path</span><span class="o">/</span>
</code></pre></div>

<p>将 Bob 的公钥发送到 Alice 的工作站：</p>
<div class="highlight"><pre><span></span><code><span class="n">bob</span><span class="w"> </span><span class="err">$</span><span class="w"> </span><span class="n">scp</span><span class="w"> </span><span class="n">bob_public</span><span class="p">.</span><span class="n">pem</span><span class="w"> </span><span class="n">alice</span><span class="nv">@alice</span><span class="o">-</span><span class="n">machine</span><span class="o">-</span><span class="ow">or</span><span class="o">-</span><span class="nl">ip</span><span class="p">:</span><span class="o">/</span><span class="k">path</span><span class="o">/</span>
</code></pre></div>

<p>现在，Alice 有了 Bob 的公钥，反之亦然：</p>
<div class="highlight"><pre><span></span><code><span class="nv">alice</span><span class="w"> </span><span class="p">$</span><span class="w"> </span><span class="nv">ls</span><span class="w"> </span><span class="o">-</span><span class="nv">l</span><span class="w"> </span><span class="nv">bob_public</span><span class="o">.</span><span class="nv">pem</span>
<span class="o">-</span><span class="nv">rw</span><span class="o">-</span><span class="nv">r</span><span class="o">--</span><span class="nv">r</span><span class="o">--.</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="nv">alice</span><span class="w"> </span><span class="nv">alice</span><span class="w"> </span><span class="mi">272</span><span class="w"> </span><span class="nv">Mar</span><span class="w"> </span><span class="mi">22</span><span class="w"> </span><span class="mi">17</span><span class="o">:</span><span class="mi">51</span><span class="w"> </span><span class="nv">bob_public</span><span class="o">.</span><span class="nv">pem</span>
<span class="nv">alice</span><span class="w"> </span><span class="p">$</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="nv">bob</span><span class="w"> </span><span class="p">$</span><span class="w"> </span><span class="nv">ls</span><span class="w"> </span><span class="o">-</span><span class="nv">l</span><span class="w"> </span><span class="nv">alice_public</span><span class="o">.</span><span class="nv">pem</span>
<span class="o">-</span><span class="nv">rw</span><span class="o">-</span><span class="nv">r</span><span class="o">--</span><span class="nv">r</span><span class="o">--.</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="nv">bob</span><span class="w"> </span><span class="nv">bob</span><span class="w"> </span><span class="mi">272</span><span class="w"> </span><span class="nv">Mar</span><span class="w"> </span><span class="mi">22</span><span class="w"> </span><span class="mi">13</span><span class="o">:</span><span class="mi">54</span><span class="w"> </span><span class="nv">alice_public</span><span class="o">.</span><span class="nv">pem</span>
<span class="nv">bob</span><span class="w"> </span><span class="p">$</span>
</code></pre></div>

<h4>步骤 4：使用公钥交换加密的消息</h4>
<p>假设 Alice 需要与 Bob 秘密交流。她将秘密信息写入文件中，并将其保存到 <code>top_secret.txt</code> 中。由于这是一个普通文件，因此任何人都可以打开它并查看其内容，这里并没有太多保护：</p>
<div class="highlight"><pre><span></span><code><span class="nv">alice</span><span class="w"> </span><span class="p">$</span>
<span class="nv">alice</span><span class="w"> </span><span class="p">$</span><span class="w"> </span><span class="nv">echo</span><span class="w"> </span><span class="s">&quot;vim or emacs ?&quot;</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="k">to</span><span class="nv">p_secret</span><span class="o">.</span><span class="nv">txt</span>
<span class="nv">alice</span><span class="w"> </span><span class="p">$</span>
<span class="nv">alice</span><span class="w"> </span><span class="p">$</span><span class="w"> </span><span class="nv">cat</span><span class="w"> </span><span class="k">to</span><span class="nv">p_secret</span><span class="o">.</span><span class="nv">txt</span>
<span class="nv">vim</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="nv">emacs</span><span class="w"> </span>?
<span class="nv">alice</span><span class="w"> </span><span class="p">$</span>
</code></pre></div>

<p>要加密此秘密消息，Alice 需要使用 <code>openssls -encrypt</code> 命令。她需要为该工具提供三个输入：</p>
<ol>
<li>秘密消息文件的名称</li>
<li>Bob 的公钥（文件）</li>
<li>加密后新文件的名称</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="nv">alice</span><span class="w"> </span><span class="p">$</span><span class="w"> </span><span class="nv">openssl</span><span class="w"> </span><span class="nv">rsautl</span><span class="w"> </span><span class="o">-</span><span class="nv">encrypt</span><span class="w"> </span><span class="o">-</span><span class="nv">inkey</span><span class="w"> </span><span class="nv">bob_public</span><span class="o">.</span><span class="nv">pem</span><span class="w"> </span><span class="o">-</span><span class="nv">pubin</span><span class="w"> </span><span class="o">-</span><span class="nv">in</span><span class="w"> </span><span class="k">to</span><span class="nv">p_secret</span><span class="o">.</span><span class="nv">txt</span><span class="w"> </span><span class="o">-</span><span class="nv">out</span><span class="w"> </span><span class="k">to</span><span class="nv">p_secret</span><span class="o">.</span><span class="nv">enc</span>
<span class="nv">alice</span><span class="w"> </span><span class="p">$</span>
<span class="nv">alice</span><span class="w"> </span><span class="p">$</span><span class="w"> </span><span class="nv">ls</span><span class="w"> </span><span class="o">-</span><span class="nv">l</span><span class="w"> </span><span class="k">to</span><span class="nv">p_secret</span><span class="o">.*</span>
<span class="o">-</span><span class="nv">rw</span><span class="o">-</span><span class="nv">rw</span><span class="o">-</span><span class="nv">r</span><span class="o">--.</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="nv">alice</span><span class="w"> </span><span class="nv">alice</span><span class="w"> </span><span class="mi">128</span><span class="w"> </span><span class="nv">Mar</span><span class="w"> </span><span class="mi">22</span><span class="w"> </span><span class="mi">17</span><span class="o">:</span><span class="mi">54</span><span class="w"> </span><span class="k">to</span><span class="nv">p_secret</span><span class="o">.</span><span class="nv">enc</span>
<span class="o">-</span><span class="nv">rw</span><span class="o">-</span><span class="nv">rw</span><span class="o">-</span><span class="nv">r</span><span class="o">--.</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="nv">alice</span><span class="w"> </span><span class="nv">alice</span><span class="w">  </span><span class="mi">15</span><span class="w"> </span><span class="nv">Mar</span><span class="w"> </span><span class="mi">22</span><span class="w"> </span><span class="mi">17</span><span class="o">:</span><span class="mi">53</span><span class="w"> </span><span class="k">to</span><span class="nv">p_secret</span><span class="o">.</span><span class="nv">txt</span>
<span class="nv">alice</span><span class="w"> </span><span class="p">$</span>
<span class="nv">alice</span><span class="w"> </span><span class="p">$</span>
</code></pre></div>

<p>加密后，原始文件仍然是可见的，而新创建的加密文件在屏幕上看起来像乱码。这样，你可以确定秘密消息已被加密：</p>
<div class="highlight"><pre><span></span><code><span class="nv">alice</span><span class="w"> </span><span class="p">$</span><span class="w"> </span><span class="nv">cat</span><span class="w"> </span><span class="k">to</span><span class="nv">p_secret</span><span class="o">.</span><span class="nv">txt</span>
<span class="nv">vim</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="nv">emacs</span><span class="w"> </span>?
<span class="nv">alice</span><span class="w"> </span><span class="p">$</span>
<span class="nv">alice</span><span class="w"> </span><span class="p">$</span><span class="w"> </span><span class="nv">cat</span><span class="w"> </span><span class="k">to</span><span class="nv">p_secret</span><span class="o">.</span><span class="nv">enc</span>
�<span class="nv">s</span>��<span class="nv">uM</span><span class="p">)</span><span class="nv">M</span>&amp;<span class="o">&gt;</span>��<span class="nv">N</span>��<span class="p">}</span><span class="nv">dmCy92#1X</span>�<span class="nv">q</span>?��<span class="nv">v</span>���<span class="nv">M</span>��<span class="o">@</span>��<span class="nv">E</span>�~��<span class="mi">1</span>�<span class="nv">k</span>~&amp;<span class="nv">PU</span>�<span class="nv">VhHL</span>�<span class="o">@^</span><span class="nv">P</span>��<span class="p">(</span>��<span class="nv">zi</span>�<span class="nv">M</span>�<span class="mi">4</span><span class="nv">p</span>�<span class="nv">e</span>��<span class="nv">g</span><span class="o">+</span><span class="nv">R</span>�<span class="mi">1</span>�Ԁ���<span class="nv">s</span>�������<span class="nv">q_8</span>�<span class="nv">lr</span>����<span class="nv">C</span>�<span class="nv">I</span><span class="o">-</span>��<span class="nv">alice</span><span class="w"> </span><span class="p">$</span>
<span class="nv">alice</span><span class="w"> </span><span class="p">$</span>
<span class="nv">alice</span><span class="w"> </span><span class="p">$</span>
<span class="nv">alice</span><span class="w"> </span><span class="p">$</span><span class="w"> </span><span class="nv">hexdump</span><span class="w"> </span><span class="o">-</span><span class="nv">C</span><span class="w"> </span><span class="o">./</span><span class="k">to</span><span class="nv">p_secret</span><span class="o">.</span><span class="nv">enc</span>
<span class="mi">00000000</span><span class="w">  </span><span class="mi">9</span><span class="nv">e</span><span class="w"> </span><span class="mi">73</span><span class="w"> </span><span class="mi">12</span><span class="w"> </span><span class="mi">8</span><span class="nv">f</span><span class="w"> </span><span class="nv">e3</span><span class="w"> </span><span class="mi">75</span><span class="w"> </span><span class="mi">4</span><span class="nv">d</span><span class="w"> </span><span class="mi">29</span><span class="w">  </span><span class="mi">4</span><span class="nv">d</span><span class="w"> </span><span class="mi">26</span><span class="w"> </span><span class="mi">3</span><span class="nv">e</span><span class="w"> </span><span class="nv">bf</span><span class="w"> </span><span class="mi">80</span><span class="w"> </span><span class="mi">4</span><span class="nv">e</span><span class="w"> </span><span class="nv">a0</span><span class="w"> </span><span class="nv">c5</span><span class="w">  </span><span class="o">|.</span><span class="nv">s</span><span class="o">...</span><span class="nv">uM</span><span class="p">)</span><span class="nv">M</span>&amp;<span class="o">&gt;..</span><span class="nv">N</span><span class="o">..|</span>
<span class="mi">00000010</span><span class="w">  </span><span class="mi">7</span><span class="nv">d</span><span class="w"> </span><span class="mi">64</span><span class="w"> </span><span class="mi">6</span><span class="nv">d</span><span class="w"> </span><span class="mi">43</span><span class="w"> </span><span class="mi">79</span><span class="w"> </span><span class="mi">39</span><span class="w"> </span><span class="mi">32</span><span class="w"> </span><span class="mi">23</span><span class="w">  </span><span class="mi">31</span><span class="w"> </span><span class="mi">58</span><span class="w"> </span><span class="nv">ce</span><span class="w"> </span><span class="mi">71</span><span class="w"> </span><span class="nv">f3</span><span class="w"> </span><span class="nv">ba</span><span class="w"> </span><span class="mi">95</span><span class="w"> </span><span class="nv">a6</span><span class="w">  </span><span class="o">|</span><span class="p">}</span><span class="nv">dmCy92#1X</span><span class="o">.</span><span class="nv">q</span><span class="o">....|</span>
<span class="mi">00000020</span><span class="w">  </span><span class="nv">c0</span><span class="w"> </span><span class="nv">c0</span><span class="w"> </span><span class="mi">76</span><span class="w"> </span><span class="mi">17</span><span class="w"> </span><span class="nv">fb</span><span class="w"> </span><span class="nv">f7</span><span class="w"> </span><span class="nv">bf</span><span class="w"> </span><span class="mi">4</span><span class="nv">d</span><span class="w">  </span><span class="nv">ce</span><span class="w"> </span><span class="nv">fc</span><span class="w"> </span><span class="mi">40</span><span class="w"> </span><span class="nv">e6</span><span class="w"> </span><span class="nv">f4</span><span class="w"> </span><span class="mi">45</span><span class="w"> </span><span class="mi">7</span><span class="nv">f</span><span class="w"> </span><span class="nv">db</span><span class="w">  </span><span class="o">|..</span><span class="nv">v</span><span class="o">....</span><span class="nv">M</span><span class="o">..@..</span><span class="nv">E</span><span class="o">..|</span>
<span class="mi">00000030</span><span class="w">  </span><span class="mi">7</span><span class="nv">e</span><span class="w"> </span><span class="nv">ae</span><span class="w"> </span><span class="nv">c0</span><span class="w"> </span><span class="mi">31</span><span class="w"> </span><span class="nv">f8</span><span class="w"> </span><span class="mi">6</span><span class="nv">b</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="mi">06</span><span class="w">  </span><span class="mi">7</span><span class="nv">e</span><span class="w"> </span><span class="mi">26</span><span class="w"> </span><span class="mi">50</span><span class="w"> </span><span class="mi">55</span><span class="w"> </span><span class="nv">b5</span><span class="w"> </span><span class="mi">05</span><span class="w"> </span><span class="mi">56</span><span class="w"> </span><span class="mi">68</span><span class="w">  </span><span class="o">|</span>~<span class="o">..</span><span class="mi">1</span><span class="o">.</span><span class="nv">k</span><span class="o">..</span>~&amp;<span class="nv">PU</span><span class="o">..</span><span class="nv">Vh</span><span class="o">|</span>
<span class="mi">00000040</span><span class="w">  </span><span class="mi">48</span><span class="w"> </span><span class="mi">4</span><span class="nv">c</span><span class="w"> </span><span class="nv">eb</span><span class="w"> </span><span class="mi">40</span><span class="w"> </span><span class="mi">5</span><span class="nv">e</span><span class="w"> </span><span class="mi">50</span><span class="w"> </span><span class="nv">fe</span><span class="w"> </span><span class="mi">19</span><span class="w">  </span><span class="nv">ea</span><span class="w"> </span><span class="mi">28</span><span class="w"> </span><span class="nv">a8</span><span class="w"> </span><span class="nv">b8</span><span class="w"> </span><span class="mi">7</span><span class="nv">a</span><span class="w"> </span><span class="mi">13</span><span class="w"> </span><span class="mi">69</span><span class="w"> </span><span class="nv">d7</span><span class="w">  </span><span class="o">|</span><span class="nv">HL</span><span class="o">.@^</span><span class="nv">P</span><span class="o">...</span><span class="p">(</span><span class="o">..</span><span class="nv">z</span><span class="o">.</span><span class="nv">i</span><span class="o">.|</span>
<span class="mi">00000050</span><span class="w">  </span><span class="mi">4</span><span class="nv">d</span><span class="w"> </span><span class="nv">b0</span><span class="w"> </span><span class="mi">34</span><span class="w"> </span><span class="mi">70</span><span class="w"> </span><span class="nv">d8</span><span class="w"> </span><span class="mi">65</span><span class="w"> </span><span class="nv">d5</span><span class="w"> </span><span class="mi">07</span><span class="w">  </span><span class="mi">95</span><span class="w"> </span><span class="mi">67</span><span class="w"> </span><span class="mi">2</span><span class="nv">b</span><span class="w"> </span><span class="mi">52</span><span class="w"> </span><span class="nv">ea</span><span class="w"> </span><span class="mi">31</span><span class="w"> </span><span class="nv">aa</span><span class="w"> </span><span class="nv">d4</span><span class="w">  </span><span class="o">|</span><span class="nv">M</span><span class="o">.</span><span class="mi">4</span><span class="nv">p</span><span class="o">.</span><span class="nv">e</span><span class="o">...</span><span class="nv">g</span><span class="o">+</span><span class="nv">R</span><span class="o">.</span><span class="mi">1</span><span class="o">..|</span>
<span class="mi">00000060</span><span class="w">  </span><span class="mi">80</span><span class="w"> </span><span class="nv">b3</span><span class="w"> </span><span class="nv">a8</span><span class="w"> </span><span class="nv">ec</span><span class="w"> </span><span class="nv">a1</span><span class="w"> </span><span class="mi">73</span><span class="w"> </span><span class="nv">ed</span><span class="w"> </span><span class="nv">a7</span><span class="w">  </span><span class="nv">f9</span><span class="w"> </span><span class="mi">17</span><span class="w"> </span><span class="nv">c3</span><span class="w"> </span><span class="mi">13</span><span class="w"> </span><span class="nv">d4</span><span class="w"> </span><span class="nv">fa</span><span class="w"> </span><span class="nv">c1</span><span class="w"> </span><span class="mi">71</span><span class="w">  </span><span class="o">|.....</span><span class="nv">s</span><span class="o">.........</span><span class="nv">q</span><span class="o">|</span>
<span class="mi">00000070</span><span class="w">  </span><span class="mi">5</span><span class="nv">f</span><span class="w"> </span><span class="mi">38</span><span class="w"> </span><span class="nv">b9</span><span class="w"> </span><span class="mi">6</span><span class="nv">c</span><span class="w"> </span><span class="mi">07</span><span class="w"> </span><span class="mi">72</span><span class="w"> </span><span class="mi">81</span><span class="w"> </span><span class="nv">a6</span><span class="w">  </span><span class="nv">fe</span><span class="w"> </span><span class="nv">af</span><span class="w"> </span><span class="mi">43</span><span class="w"> </span><span class="nv">a6</span><span class="w"> </span><span class="mi">49</span><span class="w"> </span><span class="mi">2</span><span class="nv">d</span><span class="w"> </span><span class="nv">c4</span><span class="w"> </span><span class="nv">ee</span><span class="w">  </span><span class="o">|</span><span class="nv">_8</span><span class="o">.</span><span class="nv">l</span><span class="o">.</span><span class="nv">r</span><span class="o">....</span><span class="nv">C</span><span class="o">.</span><span class="nv">I</span><span class="o">-..|</span>
<span class="mi">00000080</span>
<span class="nv">alice</span><span class="w"> </span><span class="p">$</span>
<span class="nv">alice</span><span class="w"> </span><span class="p">$</span><span class="w"> </span><span class="nv">file</span><span class="w"> </span><span class="k">to</span><span class="nv">p_secret</span><span class="o">.</span><span class="nv">enc</span>
<span class="k">to</span><span class="nv">p_secret</span><span class="o">.</span><span class="nv">enc</span><span class="o">:</span><span class="w"> </span><span class="nv">data</span>
<span class="nv">alice</span><span class="w"> </span><span class="p">$</span>
</code></pre></div>

<p>删除秘密消息的原始文件是安全的，这样确保任何痕迹都没有：</p>
<div class="highlight"><pre><span></span><code>alice $ rm -f top_secret.txt
</code></pre></div>

<p>现在，Alice 需要再次使用 <code>scp</code> 命令将此加密文件通过网络发送给 Bob 的工作站。注意，即使文件被截获，其内容也会是加密的，因此内容不会被泄露：</p>
<div class="highlight"><pre><span></span><code><span class="n">alice</span><span class="w"> </span><span class="err">$</span><span class="w">  </span><span class="n">scp</span><span class="w"> </span><span class="n">top_secret</span><span class="p">.</span><span class="n">enc</span><span class="w"> </span><span class="n">bob</span><span class="nv">@bob</span><span class="o">-</span><span class="n">machine</span><span class="o">-</span><span class="ow">or</span><span class="o">-</span><span class="nl">ip</span><span class="p">:</span><span class="o">/</span><span class="k">path</span><span class="o">/</span>
</code></pre></div>

<p>如果 Bob 使用常规方法尝试打开并查看加密的消息，他将无法看懂该消息：</p>
<div class="highlight"><pre><span></span><code><span class="nv">bob</span><span class="w"> </span><span class="p">$</span><span class="w"> </span><span class="nv">ls</span><span class="w"> </span><span class="o">-</span><span class="nv">l</span><span class="w"> </span><span class="k">to</span><span class="nv">p_secret</span><span class="o">.</span><span class="nv">enc</span>
<span class="o">-</span><span class="nv">rw</span><span class="o">-</span><span class="nv">r</span><span class="o">--</span><span class="nv">r</span><span class="o">--.</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="nv">bob</span><span class="w"> </span><span class="nv">bob</span><span class="w"> </span><span class="mi">128</span><span class="w"> </span><span class="nv">Mar</span><span class="w"> </span><span class="mi">22</span><span class="w"> </span><span class="mi">13</span><span class="o">:</span><span class="mi">59</span><span class="w"> </span><span class="k">to</span><span class="nv">p_secret</span><span class="o">.</span><span class="nv">enc</span>
<span class="nv">bob</span><span class="w"> </span><span class="p">$</span>
<span class="nv">bob</span><span class="w"> </span><span class="p">$</span><span class="w"> </span><span class="nv">cat</span><span class="w"> </span><span class="k">to</span><span class="nv">p_secret</span><span class="o">.</span><span class="nv">enc</span>
�<span class="nv">s</span>��<span class="nv">uM</span><span class="p">)</span><span class="nv">M</span>&amp;<span class="o">&gt;</span>��<span class="nv">N</span>��<span class="p">}</span><span class="nv">dmCy92#1X</span>�<span class="nv">q</span>?��<span class="nv">v</span>���<span class="nv">M</span>��<span class="o">@</span>��<span class="nv">E</span>�~��<span class="mi">1</span>�<span class="nv">k</span>~&amp;<span class="nv">PU</span>�<span class="nv">VhHL</span>�<span class="o">@^</span><span class="nv">P</span>��<span class="p">(</span>��<span class="nv">zi</span>�<span class="nv">M</span>�<span class="mi">4</span><span class="nv">p</span>�<span class="nv">e</span>��<span class="nv">g</span><span class="o">+</span><span class="nv">R</span>�<span class="mi">1</span>�Ԁ���<span class="nv">s</span>�������<span class="nv">q_8</span>�<span class="nv">lr</span>����<span class="nv">C</span>�<span class="nv">I</span><span class="o">-</span>��<span class="nv">bob</span><span class="w"> </span><span class="p">$</span>
<span class="nv">bob</span><span class="w"> </span><span class="p">$</span>
<span class="nv">bob</span><span class="w"> </span><span class="p">$</span><span class="w"> </span><span class="nv">hexdump</span><span class="w"> </span><span class="o">-</span><span class="nv">C</span><span class="w"> </span><span class="k">to</span><span class="nv">p_secret</span><span class="o">.</span><span class="nv">enc</span>
<span class="mi">00000000</span><span class="w">  </span><span class="mi">9</span><span class="nv">e</span><span class="w"> </span><span class="mi">73</span><span class="w"> </span><span class="mi">12</span><span class="w"> </span><span class="mi">8</span><span class="nv">f</span><span class="w"> </span><span class="nv">e3</span><span class="w"> </span><span class="mi">75</span><span class="w"> </span><span class="mi">4</span><span class="nv">d</span><span class="w"> </span><span class="mi">29</span><span class="w">  </span><span class="mi">4</span><span class="nv">d</span><span class="w"> </span><span class="mi">26</span><span class="w"> </span><span class="mi">3</span><span class="nv">e</span><span class="w"> </span><span class="nv">bf</span><span class="w"> </span><span class="mi">80</span><span class="w"> </span><span class="mi">4</span><span class="nv">e</span><span class="w"> </span><span class="nv">a0</span><span class="w"> </span><span class="nv">c5</span><span class="w">  </span><span class="o">|.</span><span class="nv">s</span><span class="o">...</span><span class="nv">uM</span><span class="p">)</span><span class="nv">M</span>&amp;<span class="o">&gt;..</span><span class="nv">N</span><span class="o">..|</span>
<span class="mi">00000010</span><span class="w">  </span><span class="mi">7</span><span class="nv">d</span><span class="w"> </span><span class="mi">64</span><span class="w"> </span><span class="mi">6</span><span class="nv">d</span><span class="w"> </span><span class="mi">43</span><span class="w"> </span><span class="mi">79</span><span class="w"> </span><span class="mi">39</span><span class="w"> </span><span class="mi">32</span><span class="w"> </span><span class="mi">23</span><span class="w">  </span><span class="mi">31</span><span class="w"> </span><span class="mi">58</span><span class="w"> </span><span class="nv">ce</span><span class="w"> </span><span class="mi">71</span><span class="w"> </span><span class="nv">f3</span><span class="w"> </span><span class="nv">ba</span><span class="w"> </span><span class="mi">95</span><span class="w"> </span><span class="nv">a6</span><span class="w">  </span><span class="o">|</span><span class="p">}</span><span class="nv">dmCy92#1X</span><span class="o">.</span><span class="nv">q</span><span class="o">....|</span>
<span class="mi">00000020</span><span class="w">  </span><span class="nv">c0</span><span class="w"> </span><span class="nv">c0</span><span class="w"> </span><span class="mi">76</span><span class="w"> </span><span class="mi">17</span><span class="w"> </span><span class="nv">fb</span><span class="w"> </span><span class="nv">f7</span><span class="w"> </span><span class="nv">bf</span><span class="w"> </span><span class="mi">4</span><span class="nv">d</span><span class="w">  </span><span class="nv">ce</span><span class="w"> </span><span class="nv">fc</span><span class="w"> </span><span class="mi">40</span><span class="w"> </span><span class="nv">e6</span><span class="w"> </span><span class="nv">f4</span><span class="w"> </span><span class="mi">45</span><span class="w"> </span><span class="mi">7</span><span class="nv">f</span><span class="w"> </span><span class="nv">db</span><span class="w">  </span><span class="o">|..</span><span class="nv">v</span><span class="o">....</span><span class="nv">M</span><span class="o">..@..</span><span class="nv">E</span><span class="o">..|</span>
<span class="mi">00000030</span><span class="w">  </span><span class="mi">7</span><span class="nv">e</span><span class="w"> </span><span class="nv">ae</span><span class="w"> </span><span class="nv">c0</span><span class="w"> </span><span class="mi">31</span><span class="w"> </span><span class="nv">f8</span><span class="w"> </span><span class="mi">6</span><span class="nv">b</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="mi">06</span><span class="w">  </span><span class="mi">7</span><span class="nv">e</span><span class="w"> </span><span class="mi">26</span><span class="w"> </span><span class="mi">50</span><span class="w"> </span><span class="mi">55</span><span class="w"> </span><span class="nv">b5</span><span class="w"> </span><span class="mi">05</span><span class="w"> </span><span class="mi">56</span><span class="w"> </span><span class="mi">68</span><span class="w">  </span><span class="o">|</span>~<span class="o">..</span><span class="mi">1</span><span class="o">.</span><span class="nv">k</span><span class="o">..</span>~&amp;<span class="nv">PU</span><span class="o">..</span><span class="nv">Vh</span><span class="o">|</span>
<span class="mi">00000040</span><span class="w">  </span><span class="mi">48</span><span class="w"> </span><span class="mi">4</span><span class="nv">c</span><span class="w"> </span><span class="nv">eb</span><span class="w"> </span><span class="mi">40</span><span class="w"> </span><span class="mi">5</span><span class="nv">e</span><span class="w"> </span><span class="mi">50</span><span class="w"> </span><span class="nv">fe</span><span class="w"> </span><span class="mi">19</span><span class="w">  </span><span class="nv">ea</span><span class="w"> </span><span class="mi">28</span><span class="w"> </span><span class="nv">a8</span><span class="w"> </span><span class="nv">b8</span><span class="w"> </span><span class="mi">7</span><span class="nv">a</span><span class="w"> </span><span class="mi">13</span><span class="w"> </span><span class="mi">69</span><span class="w"> </span><span class="nv">d7</span><span class="w">  </span><span class="o">|</span><span class="nv">HL</span><span class="o">.@^</span><span class="nv">P</span><span class="o">...</span><span class="p">(</span><span class="o">..</span><span class="nv">z</span><span class="o">.</span><span class="nv">i</span><span class="o">.|</span>
<span class="mi">00000050</span><span class="w">  </span><span class="mi">4</span><span class="nv">d</span><span class="w"> </span><span class="nv">b0</span><span class="w"> </span><span class="mi">34</span><span class="w"> </span><span class="mi">70</span><span class="w"> </span><span class="nv">d8</span><span class="w"> </span><span class="mi">65</span><span class="w"> </span><span class="nv">d5</span><span class="w"> </span><span class="mi">07</span><span class="w">  </span><span class="mi">95</span><span class="w"> </span><span class="mi">67</span><span class="w"> </span><span class="mi">2</span><span class="nv">b</span><span class="w"> </span><span class="mi">52</span><span class="w"> </span><span class="nv">ea</span><span class="w"> </span><span class="mi">31</span><span class="w"> </span><span class="nv">aa</span><span class="w"> </span><span class="nv">d4</span><span class="w">  </span><span class="o">|</span><span class="nv">M</span><span class="o">.</span><span class="mi">4</span><span class="nv">p</span><span class="o">.</span><span class="nv">e</span><span class="o">...</span><span class="nv">g</span><span class="o">+</span><span class="nv">R</span><span class="o">.</span><span class="mi">1</span><span class="o">..|</span>
<span class="mi">00000060</span><span class="w">  </span><span class="mi">80</span><span class="w"> </span><span class="nv">b3</span><span class="w"> </span><span class="nv">a8</span><span class="w"> </span><span class="nv">ec</span><span class="w"> </span><span class="nv">a1</span><span class="w"> </span><span class="mi">73</span><span class="w"> </span><span class="nv">ed</span><span class="w"> </span><span class="nv">a7</span><span class="w">  </span><span class="nv">f9</span><span class="w"> </span><span class="mi">17</span><span class="w"> </span><span class="nv">c3</span><span class="w"> </span><span class="mi">13</span><span class="w"> </span><span class="nv">d4</span><span class="w"> </span><span class="nv">fa</span><span class="w"> </span><span class="nv">c1</span><span class="w"> </span><span class="mi">71</span><span class="w">  </span><span class="o">|.....</span><span class="nv">s</span><span class="o">.........</span><span class="nv">q</span><span class="o">|</span>
<span class="mi">00000070</span><span class="w">  </span><span class="mi">5</span><span class="nv">f</span><span class="w"> </span><span class="mi">38</span><span class="w"> </span><span class="nv">b9</span><span class="w"> </span><span class="mi">6</span><span class="nv">c</span><span class="w"> </span><span class="mi">07</span><span class="w"> </span><span class="mi">72</span><span class="w"> </span><span class="mi">81</span><span class="w"> </span><span class="nv">a6</span><span class="w">  </span><span class="nv">fe</span><span class="w"> </span><span class="nv">af</span><span class="w"> </span><span class="mi">43</span><span class="w"> </span><span class="nv">a6</span><span class="w"> </span><span class="mi">49</span><span class="w"> </span><span class="mi">2</span><span class="nv">d</span><span class="w"> </span><span class="nv">c4</span><span class="w"> </span><span class="nv">ee</span><span class="w">  </span><span class="o">|</span><span class="nv">_8</span><span class="o">.</span><span class="nv">l</span><span class="o">.</span><span class="nv">r</span><span class="o">....</span><span class="nv">C</span><span class="o">.</span><span class="nv">I</span><span class="o">-..|</span>
<span class="mi">00000080</span>
<span class="nv">bob</span><span class="w"> </span><span class="p">$</span>
</code></pre></div>

<h4>步骤 5：使用私钥解密文件</h4>
<p>Bob 需要使用 OpenSSL 来解密消息，但是这次使用的是 <code>-decrypt</code> 命令行参数。他需要向工具程序提供以下信息：</p>
<ol>
<li>加密的文件（从 Alice 那里得到）</li>
<li>Bob 的私钥（用于解密，因为文件是用 Bob 的公钥加密的）</li>
<li>通过重定向保存解密输出的文件名</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="nv">bob</span><span class="w"> </span><span class="p">$</span><span class="w"> </span><span class="nv">openssl</span><span class="w"> </span><span class="nv">rsautl</span><span class="w"> </span><span class="o">-</span><span class="nv">decrypt</span><span class="w"> </span><span class="o">-</span><span class="nv">inkey</span><span class="w"> </span><span class="nv">bob_private</span><span class="o">.</span><span class="nv">pem</span><span class="w"> </span><span class="o">-</span><span class="nv">in</span><span class="w"> </span><span class="k">to</span><span class="nv">p_secret</span><span class="o">.</span><span class="nv">enc</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="k">to</span><span class="nv">p_secret</span><span class="o">.</span><span class="nv">txt</span>
<span class="nv">Enter</span><span class="w"> </span><span class="nv">pass</span><span class="w"> </span><span class="nv">phrase</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">bob_private</span><span class="o">.</span><span class="nv">pem</span><span class="o">:</span>
<span class="nv">bob</span><span class="w"> </span><span class="p">$</span>
</code></pre></div>

<p>现在，Bob 可以阅读 Alice 发送给他的秘密消息：</p>
<div class="highlight"><pre><span></span><code><span class="nv">bob</span><span class="w"> </span><span class="p">$</span><span class="w"> </span><span class="nv">ls</span><span class="w"> </span><span class="o">-</span><span class="nv">l</span><span class="w"> </span><span class="k">to</span><span class="nv">p_secret</span><span class="o">.</span><span class="nv">txt</span>
<span class="o">-</span><span class="nv">rw</span><span class="o">-</span><span class="nv">r</span><span class="o">--</span><span class="nv">r</span><span class="o">--.</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="nv">bob</span><span class="w"> </span><span class="nv">bob</span><span class="w"> </span><span class="mi">15</span><span class="w"> </span><span class="nv">Mar</span><span class="w"> </span><span class="mi">22</span><span class="w"> </span><span class="mi">14</span><span class="o">:</span><span class="mi">02</span><span class="w"> </span><span class="k">to</span><span class="nv">p_secret</span><span class="o">.</span><span class="nv">txt</span>
<span class="nv">bob</span><span class="w"> </span><span class="p">$</span>
<span class="nv">bob</span><span class="w"> </span><span class="p">$</span><span class="w"> </span><span class="nv">cat</span><span class="w"> </span><span class="k">to</span><span class="nv">p_secret</span><span class="o">.</span><span class="nv">txt</span>
<span class="nv">vim</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="nv">emacs</span><span class="w"> </span>?
<span class="nv">bob</span><span class="w"> </span><span class="p">$</span>
</code></pre></div>

<p>Bob 需要回复 Alice，因此他将秘密回复写在一个文件中：</p>
<div class="highlight"><pre><span></span><code><span class="nv">bob</span><span class="w"> </span><span class="p">$</span><span class="w"> </span><span class="nv">echo</span><span class="w"> </span><span class="s">&quot;nano for life&quot;</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nv">reply_secret</span><span class="o">.</span><span class="nv">txt</span>
<span class="nv">bob</span><span class="w"> </span><span class="p">$</span>
<span class="nv">bob</span><span class="w"> </span><span class="p">$</span><span class="w"> </span><span class="nv">cat</span><span class="w"> </span><span class="nv">reply_secret</span><span class="o">.</span><span class="nv">txt</span>
<span class="nv">nano</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">life</span>
<span class="nv">bob</span><span class="w"> </span><span class="p">$</span>
</code></pre></div>

<h4>步骤 6：使用其他密钥重复该过程</h4>
<p>为了发送消息，Bob 采用和 Alice 相同的步骤，但是由于该消息是发送给 Alice 的，因此他需要使用 Alice 的公钥来加密文件：</p>
<div class="highlight"><pre><span></span><code><span class="nt">bob</span><span class="w"> </span><span class="o">$</span><span class="w"> </span><span class="nt">openssl</span><span class="w"> </span><span class="nt">rsautl</span><span class="w"> </span><span class="nt">-encrypt</span><span class="w"> </span><span class="nt">-inkey</span><span class="w"> </span><span class="nt">alice_public</span><span class="p">.</span><span class="nc">pem</span><span class="w"> </span><span class="nt">-pubin</span><span class="w"> </span><span class="nt">-in</span><span class="w"> </span><span class="nt">reply_secret</span><span class="p">.</span><span class="nc">txt</span><span class="w"> </span><span class="nt">-out</span><span class="w"> </span><span class="nt">reply_secret</span><span class="p">.</span><span class="nc">enc</span>
<span class="nt">bob</span><span class="w"> </span><span class="o">$</span>
<span class="nt">bob</span><span class="w"> </span><span class="o">$</span><span class="w"> </span><span class="nt">ls</span><span class="w"> </span><span class="nt">-l</span><span class="w"> </span><span class="nt">reply_secret</span><span class="p">.</span><span class="nc">enc</span>
<span class="nt">-rw-r--r--</span><span class="o">.</span><span class="w"> </span><span class="nt">1</span><span class="w"> </span><span class="nt">bob</span><span class="w"> </span><span class="nt">bob</span><span class="w"> </span><span class="nt">128</span><span class="w"> </span><span class="nt">Mar</span><span class="w"> </span><span class="nt">22</span><span class="w"> </span><span class="nt">14</span><span class="p">:</span><span class="nd">03</span><span class="w"> </span><span class="nt">reply_secret</span><span class="p">.</span><span class="nc">enc</span>
<span class="nt">bob</span><span class="w"> </span><span class="o">$</span>
<span class="nt">bob</span><span class="w"> </span><span class="o">$</span><span class="w"> </span><span class="nt">cat</span><span class="w"> </span><span class="nt">reply_secret</span><span class="p">.</span><span class="nc">enc</span>
<span class="err">�</span><span class="nt">F</span><span class="err">݇��</span><span class="p">.</span><span class="nc">4</span><span class="s2">&quot;f�1��\��{o԰$�M��I{5�|�\�l͂�e��Y�V��{�|!$c^a</span>
<span class="s2">                                                 �*Ԫ\vQ�Ϡ9����&#39;��ٮsP��&#39;��Z�1W�n��k���J�0�I;P8������&amp;:bob $</span>
<span class="s2">bob $</span>
<span class="s2">bob $ hexdump -C ./reply_secret.enc</span>
<span class="s2">00000000  92 46 dd 87 04 bc a7 2e  34 22 01 66 1a 13 31 db  |.F......4&quot;</span><span class="p">.</span><span class="nc">f</span><span class="o">.</span><span class="p">.</span><span class="nc">1</span><span class="o">.|</span>
<span class="nt">00000010</span><span class="w">  </span><span class="nt">c4</span><span class="w"> </span><span class="nt">5c</span><span class="w"> </span><span class="nt">b4</span><span class="w"> </span><span class="nt">8e</span><span class="w"> </span><span class="nt">7b</span><span class="w"> </span><span class="nt">6f</span><span class="w"> </span><span class="nt">d4</span><span class="w"> </span><span class="nt">b0</span><span class="w">  </span><span class="nt">24</span><span class="w"> </span><span class="nt">d2</span><span class="w"> </span><span class="nt">4d</span><span class="w"> </span><span class="nt">92</span><span class="w"> </span><span class="nt">9b</span><span class="w"> </span><span class="nt">49</span><span class="w"> </span><span class="nt">7b</span><span class="w"> </span><span class="nt">35</span><span class="w">  </span><span class="o">|.</span><span class="err">\</span><span class="o">..</span><span class="p">{</span><span class="err">o..$.M..I{5|</span>
<span class="err">00000020</span><span class="w">  </span><span class="err">da</span><span class="w"> </span><span class="err">7c</span><span class="w"> </span><span class="err">ee</span><span class="w"> </span><span class="err">5c</span><span class="w"> </span><span class="err">bb</span><span class="w"> </span><span class="err">6c</span><span class="w"> </span><span class="err">cd</span><span class="w"> </span><span class="err">82</span><span class="w">  </span><span class="err">f1</span><span class="w"> </span><span class="err">1b</span><span class="w"> </span><span class="err">92</span><span class="w"> </span><span class="err">65</span><span class="w"> </span><span class="err">f1</span><span class="w"> </span><span class="err">8d</span><span class="w"> </span><span class="err">f2</span><span class="w"> </span><span class="err">59</span><span class="w">  </span><span class="err">|.|.\.l.....e...Y|</span>
<span class="err">00000030</span><span class="w">  </span><span class="err">82</span><span class="w"> </span><span class="err">56</span><span class="w"> </span><span class="err">81</span><span class="w"> </span><span class="err">80</span><span class="w"> </span><span class="err">7b</span><span class="w"> </span><span class="err">89</span><span class="w"> </span><span class="err">07</span><span class="w"> </span><span class="err">7c</span><span class="w">  </span><span class="err">21</span><span class="w"> </span><span class="err">24</span><span class="w"> </span><span class="err">63</span><span class="w"> </span><span class="err">5e</span><span class="w"> </span><span class="err">61</span><span class="w"> </span><span class="err">0c</span><span class="w"> </span><span class="err">ae</span><span class="w"> </span><span class="err">2a</span><span class="w">  </span><span class="err">|.V..{..|!$c^a..*|</span>
<span class="err">00000040</span><span class="w">  </span><span class="err">d4</span><span class="w"> </span><span class="err">aa</span><span class="w"> </span><span class="err">5c</span><span class="w"> </span><span class="err">76</span><span class="w"> </span><span class="err">51</span><span class="w"> </span><span class="err">8d</span><span class="w"> </span><span class="err">cf</span><span class="w"> </span><span class="err">a0</span><span class="w">  </span><span class="err">39</span><span class="w"> </span><span class="err">04</span><span class="w"> </span><span class="err">c1</span><span class="w"> </span><span class="err">d7</span><span class="w"> </span><span class="err">dc</span><span class="w"> </span><span class="err">f0</span><span class="w"> </span><span class="err">ad</span><span class="w"> </span><span class="err">99</span><span class="w">  </span><span class="err">|..\vQ...9.......|</span>
<span class="err">00000050</span><span class="w">  </span><span class="err">27</span><span class="w"> </span><span class="err">ed</span><span class="w"> </span><span class="err">8e</span><span class="w"> </span><span class="err">de</span><span class="w"> </span><span class="err">d9</span><span class="w"> </span><span class="err">ae</span><span class="w"> </span><span class="err">02</span><span class="w"> </span><span class="err">73</span><span class="w">  </span><span class="err">50</span><span class="w"> </span><span class="err">e0</span><span class="w"> </span><span class="err">dd</span><span class="w"> </span><span class="err">27</span><span class="w"> </span><span class="err">13</span><span class="w"> </span><span class="err">ae</span><span class="w"> </span><span class="err">8e</span><span class="w"> </span><span class="err">5a</span><span class="w">  </span><span class="err">|&#39;......sP..&#39;...Z|</span>
<span class="err">00000060</span><span class="w">  </span><span class="err">12</span><span class="w"> </span><span class="err">e4</span><span class="w"> </span><span class="err">9a</span><span class="w"> </span><span class="err">31</span><span class="w"> </span><span class="err">57</span><span class="w"> </span><span class="err">b3</span><span class="w"> </span><span class="err">03</span><span class="w"> </span><span class="err">6e</span><span class="w">  </span><span class="err">dd</span><span class="w"> </span><span class="err">e1</span><span class="w"> </span><span class="err">16</span><span class="w"> </span><span class="err">7f</span><span class="w"> </span><span class="err">6b</span><span class="w"> </span><span class="err">c0</span><span class="w"> </span><span class="err">b3</span><span class="w"> </span><span class="err">8b</span><span class="w">  </span><span class="err">|...1W..n....k...|</span>
<span class="err">00000070</span><span class="w">  </span><span class="err">4a</span><span class="w"> </span><span class="err">cf</span><span class="w"> </span><span class="err">30</span><span class="w"> </span><span class="err">b8</span><span class="w"> </span><span class="err">49</span><span class="w"> </span><span class="err">3b</span><span class="w"> </span><span class="err">50</span><span class="w"> </span><span class="err">38</span><span class="w">  </span><span class="err">e0</span><span class="w"> </span><span class="err">9f</span><span class="w"> </span><span class="err">84</span><span class="w"> </span><span class="err">f6</span><span class="w"> </span><span class="err">83</span><span class="w"> </span><span class="err">da</span><span class="w"> </span><span class="err">26</span><span class="w"> </span><span class="err">3a</span><span class="w">  </span><span class="err">|J.0.I</span><span class="p">;</span><span class="err">P8......&amp;:|</span>
<span class="err">00000080</span>
<span class="err">bob</span><span class="w"> </span><span class="err">$</span>
<span class="err">bob</span><span class="w"> </span><span class="err">$</span><span class="w"> </span><span class="err">#</span><span class="w"> </span><span class="err">remove</span><span class="w"> </span><span class="err">clear</span><span class="w"> </span><span class="err">text</span><span class="w"> </span><span class="err">secret</span><span class="w"> </span><span class="err">message</span><span class="w"> </span><span class="err">file</span>
<span class="err">bob</span><span class="w"> </span><span class="err">$</span><span class="w"> </span><span class="err">rm</span><span class="w"> </span><span class="err">-f</span><span class="w"> </span><span class="err">reply_secret.txt</span>
</code></pre></div>

<p>Bob 通过 <code>scp</code> 将加密的文件发送至 Alice 的工作站：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>scp<span class="w"> </span>reply_secret.enc<span class="w"> </span>alice@alice-machine-or-ip:/path/
</code></pre></div>

<p>如果 Alice 尝试使用常规工具去阅读加密的文本，她将无法理解加密的文本：</p>
<div class="highlight"><pre><span></span><code><span class="nt">alice</span><span class="w"> </span><span class="o">$</span>
<span class="nt">alice</span><span class="w"> </span><span class="o">$</span><span class="w"> </span><span class="nt">ls</span><span class="w"> </span><span class="nt">-l</span><span class="w"> </span><span class="nt">reply_secret</span><span class="p">.</span><span class="nc">enc</span>
<span class="nt">-rw-r--r--</span><span class="o">.</span><span class="w"> </span><span class="nt">1</span><span class="w"> </span><span class="nt">alice</span><span class="w"> </span><span class="nt">alice</span><span class="w"> </span><span class="nt">128</span><span class="w"> </span><span class="nt">Mar</span><span class="w"> </span><span class="nt">22</span><span class="w"> </span><span class="nt">18</span><span class="p">:</span><span class="nd">01</span><span class="w"> </span><span class="nt">reply_secret</span><span class="p">.</span><span class="nc">enc</span>
<span class="nt">alice</span><span class="w"> </span><span class="o">$</span>
<span class="nt">alice</span><span class="w"> </span><span class="o">$</span><span class="w"> </span><span class="nt">cat</span><span class="w"> </span><span class="nt">reply_secret</span><span class="p">.</span><span class="nc">enc</span>
<span class="err">�</span><span class="nt">F</span><span class="err">݇��</span><span class="p">.</span><span class="nc">4</span><span class="s2">&quot;f�1��\��{o԰$�M��I{5�|�\�l͂�e��Y�V��{�|!$c^a</span>
<span class="s2">                                                 �*Ԫ\vQ�Ϡ9����&#39;��ٮsP��&#39;��Z�1W�n��k���J�0�I;P8������&amp;:alice $</span>
<span class="s2">alice $</span>
<span class="s2">alice $</span>
<span class="s2">alice $ hexdump -C ./reply_secret.enc</span>
<span class="s2">00000000  92 46 dd 87 04 bc a7 2e  34 22 01 66 1a 13 31 db  |.F......4&quot;</span><span class="p">.</span><span class="nc">f</span><span class="o">.</span><span class="p">.</span><span class="nc">1</span><span class="o">.|</span>
<span class="nt">00000010</span><span class="w">  </span><span class="nt">c4</span><span class="w"> </span><span class="nt">5c</span><span class="w"> </span><span class="nt">b4</span><span class="w"> </span><span class="nt">8e</span><span class="w"> </span><span class="nt">7b</span><span class="w"> </span><span class="nt">6f</span><span class="w"> </span><span class="nt">d4</span><span class="w"> </span><span class="nt">b0</span><span class="w">  </span><span class="nt">24</span><span class="w"> </span><span class="nt">d2</span><span class="w"> </span><span class="nt">4d</span><span class="w"> </span><span class="nt">92</span><span class="w"> </span><span class="nt">9b</span><span class="w"> </span><span class="nt">49</span><span class="w"> </span><span class="nt">7b</span><span class="w"> </span><span class="nt">35</span><span class="w">  </span><span class="o">|.</span><span class="err">\</span><span class="o">..</span><span class="p">{</span><span class="err">o..$.M..I{5|</span>
<span class="err">00000020</span><span class="w">  </span><span class="err">da</span><span class="w"> </span><span class="err">7c</span><span class="w"> </span><span class="err">ee</span><span class="w"> </span><span class="err">5c</span><span class="w"> </span><span class="err">bb</span><span class="w"> </span><span class="err">6c</span><span class="w"> </span><span class="err">cd</span><span class="w"> </span><span class="err">82</span><span class="w">  </span><span class="err">f1</span><span class="w"> </span><span class="err">1b</span><span class="w"> </span><span class="err">92</span><span class="w"> </span><span class="err">65</span><span class="w"> </span><span class="err">f1</span><span class="w"> </span><span class="err">8d</span><span class="w"> </span><span class="err">f2</span><span class="w"> </span><span class="err">59</span><span class="w">  </span><span class="err">|.|.\.l.....e...Y|</span>
<span class="err">00000030</span><span class="w">  </span><span class="err">82</span><span class="w"> </span><span class="err">56</span><span class="w"> </span><span class="err">81</span><span class="w"> </span><span class="err">80</span><span class="w"> </span><span class="err">7b</span><span class="w"> </span><span class="err">89</span><span class="w"> </span><span class="err">07</span><span class="w"> </span><span class="err">7c</span><span class="w">  </span><span class="err">21</span><span class="w"> </span><span class="err">24</span><span class="w"> </span><span class="err">63</span><span class="w"> </span><span class="err">5e</span><span class="w"> </span><span class="err">61</span><span class="w"> </span><span class="err">0c</span><span class="w"> </span><span class="err">ae</span><span class="w"> </span><span class="err">2a</span><span class="w">  </span><span class="err">|.V..{..|!$c^a..*|</span>
<span class="err">00000040</span><span class="w">  </span><span class="err">d4</span><span class="w"> </span><span class="err">aa</span><span class="w"> </span><span class="err">5c</span><span class="w"> </span><span class="err">76</span><span class="w"> </span><span class="err">51</span><span class="w"> </span><span class="err">8d</span><span class="w"> </span><span class="err">cf</span><span class="w"> </span><span class="err">a0</span><span class="w">  </span><span class="err">39</span><span class="w"> </span><span class="err">04</span><span class="w"> </span><span class="err">c1</span><span class="w"> </span><span class="err">d7</span><span class="w"> </span><span class="err">dc</span><span class="w"> </span><span class="err">f0</span><span class="w"> </span><span class="err">ad</span><span class="w"> </span><span class="err">99</span><span class="w">  </span><span class="err">|..\vQ...9.......|</span>
<span class="err">00000050</span><span class="w">  </span><span class="err">27</span><span class="w"> </span><span class="err">ed</span><span class="w"> </span><span class="err">8e</span><span class="w"> </span><span class="err">de</span><span class="w"> </span><span class="err">d9</span><span class="w"> </span><span class="err">ae</span><span class="w"> </span><span class="err">02</span><span class="w"> </span><span class="err">73</span><span class="w">  </span><span class="err">50</span><span class="w"> </span><span class="err">e0</span><span class="w"> </span><span class="err">dd</span><span class="w"> </span><span class="err">27</span><span class="w"> </span><span class="err">13</span><span class="w"> </span><span class="err">ae</span><span class="w"> </span><span class="err">8e</span><span class="w"> </span><span class="err">5a</span><span class="w">  </span><span class="err">|&#39;......sP..&#39;...Z|</span>
<span class="err">00000060</span><span class="w">  </span><span class="err">12</span><span class="w"> </span><span class="err">e4</span><span class="w"> </span><span class="err">9a</span><span class="w"> </span><span class="err">31</span><span class="w"> </span><span class="err">57</span><span class="w"> </span><span class="err">b3</span><span class="w"> </span><span class="err">03</span><span class="w"> </span><span class="err">6e</span><span class="w">  </span><span class="err">dd</span><span class="w"> </span><span class="err">e1</span><span class="w"> </span><span class="err">16</span><span class="w"> </span><span class="err">7f</span><span class="w"> </span><span class="err">6b</span><span class="w"> </span><span class="err">c0</span><span class="w"> </span><span class="err">b3</span><span class="w"> </span><span class="err">8b</span><span class="w">  </span><span class="err">|...1W..n....k...|</span>
<span class="err">00000070</span><span class="w">  </span><span class="err">4a</span><span class="w"> </span><span class="err">cf</span><span class="w"> </span><span class="err">30</span><span class="w"> </span><span class="err">b8</span><span class="w"> </span><span class="err">49</span><span class="w"> </span><span class="err">3b</span><span class="w"> </span><span class="err">50</span><span class="w"> </span><span class="err">38</span><span class="w">  </span><span class="err">e0</span><span class="w"> </span><span class="err">9f</span><span class="w"> </span><span class="err">84</span><span class="w"> </span><span class="err">f6</span><span class="w"> </span><span class="err">83</span><span class="w"> </span><span class="err">da</span><span class="w"> </span><span class="err">26</span><span class="w"> </span><span class="err">3a</span><span class="w">  </span><span class="err">|J.0.I</span><span class="p">;</span><span class="err">P8......&amp;:|</span>
<span class="err">00000080</span>
<span class="err">alice</span><span class="w"> </span><span class="err">$</span>
</code></pre></div>

<p>所以，她使用 OpenSSL 解密消息，只不过这次她提供了自己的私钥并将输出保存到文件中：</p>
<div class="highlight"><pre><span></span><code><span class="nv">alice</span><span class="w"> </span><span class="p">$</span><span class="w"> </span><span class="nv">openssl</span><span class="w"> </span><span class="nv">rsautl</span><span class="w"> </span><span class="o">-</span><span class="nv">decrypt</span><span class="w"> </span><span class="o">-</span><span class="nv">inkey</span><span class="w"> </span><span class="nv">alice_private</span><span class="o">.</span><span class="nv">pem</span><span class="w"> </span><span class="o">-</span><span class="nv">in</span><span class="w"> </span><span class="nv">reply_secret</span><span class="o">.</span><span class="nv">enc</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nv">reply_secret</span><span class="o">.</span><span class="nv">txt</span>
<span class="nv">Enter</span><span class="w"> </span><span class="nv">pass</span><span class="w"> </span><span class="nv">phrase</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">alice_private</span><span class="o">.</span><span class="nv">pem</span><span class="o">:</span>
<span class="nv">alice</span><span class="w"> </span><span class="p">$</span>
<span class="nv">alice</span><span class="w"> </span><span class="p">$</span><span class="w"> </span><span class="nv">ls</span><span class="w"> </span><span class="o">-</span><span class="nv">l</span><span class="w"> </span><span class="nv">reply_secret</span><span class="o">.</span><span class="nv">txt</span>
<span class="o">-</span><span class="nv">rw</span><span class="o">-</span><span class="nv">rw</span><span class="o">-</span><span class="nv">r</span><span class="o">--.</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="nv">alice</span><span class="w"> </span><span class="nv">alice</span><span class="w"> </span><span class="mi">14</span><span class="w"> </span><span class="nv">Mar</span><span class="w"> </span><span class="mi">22</span><span class="w"> </span><span class="mi">18</span><span class="o">:</span><span class="mi">02</span><span class="w"> </span><span class="nv">reply_secret</span><span class="o">.</span><span class="nv">txt</span>
<span class="nv">alice</span><span class="w"> </span><span class="p">$</span>
<span class="nv">alice</span><span class="w"> </span><span class="p">$</span><span class="w"> </span><span class="nv">cat</span><span class="w"> </span><span class="nv">reply_secret</span><span class="o">.</span><span class="nv">txt</span>
<span class="nv">nano</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">life</span>
<span class="nv">alice</span><span class="w"> </span><span class="p">$</span>
</code></pre></div>

<h3>了解 OpenSSL 的更多信息</h3>
<p>OpenSSL 在加密界是真正的瑞士军刀。除了加密文件外，它还可以执行许多任务，你可以通过访问 OpenSSL <a href="https://www.openssl.org/docs/">文档页面</a>来找到使用它的所有方式，包括手册的链接、 《OpenSSL Cookbook》、常见问题解答等。要了解更多信息，尝试使用其自带的各种加密算法，看看它是如何工作的。</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>