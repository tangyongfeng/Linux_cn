<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>如何在 Linux 中挂载 Bitlocker 加密的 Windows 分区</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Author: Abhishek Prakash 情况是这样的。我的系统自带 Windows 10 Pro，并且带有 BitLocker 加密功能。我 甚至在 Windows 启用了 BitLocker 加密的情况下，以双启动模式安装 …" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">linux_cn</a></h1>
                <nav><ul>
                    <li><a href="/category/chuan-shan-jia-zhuan-fang">穿山甲专访</a></li>
                    <li><a href="/category/dai-ma-ying-xiong">代码英雄</a></li>
                    <li><a href="/category/fen-xiang">分享</a></li>
                    <li><a href="/category/guan-dian">观点</a></li>
                    <li><a href="/category/huo-dong">活动</a></li>
                    <li><a href="/category/ji-ke-man-hua">极客漫画</a></li>
                    <li class="active"><a href="/category/ji-zhu">技术</a></li>
                    <li><a href="/category/kai-yuan-zhi-hui">开源智慧</a></li>
                    <li><a href="/category/linux-fa-xing-ban">Linux 发行版</a></li>
                    <li><a href="/category/mei-ri-an-quan-zi-xun">每日安全资讯</a></li>
                    <li><a href="/category/misc">Misc</a></li>
                    <li><a href="/category/qu-kuai-lian">区块链</a></li>
                    <li><a href="/category/rong-qi-yu-yun">容器与云</a></li>
                    <li><a href="/category/ruan-jian-kai-fa">软件开发</a></li>
                    <li><a href="/category/shu-mei-pai">树莓派</a></li>
                    <li><a href="/category/xi-tong-yun-wei">系统运维</a></li>
                    <li><a href="/category/xin-wen">新闻</a></li>
                    <li><a href="/category/ying-he-guan-cha">硬核观察</a></li>
                    <li><a href="/category/zhi-ye-sheng-ya">职业生涯</a></li>
                    <li><a href="/category/zhong-jiang-ming-dan">中奖名单</a></li>
                    <li><a href="/category/zhuo-mian-ying-yong">桌面应用</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2021/11/ru-he-zai-linux-zhong-gua-zai-bitlocker-jia-mi-de-windows-fen-qu.html" rel="bookmark"
           title="Permalink to 如何在 Linux 中挂载 Bitlocker 加密的 Windows 分区">如何在 Linux 中挂载 Bitlocker 加密的 Windows 分区</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2021-11-22T14:41:46+01:00">
                Published: Mon 22 November 2021
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/linux-fans-from-china.html">linux fans from china</a>
        </address>
<p>In <a href="/category/ji-zhu">技术</a>.</p>

</footer><!-- /.post-info -->      <p>Author: Abhishek Prakash</p>
<blockquote>
<p>情况是这样的。我的系统自带 Windows 10 Pro，并且带有 BitLocker 加密功能。我 <a href="https://itsfoss.com/dual-boot-ubuntu-windows-bitlocker/">甚至在 Windows 启用了 BitLocker 加密的情况下，以双启动模式安装了 Ubuntu</a>。</p>
</blockquote>
<p><img alt="" src="/data/attachment/album/202111/22/144133k6n9xsnnt46t0z94.jpg"></p>
<p>你可以轻松地从 Linux 中访问 Windows 文件。没有什么高科技的东西。只要进入文件管理器，点击通常位于“<ruby> 其他位置 <rt>  Other Locations </rt></ruby>”标签下的 Windows 分区。</p>
<p><img alt="Mounting Windows partition through the file manager in Linux desktop" src="/data/attachment/album/202111/22/144146t9qo6pytmpqdpu2t.png"></p>
<p>对于 BitLocker 加密的 Windows 分区来说，这个过程也不是太复杂。只是当你试图挂载 Windows 分区时，它会要求你输入密码。</p>
<p><img alt="Password required for encrypted Windows drive mount in Linux" src="/data/attachment/album/202111/22/144147a3u888k89c88oes8.png"></p>
<p>这是能工作的。在我的情况中，我输入了 48 位 BitLocker 恢复密码，它解密了 Windows 分区，并在带有 GNOME 40 的 Ubuntu 21.10 中毫无问题地挂载了它。</p>
<p>试试你的 BitLocker 密码。如果这不起作用，试试恢复密码。对于普通的 Windows 10 Pro 用户，恢复密码存储在你的微软账户中。</p>
<p><a href="https://account.microsoft.com/devices/recoverykey?refd=support.microsoft.com">BitLocker Recovery Password in Micrsoft Account</a></p>
<p>输入恢复密码，你会看到 Windows 分区和它的文件现在可以访问。勾选“<ruby> 记住密码 <rt>  Remember Password </rt></ruby>”框也是为了进一步使用而节省时间。</p>
<p><img alt="Encrypted Windows partition now mounted in Linux" src="/data/attachment/album/202111/22/144147hb5zs8kjuu5uv5pj.png"></p>
<p>如果上述方法对你不起作用，或者你不熟悉命令行，还有一个替代方法。</p>
<p>这个方法包括使用一个叫做 <a href="https://github.com/Aorimn/dislocker">Dislocker</a> 的工具。</p>
<h3>使用 Dislocker 在 Linux 中挂载 BotLocker 加密的 Windows 分区（命令行方法）</h3>
<p>使用 Dislocker 分为两部分。第一部分是解开 BitLocker 的加密，并给出一个名为 <code>dislocker-file</code> 的文件。这基本上是一个虚拟的 NTFS 分区。第二部分是挂载你刚刚得到的虚拟 NTFS 分区。</p>
<p>你需要 BitLocker 密码或恢复密码来解密加密的驱动器。</p>
<p>让我们来看看详细的步骤。</p>
<h4>步骤 1：安装 Disclocker</h4>
<p>大多数 Linux 发行版的仓库中都有 Dislocker。请使用你的发行版的包管理器来安装它。</p>
<p>在基于 Ubuntu 和 Debian 的发行版上，使用这个命令：</p>
<div class="highlight"><pre><span></span><code>sudo apt install dislocker
</code></pre></div>

<p><img alt="Installing Dislocker in Ubuntu" src="/data/attachment/album/202111/22/144148y36p9e9ztz699l9u.png"></p>
<h4>步骤 2：创建挂载点</h4>
<p>你需要创建两个挂载点。一个是 Dislocker 生成 <code>dislocker-file</code> 的地方，另一个是将这个 <code>dislocker-file</code>（虚拟文件系统）作为一个回环设备挂载。</p>
<p>没有命名限制，你可以给这些挂载目录起任何你想要的名字。</p>
<p>逐一使用这些命令：</p>
<div class="highlight"><pre><span></span><code>sudo mkdir -p /media/decrypt
sudo mkdir -p /media/windows-mount
</code></pre></div>

<p><img alt="Creating mount points for dislocker" src="/data/attachment/album/202111/22/144148v100x4xd0bvidzre.png"></p>
<h4>步骤 3：获取需要解密的分区信息</h4>
<p>你需要 Windows 分区的名称。你可以使用文件资源管理器或像 Gparted 这样的 GUI 工具。</p>
<p><img alt="Get the partition name" src="/data/attachment/album/202111/22/144148c5dmmedf16ef9m5t.png"></p>
<p>在我的例子中，Windows 分区是 <code>/dev/nvme0n1p3</code>。对你的系统来说，这将是不同的。你也可以使用命令行来达到这个目的。</p>
<div class="highlight"><pre><span></span><code>sudo lsblk
</code></pre></div>

<h4>步骤 4：解密分区并挂载</h4>
<p>你已经设置好了一切。现在是真正的部分。</p>
<p><strong>如果你有 BitLocker 密码</strong>，以这种方式使用 <code>dislocker</code> 命令（用实际值替换 <code>&lt;partition_name&gt;</code> 和 <code>&lt;password&gt;</code>）：</p>
<div class="highlight"><pre><span></span><code>sudo dislocker &lt;partition_name&gt; -u&lt;password&gt; -- /media/decrypt
</code></pre></div>

<p>如果你只有恢复密码，请以这种方式使用该命令用实际值替换 <code>&lt;partition_name&gt;</code> 和 <code>&lt;password&gt;</code>）：</p>
<div class="highlight"><pre><span></span><code>sudo dislocker &lt;partition_name&gt; -p&lt;recovery_password&gt; -- /media/decrypt
</code></pre></div>

<p>在解密该分区时，应该不会花很长时间。你应该在指定的挂载点看到 <code>dislocker-file</code>，在我们的例子中是 <code>/media/decrypt</code>。现在挂载这个 dislocker-file：</p>
<div class="highlight"><pre><span></span><code><span class="nv">sudo</span><span class="w"> </span><span class="nv">mount</span><span class="w"> </span><span class="o">-</span><span class="nv">o</span><span class="w"> </span><span class="k">loop</span><span class="w"> </span><span class="o">/</span><span class="nv">media</span><span class="o">/</span><span class="nv">decrypt</span><span class="o">/</span><span class="nv">dislocker</span><span class="o">-</span><span class="nv">file</span><span class="w"> </span><span class="o">/</span><span class="nv">media</span><span class="o">/</span><span class="nv">windows</span><span class="o">-</span><span class="nv">mount</span>
</code></pre></div>

<p><img alt="" src="/data/attachment/album/202111/22/144149mye8qve8hirmxqjv.png"></p>
<p>完成了。你的 BitLocker 加密的 Windows 分区已经被解密并挂载到 Linux 中。你也可以从文件资源管理器中访问它。</p>
<p><img alt="Mounting Dislocker decrypted Windows partition with file manager" src="/data/attachment/album/202111/22/144149lqqvg3gvgk5r44sd.png"></p>
<h4>文件系统类型错误的故障排除提示</h4>
<p>如果你遇到这样的错误：</p>
<div class="highlight"><pre><span></span><code><span class="nx">mount</span><span class="p">:</span><span class="w"> </span><span class="o">/</span><span class="nx">media</span><span class="o">/</span><span class="nx">windows</span><span class="o">-</span><span class="nx">mount</span><span class="p">:</span><span class="w"> </span><span class="nx">wrong</span><span class="w"> </span><span class="nx">fs</span><span class="w"> </span><span class="k">type</span><span class="p">,</span><span class="w"> </span><span class="nx">bad</span><span class="w"> </span><span class="nx">option</span><span class="p">,</span><span class="w"> </span><span class="nx">bad</span><span class="w"> </span><span class="nx">superblock</span><span class="w"> </span><span class="nx">on</span><span class="w"> </span><span class="o">/</span><span class="nx">dev</span><span class="o">/</span><span class="nx">loop35</span><span class="p">,</span><span class="w"> </span><span class="nx">missing</span><span class="w"> </span><span class="nx">codepage</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="nx">helper</span><span class="w"> </span><span class="nx">program</span><span class="p">,</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="nx">other</span><span class="w"> </span><span class="nx">error</span><span class="p">.</span>
</code></pre></div>

<p>你应该在挂载时指定文件系统。</p>
<p>对于NTFS，使用：</p>
<div class="highlight"><pre><span></span><code><span class="nv">sudo</span><span class="w"> </span><span class="nv">mount</span><span class="w"> </span><span class="o">-</span><span class="nv">t</span><span class="w"> </span><span class="nv">ntfs</span><span class="o">-</span><span class="mi">3</span><span class="nv">g</span><span class="w"> </span><span class="o">-</span><span class="nv">o</span><span class="w"> </span><span class="k">loop</span><span class="w"> </span><span class="o">/</span><span class="nv">media</span><span class="o">/</span><span class="nv">decrypt</span><span class="o">/</span><span class="nv">dislocker</span><span class="o">-</span><span class="nv">file</span><span class="w"> </span><span class="o">/</span><span class="nv">media</span><span class="o">/</span><span class="nv">windows</span><span class="o">-</span><span class="nv">mount</span>
</code></pre></div>

<p>对于 exFAT，使用：</p>
<div class="highlight"><pre><span></span><code><span class="nv">sudo</span><span class="w"> </span><span class="nv">mount</span><span class="w"> </span><span class="o">-</span><span class="nv">t</span><span class="w"> </span><span class="nv">exFAT</span><span class="o">-</span><span class="nv">fuse</span><span class="w"> </span><span class="o">-</span><span class="nv">o</span><span class="w"> </span><span class="k">loop</span><span class="w"> </span><span class="o">/</span><span class="nv">media</span><span class="o">/</span><span class="nv">decrypt</span><span class="o">/</span><span class="nv">dislocker</span><span class="o">-</span><span class="nv">file</span><span class="w"> </span><span class="o">/</span><span class="nv">media</span><span class="o">/</span><span class="nv">windows</span><span class="o">-</span><span class="nv">mount</span>
</code></pre></div>

<h4>解除对 Windows 分区的挂载</h4>
<p>你可以从文件管理器中取消挂载的分区。只要<strong>点击名为 windows-mount 的分区旁边的卸载符号</strong>。</p>
<p>或者，你可以使用卸载命令：</p>
<div class="highlight"><pre><span></span><code>sudo umount /media/decrypt
sudo umount /media/windows-mount
</code></pre></div>

<p>我希望这对你有帮助。如果你还有问题或建议，请在评论中告诉我。</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>