<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>在 Fedora Linux 上使用 OpenCV（一）</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Author: Onuralp Sezer 封面图片选自文森特·梵高的《星空》，公共领域，通过维基共享资源发布 技术世界每天都在变化，对计算机视觉、人工智 …" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">linux_cn</a></h1>
                <nav><ul>
                    <li><a href="/category/chuan-shan-jia-zhuan-fang">穿山甲专访</a></li>
                    <li><a href="/category/dai-ma-ying-xiong">代码英雄</a></li>
                    <li><a href="/category/fen-xiang">分享</a></li>
                    <li><a href="/category/guan-dian">观点</a></li>
                    <li><a href="/category/huo-dong">活动</a></li>
                    <li><a href="/category/ji-ke-man-hua">极客漫画</a></li>
                    <li><a href="/category/ji-zhu">技术</a></li>
                    <li><a href="/category/kai-yuan-zhi-hui">开源智慧</a></li>
                    <li><a href="/category/linux-fa-xing-ban">Linux 发行版</a></li>
                    <li><a href="/category/mei-ri-an-quan-zi-xun">每日安全资讯</a></li>
                    <li><a href="/category/misc">Misc</a></li>
                    <li><a href="/category/qu-kuai-lian">区块链</a></li>
                    <li><a href="/category/rong-qi-yu-yun">容器与云</a></li>
                    <li class="active"><a href="/category/ruan-jian-kai-fa">软件开发</a></li>
                    <li><a href="/category/shu-mei-pai">树莓派</a></li>
                    <li><a href="/category/xi-tong-yun-wei">系统运维</a></li>
                    <li><a href="/category/xin-wen">新闻</a></li>
                    <li><a href="/category/ying-he-guan-cha">硬核观察</a></li>
                    <li><a href="/category/zhi-ye-sheng-ya">职业生涯</a></li>
                    <li><a href="/category/zhong-jiang-ming-dan">中奖名单</a></li>
                    <li><a href="/category/zhuo-mian-ying-yong">桌面应用</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2021/08/zai-fedora-linux-shang-shi-yong-opencvyi.html" rel="bookmark"
           title="Permalink to 在 Fedora Linux 上使用 OpenCV（一）">在 Fedora Linux 上使用 OpenCV（一）</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2021-08-19T11:33:26+02:00">
                Published: Thu 19 August 2021
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/linux-fans-from-china.html">linux fans from china</a>
        </address>
<p>In <a href="/category/ruan-jian-kai-fa">软件开发</a>.</p>

</footer><!-- /.post-info -->      <p>Author: Onuralp Sezer</p>
<p><img alt="" src="/data/attachment/album/202108/19/113328csmx7nsubsxpmmf3.jpg"></p>
<p><em>封面图片选自<a href="https://commons.wikimedia.org/wiki/File:Van_Gogh_-_Starry_Night_-_Google_Art_Project.jpg">文森特·梵高</a>的《星空》，公共领域，通过维基共享资源发布</em></p>
<p>技术世界每天都在变化，对计算机视觉、人工智能和机器学习的需求也在增加。让计算机和手机能够看到周围环境的技术被称为 <a href="https://en.wikipedia.org/wiki/Computer_vision">计算机视觉</a>。这个重新创造人眼的工作始于 50 年代。从那时起，计算机视觉技术有了长足的发展。计算机视觉已经通过不同的应用进入了我们的手机。这篇文章将介绍 Fedora Linux 上的 <a href="https://en.wikipedia.org/wiki/OpenCV">OpenCV</a>。</p>
<h3>什么是 OpenCV？</h3>
<blockquote>
<p>OpenCV（<ruby> 开源计算机视觉库 <rt>  Open Source Computer Vision Library </rt></ruby>）是一个开源的计算机视觉和机器学习软件库。OpenCV 的建立是为了给计算机视觉应用提供一个通用的基础设施，并加速机器感知在商业产品中的应用。它有超过 2500 种优化后的算法，其中包括一套全面的经典和最先进的计算机视觉和机器学习算法。这些算法可用于检测和识别人脸、识别物体、对视频中的人类行为进行分类，并建立标记，将其与增强现实叠加等等。</p>
<p><a href="https://opencv.org/about/">opencv.org – about</a></p>
</blockquote>
<h3>在 Fedora Linux 上安装 OpenCV</h3>
<p>要开始使用 OpenCV，请从 Fedora Linux 仓库中安装它：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>sudo<span class="w"> </span>dnf<span class="w"> </span>install<span class="w"> </span>opencv<span class="w"> </span>opencv-contrib<span class="w"> </span>opencv-doc<span class="w"> </span>python3-opencv<span class="w"> </span>python3-matplotlib<span class="w"> </span>python3-numpy
</code></pre></div>

<p><strong>注意：</strong> 在 Fedora Silverblue 或 CoreOS 上，Python 3.9 是核心提交的一部分。用以下方法安装 OpenCV 和所需工具：</p>
<div class="highlight"><pre><span></span><code>rpm-ostree install opencv opencv-doc python3-opencv python3-matplotlib python3-numpy
</code></pre></div>

<p>接下来，在终端输入以下命令，以验证 OpenCV 是否已经安装：</p>
<div class="highlight"><pre><span></span><code><span class="err">$</span> <span class="n">python</span>
<span class="n">Python</span> <span class="mf">3.9.6</span> <span class="p">(</span><span class="n">default</span><span class="p">,</span> <span class="n">Jul</span> <span class="mi">16</span> <span class="mi">2021</span><span class="p">,</span> <span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">)</span>
<span class="p">[</span><span class="n">GCC</span> <span class="mf">11.1.1</span> <span class="mi">20210531</span> <span class="p">(</span><span class="n">Red</span> <span class="n">Hat</span> <span class="mf">11.1.1</span><span class="o">-</span><span class="mi">3</span><span class="p">)]</span> <span class="n">on</span> <span class="n">linux</span>
<span class="n">Type</span> <span class="s2">&quot;help&quot;</span><span class="p">,</span> <span class="s2">&quot;copyright&quot;</span><span class="p">,</span> <span class="s2">&quot;credits&quot;</span> <span class="ow">or</span> <span class="s2">&quot;license&quot;</span> <span class="k">for</span> <span class="n">more</span> <span class="n">information</span><span class="o">.</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">cv2</span> <span class="k">as</span> <span class="nn">cv</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span> <span class="n">cv</span><span class="o">.</span><span class="n">__version__</span> <span class="p">)</span>
<span class="mf">4.5.2</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">exit</span><span class="p">()</span>
</code></pre></div>

<p>当你输入 <code>print</code> 命令时，应该显示当前的 OpenCV 版本，如上图所示。这表明 OpenCV 和 Python-OpenCV 库已经成功安装。</p>
<p>此外，如果你想用 Jupyter Notebook 做笔记和写代码，并了解更多关于数据科学工具的信息，请查看早期的 Fedora Magazine 文章：<a href="https://fedoramagazine.org/jupyter-and-data-science-in-fedora/">Fedora 中的 Jupyter 和数据科学</a>。</p>
<h3>开始使用 OpenCV</h3>
<p>安装完成后，使用 Python 和 OpenCV 库加载一个样本图像（按 <code>S</code> 键以 png 格式保存图像的副本并完成程序）：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>cp<span class="w"> </span>/usr/share/opencv4/samples/data/starry_night.jpg<span class="w"> </span>.
$<span class="w"> </span>python<span class="w"> </span>starry_night.py
</code></pre></div>

<p><code>starry_night.py</code> 的内容：</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">cv2</span> <span class="k">as</span> <span class="nn">cv</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="n">img</span> <span class="o">=</span> <span class="n">cv</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="n">cv</span><span class="o">.</span><span class="n">samples</span><span class="o">.</span><span class="n">findFile</span><span class="p">(</span><span class="s2">&quot;starry_night.jpg&quot;</span><span class="p">))</span>
<span class="k">if</span> <span class="n">img</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="s2">&quot;Could not read the image.&quot;</span><span class="p">)</span>
<span class="n">cv</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s2">&quot;Display window&quot;</span><span class="p">,</span> <span class="n">img</span><span class="p">)</span>
<span class="n">k</span> <span class="o">=</span> <span class="n">cv</span><span class="o">.</span><span class="n">waitKey</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="k">if</span> <span class="n">k</span> <span class="o">==</span> <span class="nb">ord</span><span class="p">(</span><span class="s2">&quot;s&quot;</span><span class="p">):</span>
    <span class="n">cv</span><span class="o">.</span><span class="n">imwrite</span><span class="p">(</span><span class="s2">&quot;starry_night.png&quot;</span><span class="p">,</span> <span class="n">img</span><span class="p">)</span>
</code></pre></div>

<p><img alt="" src="/data/attachment/album/202108/19/113329y37i3rzk7rne5klq.png"></p>
<p>通过在 <code>cv.imread</code> 函数中添加参数 <code>0</code>，对图像进行灰度处理，如下所示。</p>
<div class="highlight"><pre><span></span><code>img = cv.imread(cv.samples.findFile(&quot;starry_night.jpg&quot;),0)
</code></pre></div>

<p><img alt="" src="/data/attachment/album/202108/19/113331e0d8e9j107h072h6.png"></p>
<p>这些是一些可以用于 <code>cv.imread</code> 函数的第二个参数的替代值：</p>
<ul>
<li><code>cv2.IMREAD_GRAYSCALE</code> 或 <code>0</code>：以灰度模式加载图像。</li>
<li><code>cv2.IMREAD_COLOR** 或</code>1`：以彩色模式载入图像。图像中的任何透明度将被移除。这是默认的。</li>
<li><code>cv2.IMREAD_UNCHANGED** 或</code>-1`：载入未经修改的图像。包括 alpha 通道。</li>
</ul>
<h4>使用 OpenCV 显示图像属性</h4>
<p>图像属性包括行、列和通道的数量、图像数据的类型、像素的数量等等。假设你想访问图像的形状和它的数据类型。你可以这样做：</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">cv2</span> <span class="k">as</span> <span class="nn">cv</span>

<span class="n">img</span> <span class="o">=</span> <span class="n">cv</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="n">cv</span><span class="o">.</span><span class="n">samples</span><span class="o">.</span><span class="n">findFile</span><span class="p">(</span><span class="s2">&quot;starry_night.jpg&quot;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Image size is&quot;</span><span class="p">,</span> <span class="n">img</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Data type of image is&quot;</span><span class="p">,</span> <span class="n">img</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span>

<span class="n">Image</span> <span class="n">size</span> <span class="ow">is</span> <span class="p">(</span><span class="mi">600</span><span class="p">,</span> <span class="mi">752</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">Data</span> <span class="nb">type</span> <span class="n">of</span> <span class="n">image</span> <span class="ow">is</span> <span class="n">uint8</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Image 2D numpy array </span><span class="se">\n</span><span class="s2"> </span><span class="si">{</span><span class="n">img</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">Image</span> <span class="mi">2</span><span class="n">D</span> <span class="n">numpy</span> <span class="n">array</span>
 <span class="p">[[[</span><span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span><span class="p">]</span>
  <span class="p">[</span><span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span><span class="p">]</span>
  <span class="p">[</span><span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span><span class="p">]</span>
  <span class="o">...</span>
  <span class="p">[</span><span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span><span class="p">]</span>
  <span class="p">[</span><span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span><span class="p">]</span>
  <span class="p">[</span><span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span><span class="p">]]</span>

 <span class="p">[[</span><span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span><span class="p">]</span>
  <span class="p">[</span><span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span><span class="p">]</span>
  <span class="p">[</span><span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span><span class="p">]</span>
  <span class="o">...</span>
</code></pre></div>

<ul>
<li><code>img.shape</code>：返回一个行数、列数和通道数的元组（如果是彩色图像）。</li>
<li><code>img.dtype</code>：返回图像的数据类型。</li>
</ul>
<p>接下来用 Matplotlib 显示图像：</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">cv2</span> <span class="k">as</span> <span class="nn">cv</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="n">img</span> <span class="o">=</span> <span class="n">cv</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="n">cv</span><span class="o">.</span><span class="n">samples</span><span class="o">.</span><span class="n">findFile</span><span class="p">(</span><span class="s2">&quot;starry_night.jpg&quot;</span><span class="p">),</span><span class="mi">0</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div>

<p><img alt="" src="/data/attachment/album/202108/19/113332bws6w0lg8syacpg0.png"></p>
<h4>发生了什么？</h4>
<p>该图像是作为灰度图像读入的，但是当使用 Matplotlib 的 <code>imshow</code> 函数时，它不一定会以灰度显示。这是因为 <code>imshow</code> 函数默认使用不同的颜色映射。要指定使用灰度颜色映射，请将 <code>imshow</code> 函数的第二个参数设置为 <code>cmap='gray'</code>，如下所示：</p>
<div class="highlight"><pre><span></span><code>plt.imshow(img,cmap=&#39;gray&#39;)
</code></pre></div>

<p><img alt="" src="/data/attachment/album/202108/19/113333bhccqchhhg46ixxd.png"></p>
<p>这个问题在以彩色模式打开图片时也会发生，因为 Matplotlib 期望图片为 RGB（红、绿、蓝）格式，而 OpenCV 则以 BGR（蓝、绿、红）格式存储图片。为了正确显示，你需要将 BGR 图像的通道反转。</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">cv2</span> <span class="k">as</span> <span class="nn">cv</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="n">img</span> <span class="o">=</span> <span class="n">cv</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="n">cv</span><span class="o">.</span><span class="n">samples</span><span class="o">.</span><span class="n">findFile</span><span class="p">(</span><span class="s2">&quot;starry_night.jpg&quot;</span><span class="p">),</span><span class="n">cv</span><span class="o">.</span><span class="n">IMREAD_COLOR</span><span class="p">)</span>
<span class="n">fig</span><span class="p">,</span> <span class="p">(</span><span class="n">ax1</span><span class="p">,</span> <span class="n">ax2</span><span class="p">)</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;BGR Colormap&#39;</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">img</span><span class="p">[:,:,::</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Reversed BGR Colormap(RGB)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div>

<p><img alt="" src="/data/attachment/album/202108/19/113334iu75nne6deo65o15.png"></p>
<h4>分割和合并颜色通道</h4>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">cv2</span> <span class="k">as</span> <span class="nn">cv</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="n">img</span> <span class="o">=</span> <span class="n">cv</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="n">cv</span><span class="o">.</span><span class="n">samples</span><span class="o">.</span><span class="n">findFile</span><span class="p">(</span><span class="s2">&quot;starry_night.jpg&quot;</span><span class="p">),</span><span class="n">cv</span><span class="o">.</span><span class="n">IMREAD_COLOR</span><span class="p">)</span>
<span class="n">b</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">r</span> <span class="o">=</span> <span class="n">cv</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span><span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>

<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">r</span><span class="p">,</span><span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;gray&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Red Channel&quot;</span><span class="p">);</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">g</span><span class="p">,</span><span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;gray&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Green Channel&quot;</span><span class="p">);</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">b</span><span class="p">,</span><span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;gray&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Blue Channel&quot;</span><span class="p">);</span>

<span class="c1"># Merge the individual channels into a BGR image</span>
<span class="n">imgMerged</span> <span class="o">=</span> <span class="n">cv</span><span class="o">.</span><span class="n">merge</span><span class="p">((</span><span class="n">b</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">r</span><span class="p">))</span>
<span class="c1"># Show the merged output</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">imgMerged</span><span class="p">[:,:,::</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Merged Output&quot;</span><span class="p">);</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div>

<p><img alt="" src="/data/attachment/album/202108/19/113335bxb8qobrq3t8p8zz.png"></p>
<ul>
<li><code>cv2.split</code>：将一个多通道数组分割成几个单通道数组。</li>
<li><code>cv2.merge</code>：将几个数组合并成一个多通道数组。所有的输入矩阵必须具有相同的大小。</li>
</ul>
<p><strong>注意：</strong> 白色较多的图像具有较高的颜色密度。相反，黑色较多的图像，其颜色密度较低。在上面的例子中，红色的密度是最低的。</p>
<h4>转换到不同的色彩空间</h4>
<p><code>cv2.cvtColor</code> 函数将一个输入图像从一个颜色空间转换到另一个颜色空间。在 RGB 和 BGR 色彩空间之间转换时，应明确指定通道的顺序（<code>RGB2BGR</code> 或 <code>BGR2RGB</code>）。<strong>注意，OpenCV 中的默认颜色格式通常被称为 RGB，但它实际上是 BGR（字节是相反的）。</strong> 因此，标准（24 位）彩色图像的第一个字节将是一个 8 位蓝色分量，第二个字节是绿色，第三个字节是红色。然后第四、第五和第六个字节将是第二个像素（蓝色、然后是绿色，然后是红色），以此类推。</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">cv2</span> <span class="k">as</span> <span class="nn">cv</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="n">img</span> <span class="o">=</span> <span class="n">cv</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="n">cv</span><span class="o">.</span><span class="n">samples</span><span class="o">.</span><span class="n">findFile</span><span class="p">(</span><span class="s2">&quot;starry_night.jpg&quot;</span><span class="p">),</span><span class="n">cv</span><span class="o">.</span><span class="n">IMREAD_COLOR</span><span class="p">)</span>
<span class="n">img_rgb</span> <span class="o">=</span> <span class="n">cv</span><span class="o">.</span><span class="n">cvtColor</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">cv</span><span class="o">.</span><span class="n">COLOR_BGR2RGB</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">img_rgb</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div>

<p><img alt="" src="/data/attachment/album/202108/19/113336z969zuuuz6tke6dd.png"></p>
<h3>更多信息</h3>
<p>关于 OpenCV 的更多细节可以在<a href="https://docs.opencv.org/4.5.2/index.html">在线文档</a>中找到。</p>
<p>感谢阅读。</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>