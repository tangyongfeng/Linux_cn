<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>smem – Linux 下基于进程和用户的内存占用报告</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Author: Aaron Kili Linux 系统的内存管理工作中，内存使用情况的监控是十分重要的，在各种 Linux 发行版上你会找到许多这种工具。它们的 …" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">linux_cn</a></h1>
                <nav><ul>
                    <li><a href="/category/chuan-shan-jia-zhuan-fang">穿山甲专访</a></li>
                    <li><a href="/category/dai-ma-ying-xiong">代码英雄</a></li>
                    <li><a href="/category/fen-xiang">分享</a></li>
                    <li><a href="/category/guan-dian">观点</a></li>
                    <li><a href="/category/huo-dong">活动</a></li>
                    <li><a href="/category/ji-ke-man-hua">极客漫画</a></li>
                    <li><a href="/category/ji-zhu">技术</a></li>
                    <li><a href="/category/kai-yuan-zhi-hui">开源智慧</a></li>
                    <li><a href="/category/linux-fa-xing-ban">Linux 发行版</a></li>
                    <li><a href="/category/mei-ri-an-quan-zi-xun">每日安全资讯</a></li>
                    <li><a href="/category/misc">Misc</a></li>
                    <li><a href="/category/qu-kuai-lian">区块链</a></li>
                    <li><a href="/category/rong-qi-yu-yun">容器与云</a></li>
                    <li><a href="/category/ruan-jian-kai-fa">软件开发</a></li>
                    <li><a href="/category/shu-mei-pai">树莓派</a></li>
                    <li class="active"><a href="/category/xi-tong-yun-wei">系统运维</a></li>
                    <li><a href="/category/xin-wen">新闻</a></li>
                    <li><a href="/category/ying-he-guan-cha">硬核观察</a></li>
                    <li><a href="/category/zhi-ye-sheng-ya">职业生涯</a></li>
                    <li><a href="/category/zhong-jiang-ming-dan">中奖名单</a></li>
                    <li><a href="/category/zhuo-mian-ying-yong">桌面应用</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2016/08/smem-linux-xia-ji-yu-jin-cheng-he-yong-hu-de-nei-cun-zhan-yong-bao-gao.html" rel="bookmark"
           title="Permalink to smem – Linux 下基于进程和用户的内存占用报告">smem – Linux 下基于进程和用户的内存占用报告</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2016-08-14T09:33:00+02:00">
                Published: Sun 14 August 2016
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/linux-fans-from-china.html">linux fans from china</a>
        </address>
<p>In <a href="/category/xi-tong-yun-wei">系统运维</a>.</p>

</footer><!-- /.post-info -->      <p>Author: Aaron Kili</p>
<p>Linux 系统的内存管理工作中，内存使用情况的监控是十分重要的，在各种 Linux 发行版上你会找到许多这种工具。它们的工作方式多种多样，在这里，我们将会介绍如何安装和使用这样的一个名为 smem 的工具软件。</p>
<p>Smem 是一款命令行下的内存使用情况报告工具，它能够给用户提供 Linux 系统下的内存使用的多种报告。和其它传统的内存报告工具不同的是，它有个独特的功能，可以报告 PSS（<ruby> 按比例占用大小 <rp>  （ </rp> <rt>  Proportional Set Size </rt> <rp>  ） </rp></ruby>），这种内存使用量表示方法对于那些在虚拟内存中的应用和库更有意义。</p>
<p><img alt="" src="/data/attachment/album/201608/14/093234hpdr9hvdchhch9fh.jpg"></p>
<p>已有的传统工具会将目光主要集中于读取 RSS（<ruby> 实际占用大小 <rp>  （ </rp> <rt>  Resident Set Size </rt> <rp>  ） </rp></ruby>），这种方法是以物理内存方案来衡量使用情况的标准方法，但是往往高估了应用程序的内存的使用情况。</p>
<p>PSS 从另一个侧面，通过判定在虚拟内存中的应用和库所使用的“合理分享”的内存，来给出更可信的衡量结果。</p>
<p>你可以阅读此<a href="https://emilics.com/notebook/enblog/p871.html">指南 (关于内存的 RSS 和 PSS)</a>了解 Linux 系统中的内存占用，不过现在让我们继续看看 smem 的特点。</p>
<h3>Smem 这一工具的特点</h3>
<ul>
<li>系统概览列表</li>
<li>以进程、映射和用户来显示或者是过滤</li>
<li>从 /proc 文件系统中得到数据</li>
<li>从多个数据源配置显示的条目</li>
<li>可配置输出单位和百分比</li>
<li>易于配置列表表头和汇总</li>
<li>从镜像文件夹或者是压缩的 tar 文件中获得数据快照</li>
<li>内置的图表生成机制</li>
<li>轻量级的捕获工具，可用于嵌入式系统</li>
</ul>
<h3>如何安装 Smem - Linux 下的内存使用情况报告工具</h3>
<p>安装之前，需要确保满足以下的条件：</p>
<ul>
<li>现代内核 (版本号高于 2.6.27)</li>
<li>较新的 Python 版本 (2.4 及以后版本)</li>
<li>可选的 <a href="http://matplotlib.org/index.html">matplotlib</a> 库用于生成图表</li>
</ul>
<p>对于当今的大多数的 Linux 发行版而言，内核版本和 Python 的版本都能够满足需要，所以仅需要为生成良好的图表安装 matplotlib 库。</p>
<h4>RHEL, CentOS 和 Fedora</h4>
<p>首先启用 <a href="/article-2324-1.html">EPEL (Extra Packages for Enterprise Linux)</a> 软件源，然后按照下列步骤操作：</p>
<div class="highlight"><pre><span></span><code># yum install smem python-matplotlib python-tk
</code></pre></div>

<h4>Debian 和 Ubuntu</h4>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>smem
</code></pre></div>

<h4>Linux Mint</h4>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>smem<span class="w"> </span>python-matplotlib<span class="w"> </span>python-tk
</code></pre></div>

<h4>Arch Linux</h4>
<p>使用此 <a href="https://www.archlinux.org/packages/community/i686/smem/">AUR 仓库</a>。</p>
<h3>如何使用 Smem – Linux 下的内存使用情况报告工具</h3>
<p>为了查看整个系统所有用户的内存使用情况，运行以下的命令：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>sudo<span class="w"> </span>smem
</code></pre></div>

<p><em>监视 Linux 系统中的内存使用情况</em></p>
<div class="highlight"><pre><span></span><code><span class="w">  </span><span class="nv">PID</span><span class="w"> </span><span class="nv">User</span><span class="w">     </span><span class="nv">Command</span><span class="w">                         </span><span class="nv">Swap</span><span class="w">      </span><span class="nv">USS</span><span class="w">      </span><span class="nv">PSS</span><span class="w">      </span><span class="nv">RSS</span>
<span class="w"> </span><span class="mi">6367</span><span class="w"> </span><span class="nv">tecmint</span><span class="w">  </span><span class="nv">cat</span><span class="w">                                </span><span class="mi">0</span><span class="w">      </span><span class="mi">100</span><span class="w">      </span><span class="mi">145</span><span class="w">     </span><span class="mi">1784</span>
<span class="w"> </span><span class="mi">6368</span><span class="w"> </span><span class="nv">tecmint</span><span class="w">  </span><span class="nv">cat</span><span class="w">                                </span><span class="mi">0</span><span class="w">      </span><span class="mi">100</span><span class="w">      </span><span class="mi">147</span><span class="w">     </span><span class="mi">1676</span>
<span class="w"> </span><span class="mi">2864</span><span class="w"> </span><span class="nv">tecmint</span><span class="w">  </span><span class="o">/</span><span class="nv">usr</span><span class="o">/</span><span class="nv">bin</span><span class="o">/</span><span class="nv">ck</span><span class="o">-</span><span class="nv">launch</span><span class="o">-</span><span class="nv">session</span><span class="w">         </span><span class="mi">0</span><span class="w">      </span><span class="mi">144</span><span class="w">      </span><span class="mi">165</span><span class="w">     </span><span class="mi">1780</span>
<span class="w"> </span><span class="mi">7656</span><span class="w"> </span><span class="nv">tecmint</span><span class="w">  </span><span class="nv">gnome</span><span class="o">-</span><span class="nv">pty</span><span class="o">-</span><span class="nv">helper</span><span class="w">                   </span><span class="mi">0</span><span class="w">      </span><span class="mi">156</span><span class="w">      </span><span class="mi">178</span><span class="w">     </span><span class="mi">1832</span>
<span class="w"> </span><span class="mi">5758</span><span class="w"> </span><span class="nv">tecmint</span><span class="w">  </span><span class="nv">gnome</span><span class="o">-</span><span class="nv">pty</span><span class="o">-</span><span class="nv">helper</span><span class="w">                   </span><span class="mi">0</span><span class="w">      </span><span class="mi">156</span><span class="w">      </span><span class="mi">179</span><span class="w">     </span><span class="mi">1916</span>
<span class="w"> </span><span class="mi">1441</span><span class="w"> </span><span class="nv">root</span><span class="w">     </span><span class="o">/</span><span class="nv">sbin</span><span class="o">/</span><span class="nv">getty</span><span class="w"> </span><span class="o">-</span><span class="mi">8</span><span class="w"> </span><span class="mi">38400</span><span class="w"> </span><span class="nv">tty2</span><span class="w">          </span><span class="mi">0</span><span class="w">      </span><span class="mi">152</span><span class="w">      </span><span class="mi">184</span><span class="w">     </span><span class="mi">2052</span>
<span class="w"> </span><span class="mi">1434</span><span class="w"> </span><span class="nv">root</span><span class="w">     </span><span class="o">/</span><span class="nv">sbin</span><span class="o">/</span><span class="nv">getty</span><span class="w"> </span><span class="o">-</span><span class="mi">8</span><span class="w"> </span><span class="mi">38400</span><span class="w"> </span><span class="nv">tty5</span><span class="w">          </span><span class="mi">0</span><span class="w">      </span><span class="mi">156</span><span class="w">      </span><span class="mi">187</span><span class="w">     </span><span class="mi">2060</span>
<span class="w"> </span><span class="mi">1444</span><span class="w"> </span><span class="nv">root</span><span class="w">     </span><span class="o">/</span><span class="nv">sbin</span><span class="o">/</span><span class="nv">getty</span><span class="w"> </span><span class="o">-</span><span class="mi">8</span><span class="w"> </span><span class="mi">38400</span><span class="w"> </span><span class="nv">tty3</span><span class="w">          </span><span class="mi">0</span><span class="w">      </span><span class="mi">156</span><span class="w">      </span><span class="mi">187</span><span class="w">     </span><span class="mi">2060</span>
<span class="w"> </span><span class="mi">1432</span><span class="w"> </span><span class="nv">root</span><span class="w">     </span><span class="o">/</span><span class="nv">sbin</span><span class="o">/</span><span class="nv">getty</span><span class="w"> </span><span class="o">-</span><span class="mi">8</span><span class="w"> </span><span class="mi">38400</span><span class="w"> </span><span class="nv">tty4</span><span class="w">          </span><span class="mi">0</span><span class="w">      </span><span class="mi">156</span><span class="w">      </span><span class="mi">188</span><span class="w">     </span><span class="mi">2124</span>
<span class="w"> </span><span class="mi">1452</span><span class="w"> </span><span class="nv">root</span><span class="w">     </span><span class="o">/</span><span class="nv">sbin</span><span class="o">/</span><span class="nv">getty</span><span class="w"> </span><span class="o">-</span><span class="mi">8</span><span class="w"> </span><span class="mi">38400</span><span class="w"> </span><span class="nv">tty6</span><span class="w">          </span><span class="mi">0</span><span class="w">      </span><span class="mi">164</span><span class="w">      </span><span class="mi">196</span><span class="w">     </span><span class="mi">2064</span>
<span class="w"> </span><span class="mi">2619</span><span class="w"> </span><span class="nv">root</span><span class="w">     </span><span class="o">/</span><span class="nv">sbin</span><span class="o">/</span><span class="nv">getty</span><span class="w"> </span><span class="o">-</span><span class="mi">8</span><span class="w"> </span><span class="mi">38400</span><span class="w"> </span><span class="nv">tty1</span><span class="w">          </span><span class="mi">0</span><span class="w">      </span><span class="mi">164</span><span class="w">      </span><span class="mi">196</span><span class="w">     </span><span class="mi">2136</span>
<span class="w"> </span><span class="mi">3544</span><span class="w"> </span><span class="nv">tecmint</span><span class="w">  </span><span class="nv">sh</span><span class="w"> </span><span class="o">-</span><span class="nv">c</span><span class="w"> </span><span class="o">/</span><span class="nv">usr</span><span class="o">/</span><span class="nv">lib</span><span class="o">/</span><span class="nv">linuxmint</span><span class="o">/</span><span class="nv">mi</span><span class="w">        </span><span class="mi">0</span><span class="w">      </span><span class="mi">212</span><span class="w">      </span><span class="mi">224</span><span class="w">     </span><span class="mi">1540</span>
<span class="w"> </span><span class="mi">1504</span><span class="w"> </span><span class="nv">root</span><span class="w">     </span><span class="nv">acpid</span><span class="w"> </span><span class="o">-</span><span class="nv">c</span><span class="w"> </span><span class="o">/</span><span class="nv">etc</span><span class="o">/</span><span class="nv">acpi</span><span class="o">/</span><span class="nv">events</span><span class="w"> </span><span class="o">-</span><span class="w">        </span><span class="mi">0</span><span class="w">      </span><span class="mi">220</span><span class="w">      </span><span class="mi">236</span><span class="w">     </span><span class="mi">1604</span>
<span class="w"> </span><span class="mi">3311</span><span class="w"> </span><span class="nv">tecmint</span><span class="w">  </span><span class="nv">syndaemon</span><span class="w"> </span><span class="o">-</span><span class="nv">i</span><span class="w"> </span><span class="mi">0</span>.<span class="mi">5</span><span class="w"> </span><span class="o">-</span><span class="nv">K</span><span class="w"> </span><span class="o">-</span><span class="nv">R</span><span class="w">             </span><span class="mi">0</span><span class="w">      </span><span class="mi">252</span><span class="w">      </span><span class="mi">292</span><span class="w">     </span><span class="mi">2556</span>
<span class="w"> </span><span class="mi">3143</span><span class="w"> </span><span class="nv">rtkit</span><span class="w">    </span><span class="o">/</span><span class="nv">usr</span><span class="o">/</span><span class="nv">lib</span><span class="o">/</span><span class="nv">rtkit</span><span class="o">/</span><span class="nv">rtkit</span><span class="o">-</span><span class="nv">daemon</span><span class="w">        </span><span class="mi">0</span><span class="w">      </span><span class="mi">300</span><span class="w">      </span><span class="mi">326</span><span class="w">     </span><span class="mi">2548</span>
<span class="w"> </span><span class="mi">1588</span><span class="w"> </span><span class="nv">root</span><span class="w">     </span><span class="nv">cron</span><span class="w">                               </span><span class="mi">0</span><span class="w">      </span><span class="mi">292</span><span class="w">      </span><span class="mi">333</span><span class="w">     </span><span class="mi">2344</span>
<span class="w"> </span><span class="mi">1589</span><span class="w"> </span><span class="nv">avahi</span><span class="w">    </span><span class="nv">avahi</span><span class="o">-</span><span class="nv">daemon</span>:<span class="w"> </span><span class="nv">chroot</span><span class="w"> </span><span class="nv">helpe</span><span class="w">         </span><span class="mi">0</span><span class="w">      </span><span class="mi">124</span><span class="w">      </span><span class="mi">334</span><span class="w">     </span><span class="mi">1632</span>
<span class="w"> </span><span class="mi">1523</span><span class="w"> </span><span class="nv">root</span><span class="w">     </span><span class="o">/</span><span class="nv">usr</span><span class="o">/</span><span class="nv">sbin</span><span class="o">/</span><span class="nv">irqbalance</span><span class="w">               </span><span class="mi">0</span><span class="w">      </span><span class="mi">316</span><span class="w">      </span><span class="mi">343</span><span class="w">     </span><span class="mi">2096</span>
<span class="w">  </span><span class="mi">585</span><span class="w"> </span><span class="nv">root</span><span class="w">     </span><span class="nv">upstart</span><span class="o">-</span><span class="nv">socket</span><span class="o">-</span><span class="nv">bridge</span><span class="w"> </span><span class="o">--</span><span class="nv">dae</span><span class="w">        </span><span class="mi">0</span><span class="w">      </span><span class="mi">328</span><span class="w">      </span><span class="mi">351</span><span class="w">     </span><span class="mi">1820</span>
<span class="w"> </span><span class="mi">3033</span><span class="w"> </span><span class="nv">tecmint</span><span class="w">  </span><span class="o">/</span><span class="nv">usr</span><span class="o">/</span><span class="nv">bin</span><span class="o">/</span><span class="nv">dbus</span><span class="o">-</span><span class="nv">launch</span><span class="w"> </span><span class="o">--</span><span class="k">exit</span><span class="w">        </span><span class="mi">0</span><span class="w">      </span><span class="mi">328</span><span class="w">      </span><span class="mi">360</span><span class="w">     </span><span class="mi">2160</span>
<span class="w"> </span><span class="mi">1346</span><span class="w"> </span><span class="nv">root</span><span class="w">     </span><span class="nv">upstart</span><span class="o">-</span><span class="nv">file</span><span class="o">-</span><span class="nv">bridge</span><span class="w"> </span><span class="o">--</span><span class="nv">daemo</span><span class="w">        </span><span class="mi">0</span><span class="w">      </span><span class="mi">348</span><span class="w">      </span><span class="mi">371</span><span class="w">     </span><span class="mi">1776</span>
<span class="w"> </span><span class="mi">2607</span><span class="w"> </span><span class="nv">root</span><span class="w">     </span><span class="o">/</span><span class="nv">usr</span><span class="o">/</span><span class="nv">bin</span><span class="o">/</span><span class="nv">xdm</span><span class="w">                       </span><span class="mi">0</span><span class="w">      </span><span class="mi">188</span><span class="w">      </span><span class="mi">378</span><span class="w">     </span><span class="mi">2368</span>
<span class="w"> </span><span class="mi">1635</span><span class="w"> </span><span class="nv">kernoops</span><span class="w"> </span><span class="o">/</span><span class="nv">usr</span><span class="o">/</span><span class="nv">sbin</span><span class="o">/</span><span class="nv">kerneloops</span><span class="w">               </span><span class="mi">0</span><span class="w">      </span><span class="mi">352</span><span class="w">      </span><span class="mi">386</span><span class="w">     </span><span class="mi">2684</span>
<span class="w">  </span><span class="mi">344</span><span class="w"> </span><span class="nv">root</span><span class="w">     </span><span class="nv">upstart</span><span class="o">-</span><span class="nv">udev</span><span class="o">-</span><span class="nv">bridge</span><span class="w"> </span><span class="o">--</span><span class="nv">daemo</span><span class="w">        </span><span class="mi">0</span><span class="w">      </span><span class="mi">400</span><span class="w">      </span><span class="mi">427</span><span class="w">     </span><span class="mi">2132</span>
<span class="w"> </span><span class="mi">2960</span><span class="w"> </span><span class="nv">tecmint</span><span class="w">  </span><span class="o">/</span><span class="nv">usr</span><span class="o">/</span><span class="nv">bin</span><span class="o">/</span><span class="nv">ssh</span><span class="o">-</span><span class="nv">agent</span><span class="w"> </span><span class="o">/</span><span class="nv">usr</span><span class="o">/</span><span class="nv">bin</span><span class="w">        </span><span class="mi">0</span><span class="w">      </span><span class="mi">480</span><span class="w">      </span><span class="mi">485</span><span class="w">      </span><span class="mi">992</span>
<span class="w"> </span><span class="mi">3468</span><span class="w"> </span><span class="nv">tecmint</span><span class="w">  </span><span class="o">/</span><span class="nv">bin</span><span class="o">/</span><span class="nv">dbus</span><span class="o">-</span><span class="nv">daemon</span><span class="w"> </span><span class="o">--</span><span class="nv">config</span><span class="o">-</span><span class="nv">f</span><span class="w">        </span><span class="mi">0</span><span class="w">      </span><span class="mi">344</span><span class="w">      </span><span class="mi">515</span><span class="w">     </span><span class="mi">3284</span>
<span class="w"> </span><span class="mi">1559</span><span class="w"> </span><span class="nv">avahi</span><span class="w">    </span><span class="nv">avahi</span><span class="o">-</span><span class="nv">daemon</span>:<span class="w"> </span><span class="nv">running</span><span class="w"> </span>[<span class="nv">tecm</span><span class="w">        </span><span class="mi">0</span><span class="w">      </span><span class="mi">284</span><span class="w">      </span><span class="mi">517</span><span class="w">     </span><span class="mi">3108</span>
<span class="w"> </span><span class="mi">7289</span><span class="w"> </span><span class="nv">postfix</span><span class="w">  </span><span class="nv">pickup</span><span class="w"> </span><span class="o">-</span><span class="nv">l</span><span class="w"> </span><span class="o">-</span><span class="nv">t</span><span class="w"> </span><span class="nv">unix</span><span class="w"> </span><span class="o">-</span><span class="nv">u</span><span class="w"> </span><span class="o">-</span><span class="nv">c</span><span class="w">            </span><span class="mi">0</span><span class="w">      </span><span class="mi">288</span><span class="w">      </span><span class="mi">534</span><span class="w">     </span><span class="mi">2808</span>
<span class="w"> </span><span class="mi">2135</span><span class="w"> </span><span class="nv">root</span><span class="w">     </span><span class="o">/</span><span class="nv">usr</span><span class="o">/</span><span class="nv">lib</span><span class="o">/</span><span class="nv">postfix</span><span class="o">/</span><span class="nv">master</span><span class="w">            </span><span class="mi">0</span><span class="w">      </span><span class="mi">352</span><span class="w">      </span><span class="mi">576</span><span class="w">     </span><span class="mi">2872</span>
<span class="w"> </span><span class="mi">2436</span><span class="w"> </span><span class="nv">postfix</span><span class="w">  </span><span class="nv">qmgr</span><span class="w"> </span><span class="o">-</span><span class="nv">l</span><span class="w"> </span><span class="o">-</span><span class="nv">t</span><span class="w"> </span><span class="nv">unix</span><span class="w"> </span><span class="o">-</span><span class="nv">u</span><span class="w">                 </span><span class="mi">0</span><span class="w">      </span><span class="mi">360</span><span class="w">      </span><span class="mi">606</span><span class="w">     </span><span class="mi">2884</span>
<span class="w"> </span><span class="mi">1521</span><span class="w"> </span><span class="nv">root</span><span class="w">     </span><span class="o">/</span><span class="nv">lib</span><span class="o">/</span><span class="nv">systemd</span><span class="o">/</span><span class="nv">systemd</span><span class="o">-</span><span class="nv">logind</span><span class="w">        </span><span class="mi">0</span><span class="w">      </span><span class="mi">600</span><span class="w">      </span><span class="mi">650</span><span class="w">     </span><span class="mi">3276</span>
<span class="w"> </span><span class="mi">2222</span><span class="w"> </span><span class="nv">nobody</span><span class="w">   </span><span class="o">/</span><span class="nv">usr</span><span class="o">/</span><span class="nv">sbin</span><span class="o">/</span><span class="nv">dnsmasq</span><span class="w"> </span><span class="o">--</span><span class="nv">no</span><span class="o">-</span><span class="nv">reso</span><span class="w">        </span><span class="mi">0</span><span class="w">      </span><span class="mi">604</span><span class="w">      </span><span class="mi">669</span><span class="w">     </span><span class="mi">3288</span>
....
</code></pre></div>

<p>当普通用户运行 smem，将会显示由该用户启用的进程的占用情况，其中进程按照 PSS 的值升序排列。</p>
<p>下面的输出为用户 “aaronkilik” 启用的进程的使用情况：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>smem
</code></pre></div>

<p><em>监视 Linux 系统中的内存使用情况</em></p>
<div class="highlight"><pre><span></span><code><span class="w">  </span><span class="n">PID</span><span class="w"> </span><span class="n">User</span><span class="w">     </span><span class="n">Command</span><span class="w">                         </span><span class="n">Swap</span><span class="w">      </span><span class="n">USS</span><span class="w">      </span><span class="n">PSS</span><span class="w">      </span><span class="n">RSS</span>
<span class="w"> </span><span class="mi">6367</span><span class="w"> </span><span class="n">tecmint</span><span class="w">  </span><span class="n">cat</span><span class="w">                                </span><span class="mi">0</span><span class="w">      </span><span class="mi">100</span><span class="w">      </span><span class="mi">145</span><span class="w">     </span><span class="mi">1784</span>
<span class="w"> </span><span class="mi">6368</span><span class="w"> </span><span class="n">tecmint</span><span class="w">  </span><span class="n">cat</span><span class="w">                                </span><span class="mi">0</span><span class="w">      </span><span class="mi">100</span><span class="w">      </span><span class="mi">147</span><span class="w">     </span><span class="mi">1676</span>
<span class="w"> </span><span class="mi">2864</span><span class="w"> </span><span class="n">tecmint</span><span class="w">  </span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">ck</span><span class="o">-</span><span class="n">launch</span><span class="o">-</span><span class="n">session</span><span class="w">         </span><span class="mi">0</span><span class="w">      </span><span class="mi">144</span><span class="w">      </span><span class="mi">166</span><span class="w">     </span><span class="mi">1780</span>
<span class="w"> </span><span class="mi">3544</span><span class="w"> </span><span class="n">tecmint</span><span class="w">  </span><span class="n">sh</span><span class="w"> </span><span class="o">-</span><span class="n">c</span><span class="w"> </span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">linuxmint</span><span class="o">/</span><span class="n">mi</span><span class="w">        </span><span class="mi">0</span><span class="w">      </span><span class="mi">212</span><span class="w">      </span><span class="mi">224</span><span class="w">     </span><span class="mi">1540</span>
<span class="w"> </span><span class="mi">3311</span><span class="w"> </span><span class="n">tecmint</span><span class="w">  </span><span class="n">syndaemon</span><span class="w"> </span><span class="o">-</span><span class="n">i</span><span class="w"> </span><span class="mf">0.5</span><span class="w"> </span><span class="o">-</span><span class="n">K</span><span class="w"> </span><span class="o">-</span><span class="n">R</span><span class="w">             </span><span class="mi">0</span><span class="w">      </span><span class="mi">252</span><span class="w">      </span><span class="mi">292</span><span class="w">     </span><span class="mi">2556</span>
<span class="w"> </span><span class="mi">3033</span><span class="w"> </span><span class="n">tecmint</span><span class="w">  </span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">dbus</span><span class="o">-</span><span class="n">launch</span><span class="w"> </span><span class="o">--</span><span class="n">exit</span><span class="w">        </span><span class="mi">0</span><span class="w">      </span><span class="mi">328</span><span class="w">      </span><span class="mi">360</span><span class="w">     </span><span class="mi">2160</span>
<span class="w"> </span><span class="mi">3468</span><span class="w"> </span><span class="n">tecmint</span><span class="w">  </span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">dbus</span><span class="o">-</span><span class="n">daemon</span><span class="w"> </span><span class="o">--</span><span class="n">config</span><span class="o">-</span><span class="n">f</span><span class="w">        </span><span class="mi">0</span><span class="w">      </span><span class="mi">344</span><span class="w">      </span><span class="mi">515</span><span class="w">     </span><span class="mi">3284</span>
<span class="w"> </span><span class="mi">3122</span><span class="w"> </span><span class="n">tecmint</span><span class="w">  </span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">gvfs</span><span class="o">/</span><span class="n">gvfsd</span><span class="w">                </span><span class="mi">0</span><span class="w">      </span><span class="mi">656</span><span class="w">      </span><span class="mi">801</span><span class="w">     </span><span class="mi">5552</span>
<span class="w"> </span><span class="mi">3471</span><span class="w"> </span><span class="n">tecmint</span><span class="w">  </span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">at</span><span class="o">-</span><span class="n">spi2</span><span class="o">-</span><span class="n">core</span><span class="o">/</span><span class="n">at</span><span class="o">-</span><span class="n">sp</span><span class="w">        </span><span class="mi">0</span><span class="w">      </span><span class="mi">708</span><span class="w">      </span><span class="mi">864</span><span class="w">     </span><span class="mi">5992</span>
<span class="w"> </span><span class="mi">3396</span><span class="w"> </span><span class="n">tecmint</span><span class="w">  </span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">gvfs</span><span class="o">/</span><span class="n">gvfs</span><span class="o">-</span><span class="n">mtp</span><span class="o">-</span><span class="n">volu</span><span class="w">        </span><span class="mi">0</span><span class="w">      </span><span class="mi">804</span><span class="w">      </span><span class="mi">914</span><span class="w">     </span><span class="mi">6204</span>
<span class="w"> </span><span class="mi">3208</span><span class="w"> </span><span class="n">tecmint</span><span class="w">  </span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">i</span><span class="w">        </span><span class="mi">0</span><span class="w">      </span><span class="mi">892</span><span class="w">     </span><span class="mi">1012</span><span class="w">     </span><span class="mi">6188</span>
<span class="w"> </span><span class="mi">3380</span><span class="w"> </span><span class="n">tecmint</span><span class="w">  </span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">gvfs</span><span class="o">/</span><span class="n">gvfs</span><span class="o">-</span><span class="n">afc</span><span class="o">-</span><span class="n">volu</span><span class="w">        </span><span class="mi">0</span><span class="w">      </span><span class="mi">820</span><span class="w">     </span><span class="mi">1024</span><span class="w">     </span><span class="mi">6396</span>
<span class="w"> </span><span class="mi">3034</span><span class="w"> </span><span class="n">tecmint</span><span class="w">  </span><span class="c1">//bin/dbus-daemon --fork --        0      920     1081     3040</span>
<span class="w"> </span><span class="mi">3365</span><span class="w"> </span><span class="n">tecmint</span><span class="w">  </span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">gvfs</span><span class="o">/</span><span class="n">gvfs</span><span class="o">-</span><span class="n">gphoto2</span><span class="o">-</span><span class="w">        </span><span class="mi">0</span><span class="w">      </span><span class="mi">972</span><span class="w">     </span><span class="mi">1099</span><span class="w">     </span><span class="mi">6052</span>
<span class="w"> </span><span class="mi">3228</span><span class="w"> </span><span class="n">tecmint</span><span class="w">  </span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">gvfs</span><span class="o">/</span><span class="n">gvfsd</span><span class="o">-</span><span class="n">trash</span><span class="w"> </span><span class="o">-</span><span class="w">        </span><span class="mi">0</span><span class="w">      </span><span class="mi">980</span><span class="w">     </span><span class="mi">1153</span><span class="w">     </span><span class="mi">6648</span>
<span class="w"> </span><span class="mi">3107</span><span class="w"> </span><span class="n">tecmint</span><span class="w">  </span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">dconf</span><span class="o">/</span><span class="n">dconf</span><span class="o">-</span><span class="n">servic</span><span class="w">        </span><span class="mi">0</span><span class="w">     </span><span class="mi">1212</span><span class="w">     </span><span class="mi">1283</span><span class="w">     </span><span class="mi">5376</span>
<span class="w"> </span><span class="mi">6399</span><span class="w"> </span><span class="n">tecmint</span><span class="w">  </span><span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">google</span><span class="o">/</span><span class="n">chrome</span><span class="o">/</span><span class="n">chrome</span><span class="w"> </span><span class="o">-</span><span class="w">        </span><span class="mi">0</span><span class="w">      </span><span class="mi">144</span><span class="w">     </span><span class="mi">1409</span><span class="w">    </span><span class="mi">10732</span>
<span class="w"> </span><span class="mi">3478</span><span class="w"> </span><span class="n">tecmint</span><span class="w">  </span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">g</span><span class="w">        </span><span class="mi">0</span><span class="w">     </span><span class="mi">1724</span><span class="w">     </span><span class="mi">1820</span><span class="w">     </span><span class="mi">6320</span>
<span class="w"> </span><span class="mi">7365</span><span class="w"> </span><span class="n">tecmint</span><span class="w">  </span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">gvfs</span><span class="o">/</span><span class="n">gvfsd</span><span class="o">-</span><span class="n">http</span><span class="w"> </span><span class="o">--</span><span class="w">        </span><span class="mi">0</span><span class="w">     </span><span class="mi">1352</span><span class="w">     </span><span class="mi">1884</span><span class="w">     </span><span class="mi">8704</span>
<span class="w"> </span><span class="mi">6937</span><span class="w"> </span><span class="n">tecmint</span><span class="w">  </span><span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">libreoffice5</span><span class="mf">.0</span><span class="o">/</span><span class="n">program</span><span class="w">        </span><span class="mi">0</span><span class="w">     </span><span class="mi">1140</span><span class="w">     </span><span class="mi">2328</span><span class="w">     </span><span class="mi">5040</span>
<span class="w"> </span><span class="mi">3194</span><span class="w"> </span><span class="n">tecmint</span><span class="w">  </span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">p</span><span class="w">        </span><span class="mi">0</span><span class="w">     </span><span class="mi">1956</span><span class="w">     </span><span class="mi">2405</span><span class="w">    </span><span class="mi">14228</span>
<span class="w"> </span><span class="mi">6373</span><span class="w"> </span><span class="n">tecmint</span><span class="w">  </span><span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">google</span><span class="o">/</span><span class="n">chrome</span><span class="o">/</span><span class="n">nacl_hel</span><span class="w">        </span><span class="mi">0</span><span class="w">     </span><span class="mi">2324</span><span class="w">     </span><span class="mi">2541</span><span class="w">     </span><span class="mi">8908</span>
<span class="w"> </span><span class="mi">3313</span><span class="w"> </span><span class="n">tecmint</span><span class="w">  </span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">gvfs</span><span class="o">/</span><span class="n">gvfs</span><span class="o">-</span><span class="n">udisks2</span><span class="o">-</span><span class="w">        </span><span class="mi">0</span><span class="w">     </span><span class="mi">2460</span><span class="w">     </span><span class="mi">2754</span><span class="w">     </span><span class="mi">8736</span>
<span class="w"> </span><span class="mi">3464</span><span class="w"> </span><span class="n">tecmint</span><span class="w">  </span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">at</span><span class="o">-</span><span class="n">spi2</span><span class="o">-</span><span class="n">core</span><span class="o">/</span><span class="n">at</span><span class="o">-</span><span class="n">sp</span><span class="w">        </span><span class="mi">0</span><span class="w">     </span><span class="mi">2684</span><span class="w">     </span><span class="mi">2823</span><span class="w">     </span><span class="mi">7920</span>
<span class="w"> </span><span class="mi">5771</span><span class="w"> </span><span class="n">tecmint</span><span class="w">  </span><span class="n">ssh</span><span class="w"> </span><span class="o">-</span><span class="n">p</span><span class="w"> </span><span class="mi">4521</span><span class="w"> </span><span class="n">tecmnt765</span><span class="mf">@212.7</span><span class="w">        </span><span class="mi">0</span><span class="w">     </span><span class="mi">2544</span><span class="w">     </span><span class="mi">2864</span><span class="w">     </span><span class="mi">6540</span>
<span class="w"> </span><span class="mi">5759</span><span class="w"> </span><span class="n">tecmint</span><span class="w">  </span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">bash</span><span class="w">                          </span><span class="mi">0</span><span class="w">     </span><span class="mi">2416</span><span class="w">     </span><span class="mi">2923</span><span class="w">     </span><span class="mi">5640</span>
<span class="w"> </span><span class="mi">3541</span><span class="w"> </span><span class="n">tecmint</span><span class="w">  </span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">python</span><span class="w"> </span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">mi</span><span class="w">        </span><span class="mi">0</span><span class="w">     </span><span class="mi">2584</span><span class="w">     </span><span class="mi">3008</span><span class="w">     </span><span class="mi">7248</span>
<span class="w"> </span><span class="mi">7657</span><span class="w"> </span><span class="n">tecmint</span><span class="w">  </span><span class="n">bash</span><span class="w">                               </span><span class="mi">0</span><span class="w">     </span><span class="mi">2516</span><span class="w">     </span><span class="mi">3055</span><span class="w">     </span><span class="mi">6028</span>
<span class="w"> </span><span class="mi">3127</span><span class="w"> </span><span class="n">tecmint</span><span class="w">  </span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">gvfs</span><span class="o">/</span><span class="n">gvfsd</span><span class="o">-</span><span class="n">fuse</span><span class="w"> </span><span class="o">/</span><span class="n">r</span><span class="w">        </span><span class="mi">0</span><span class="w">     </span><span class="mi">3024</span><span class="w">     </span><span class="mi">3126</span><span class="w">     </span><span class="mi">8032</span>
<span class="w"> </span><span class="mi">3205</span><span class="w"> </span><span class="n">tecmint</span><span class="w">  </span><span class="n">mate</span><span class="o">-</span><span class="n">screensaver</span><span class="w">                   </span><span class="mi">0</span><span class="w">     </span><span class="mi">2520</span><span class="w">     </span><span class="mi">3331</span><span class="w">    </span><span class="mi">18072</span>
<span class="w"> </span><span class="mi">3171</span><span class="w"> </span><span class="n">tecmint</span><span class="w">  </span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">mate</span><span class="o">-</span><span class="n">panel</span><span class="o">/</span><span class="n">notific</span><span class="w">        </span><span class="mi">0</span><span class="w">     </span><span class="mi">2860</span><span class="w">     </span><span class="mi">3495</span><span class="w">    </span><span class="mi">17140</span>
<span class="w"> </span><span class="mi">3030</span><span class="w"> </span><span class="n">tecmint</span><span class="w">  </span><span class="n">x</span><span class="o">-</span><span class="n">session</span><span class="o">-</span><span class="n">manager</span><span class="w">                  </span><span class="mi">0</span><span class="w">     </span><span class="mi">4400</span><span class="w">     </span><span class="mi">4879</span><span class="w">    </span><span class="mi">17500</span>
<span class="w"> </span><span class="mi">3197</span><span class="w"> </span><span class="n">tecmint</span><span class="w">  </span><span class="n">mate</span><span class="o">-</span><span class="n">volume</span><span class="o">-</span><span class="n">control</span><span class="o">-</span><span class="n">applet</span><span class="w">         </span><span class="mi">0</span><span class="w">     </span><span class="mi">3860</span><span class="w">     </span><span class="mi">5226</span><span class="w">    </span><span class="mi">23736</span>
<span class="p">...</span>
</code></pre></div>

<p>使用 smem 时还有一些参数可以选用，例如当查看整个系统的内存占用情况，运行以下的命令：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>sudo<span class="w"> </span>smem<span class="w"> </span>-w
</code></pre></div>

<p><em>监视 Linux 系统中的内存使用情况</em></p>
<div class="highlight"><pre><span></span><code>Area                           Used      Cache   Noncache
firmware/hardware                 0          0          0
kernel image                      0          0          0
kernel dynamic memory       1425320    1291412     133908
userspace memory            2215368     451608    1763760
free memory                 4424936    4424936          0
</code></pre></div>

<p>如果想要查看每一个用户的内存使用情况，运行以下的命令：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>sudo<span class="w"> </span>smem<span class="w"> </span>-u
</code></pre></div>

<p><em>Linux 下以用户为单位监控内存占用情况</em></p>
<div class="highlight"><pre><span></span><code>User     Count     Swap      USS      PSS      RSS
rtkit        1        0      300      326     2548
kernoops     1        0      352      385     2684
avahi        2        0      408      851     4740
postfix      2        0      648     1140     5692
messagebus     1        0     1012     1173     3320
syslog       1        0     1396     1419     3232
www-data     2        0     5100     6572    13580
mpd          1        0     7416     8302    12896
nobody       2        0     4024    11305    24728
root        39        0   323876   353418   496520
tecmint     64        0  1652888  1815699  2763112
</code></pre></div>

<p>你也可以按照映射显示内存使用情况：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>sudo<span class="w"> </span>smem<span class="w"> </span>-m
</code></pre></div>

<p><em>Linux 下以映射为单位监控内存占用情况</em></p>
<div class="highlight"><pre><span></span><code><span class="n">Map</span><span class="w">                                       </span><span class="n">PIDs</span><span class="w">   </span><span class="n">AVGPSS</span><span class="w">      </span><span class="n">PSS</span>
<span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">fb0</span><span class="w">                                     </span><span class="mi">1</span><span class="w">        </span><span class="mi">0</span><span class="w">        </span><span class="mi">0</span>
<span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">tecmint</span><span class="o">/.</span><span class="n">cache</span><span class="o">/</span><span class="n">fontconfig</span><span class="o">/</span><span class="mi">7</span><span class="n">ef2298f</span><span class="w">    </span><span class="mi">18</span><span class="w">        </span><span class="mi">0</span><span class="w">        </span><span class="mi">0</span>
<span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">tecmint</span><span class="o">/.</span><span class="n">cache</span><span class="o">/</span><span class="n">fontconfig</span><span class="o">/</span><span class="n">c57959a1</span><span class="w">    </span><span class="mi">18</span><span class="w">        </span><span class="mi">0</span><span class="w">        </span><span class="mi">0</span>
<span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">tecmint</span><span class="o">/.</span><span class="n">local</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">mime</span><span class="o">/</span><span class="n">mime</span><span class="o">.</span><span class="n">cac</span><span class="w">    </span><span class="mi">15</span><span class="w">        </span><span class="mi">0</span><span class="w">        </span><span class="mi">0</span>
<span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">google</span><span class="o">/</span><span class="n">chrome</span><span class="o">/</span><span class="n">chrome_material_100_p</span><span class="w">     </span><span class="mi">9</span><span class="w">        </span><span class="mi">0</span><span class="w">        </span><span class="mi">0</span>
<span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">google</span><span class="o">/</span><span class="n">chrome</span><span class="o">/</span><span class="n">chrome_material_200_p</span><span class="w">     </span><span class="mi">9</span><span class="w">        </span><span class="mi">0</span><span class="w">        </span><span class="mi">0</span>
<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">gconv</span><span class="o">/</span><span class="n">gconv</span><span class="o">-</span><span class="n">mo</span><span class="w">    </span><span class="mi">41</span><span class="w">        </span><span class="mi">0</span><span class="w">        </span><span class="mi">0</span>
<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">icons</span><span class="o">/</span><span class="n">Mint</span><span class="o">-</span><span class="n">X</span><span class="o">-</span><span class="n">Teal</span><span class="o">/</span><span class="n">icon</span><span class="o">-</span><span class="n">theme</span><span class="o">.</span><span class="w">    </span><span class="mi">15</span><span class="w">        </span><span class="mi">0</span><span class="w">        </span><span class="mi">0</span>
<span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">cache</span><span class="o">/</span><span class="n">fontconfig</span><span class="o">/</span><span class="mi">0</span><span class="n">c9eb80ebd1c36541e</span><span class="w">    </span><span class="mi">20</span><span class="w">        </span><span class="mi">0</span><span class="w">        </span><span class="mi">0</span>
<span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">cache</span><span class="o">/</span><span class="n">fontconfig</span><span class="o">/</span><span class="mi">0</span><span class="n">d8c3b2ac0904cb8a5</span><span class="w">    </span><span class="mi">20</span><span class="w">        </span><span class="mi">0</span><span class="w">        </span><span class="mi">0</span>
<span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">cache</span><span class="o">/</span><span class="n">fontconfig</span><span class="o">/</span><span class="mi">1</span><span class="n">ac9eb803944fde146</span><span class="w">    </span><span class="mi">20</span><span class="w">        </span><span class="mi">0</span><span class="w">        </span><span class="mi">0</span>
<span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">cache</span><span class="o">/</span><span class="n">fontconfig</span><span class="o">/</span><span class="mi">3830</span><span class="n">d5c3ddfd5cd38a</span><span class="w">    </span><span class="mi">20</span><span class="w">        </span><span class="mi">0</span><span class="w">        </span><span class="mi">0</span>
<span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">cache</span><span class="o">/</span><span class="n">fontconfig</span><span class="o">/</span><span class="mi">385</span><span class="n">c0604a188198f04</span><span class="w">    </span><span class="mi">20</span><span class="w">        </span><span class="mi">0</span><span class="w">        </span><span class="mi">0</span>
<span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">cache</span><span class="o">/</span><span class="n">fontconfig</span><span class="o">/</span><span class="mi">4794</span><span class="n">a0821666d79190</span><span class="w">    </span><span class="mi">20</span><span class="w">        </span><span class="mi">0</span><span class="w">        </span><span class="mi">0</span>
<span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">cache</span><span class="o">/</span><span class="n">fontconfig</span><span class="o">/</span><span class="mi">56</span><span class="n">cf4f4769d0f4abc8</span><span class="w">    </span><span class="mi">20</span><span class="w">        </span><span class="mi">0</span><span class="w">        </span><span class="mi">0</span>
<span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">cache</span><span class="o">/</span><span class="n">fontconfig</span><span class="o">/</span><span class="mi">767</span><span class="n">a8244fc0220cfb5</span><span class="w">    </span><span class="mi">20</span><span class="w">        </span><span class="mi">0</span><span class="w">        </span><span class="mi">0</span>
<span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">cache</span><span class="o">/</span><span class="n">fontconfig</span><span class="o">/</span><span class="mi">8801497958630</span><span class="n">a81b7</span><span class="w">    </span><span class="mi">20</span><span class="w">        </span><span class="mi">0</span><span class="w">        </span><span class="mi">0</span>
<span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">cache</span><span class="o">/</span><span class="n">fontconfig</span><span class="o">/</span><span class="mf">99e8</span><span class="n">ed0e538f840c56</span><span class="w">    </span><span class="mi">20</span><span class="w">        </span><span class="mi">0</span><span class="w">        </span><span class="mi">0</span>
<span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">cache</span><span class="o">/</span><span class="n">fontconfig</span><span class="o">/</span><span class="n">b9d506c9ac06c20b43</span><span class="w">    </span><span class="mi">20</span><span class="w">        </span><span class="mi">0</span><span class="w">        </span><span class="mi">0</span>
<span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">cache</span><span class="o">/</span><span class="n">fontconfig</span><span class="o">/</span><span class="n">c05880de57d1f5e948</span><span class="w">    </span><span class="mi">20</span><span class="w">        </span><span class="mi">0</span><span class="w">        </span><span class="mi">0</span>
<span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">cache</span><span class="o">/</span><span class="n">fontconfig</span><span class="o">/</span><span class="n">dc05db6664285cc2f1</span><span class="w">    </span><span class="mi">20</span><span class="w">        </span><span class="mi">0</span><span class="w">        </span><span class="mi">0</span>
<span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">cache</span><span class="o">/</span><span class="n">fontconfig</span><span class="o">/</span><span class="n">e13b20fdb08344e0e6</span><span class="w">    </span><span class="mi">20</span><span class="w">        </span><span class="mi">0</span><span class="w">        </span><span class="mi">0</span>
<span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">cache</span><span class="o">/</span><span class="n">fontconfig</span><span class="o">/</span><span class="n">e7071f4a29fa870f43</span><span class="w">    </span><span class="mi">20</span><span class="w">        </span><span class="mi">0</span><span class="w">        </span><span class="mi">0</span>
<span class="o">....</span>
</code></pre></div>

<p>还有其它的选项可以筛选 smem 的输出，下面将会举两个例子。</p>
<p>要按照用户名筛选输出的信息，使用 <code>-u</code> 或者是 <code>--userfilter="regex"</code> 选项，就像下面的命令这样：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>sudo<span class="w"> </span>smem<span class="w"> </span>-u
</code></pre></div>

<p><em>按照用户报告内存使用情况</em></p>
<div class="highlight"><pre><span></span><code>User     Count     Swap      USS      PSS      RSS
rtkit        1        0      300      326     2548
kernoops     1        0      352      385     2684
avahi        2        0      408      851     4740
postfix      2        0      648     1140     5692
messagebus   1        0     1012     1173     3320
syslog       1        0     1400     1423     3236
www-data     2        0     5100     6572    13580
mpd          1        0     7416     8302    12896
nobody       2        0     4024    11305    24728
root        39        0   323804   353374   496552
tecmint     64        0  1708900  1871766  2819212
</code></pre></div>

<p>要按照进程名称筛选输出信息，使用 <code>-P</code> 或者是 <code>--processfilter="regex"</code> 选项，就像下面的命令这样：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>sudo<span class="w"> </span>smem<span class="w"> </span>--processfilter<span class="o">=</span><span class="s2">&quot;firefox&quot;</span>
</code></pre></div>

<p><em>按照进程名称报告内存使用情况</em></p>
<div class="highlight"><pre><span></span><code>PID  User     Command                         Swap      USS      PSS      RSS
9212 root     sudo smem --processfilter=f        0     1172     1434     4856
9213 root     /usr/bin/python /usr/bin/sm        0     7368     7793    11984
4424 tecmint  /usr/lib/firefox/firefox           0   931732   937590   961504
</code></pre></div>

<p>输出的格式有时候也很重要，smem 提供了一些帮助您格式化内存使用报告的参数，我们将举出几个例子。</p>
<p>设置哪些列在报告中，使用 -c 或者是 --columns 选项，就像下面的命令这样：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>sudo<span class="w"> </span>smem<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;name user pss rss&quot;</span>
</code></pre></div>

<p><em>按列报告内存使用情况</em></p>
<div class="highlight"><pre><span></span><code>Name                     User          PSS      RSS
cat                      tecmint       145     1784
cat                      tecmint       147     1676
ck-launch-sessi          tecmint       165     1780
gnome-pty-helpe          tecmint       178     1832
gnome-pty-helpe          tecmint       179     1916
getty                    root          184     2052
getty                    root          187     2060
getty                    root          187     2060
getty                    root          188     2124
getty                    root          196     2064
getty                    root          196     2136
sh                       tecmint       224     1540
acpid                    root          236     1604
syndaemon                tecmint       296     2560
rtkit-daemon             rtkit         326     2548
cron                     root          333     2344
avahi-daemon             avahi         334     1632
irqbalance               root          343     2096
upstart-socket-          root          351     1820
dbus-launch              tecmint       360     2160
upstart-file-br          root          371     1776
xdm                      root          378     2368
kerneloops               kernoops      386     2684
upstart-udev-br          root          427     2132
ssh-agent                tecmint       485      992
...
</code></pre></div>

<p>也可以调用 <code>-p</code> 选项以百分比的形式报告内存使用情况，就像下面的命令这样：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>sudo<span class="w"> </span>smem<span class="w"> </span>-p
</code></pre></div>

<p><em>按百分比报告内存使用情况</em></p>
<div class="highlight"><pre><span></span><code><span class="w">  </span><span class="nv">PID</span><span class="w"> </span><span class="nv">User</span><span class="w">     </span><span class="nv">Command</span><span class="w">                         </span><span class="nv">Swap</span><span class="w">      </span><span class="nv">USS</span><span class="w">      </span><span class="nv">PSS</span><span class="w">      </span><span class="nv">RSS</span>
<span class="w"> </span><span class="mi">6367</span><span class="w"> </span><span class="nv">tecmint</span><span class="w">  </span><span class="nv">cat</span><span class="w">                            </span><span class="mi">0</span>.<span class="mi">00</span><span class="o">%</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">00</span><span class="o">%</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">00</span><span class="o">%</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">02</span><span class="o">%</span>
<span class="w"> </span><span class="mi">6368</span><span class="w"> </span><span class="nv">tecmint</span><span class="w">  </span><span class="nv">cat</span><span class="w">                            </span><span class="mi">0</span>.<span class="mi">00</span><span class="o">%</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">00</span><span class="o">%</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">00</span><span class="o">%</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">02</span><span class="o">%</span>
<span class="w"> </span><span class="mi">9307</span><span class="w"> </span><span class="nv">tecmint</span><span class="w">  </span><span class="nv">sh</span><span class="w"> </span><span class="o">-</span><span class="nv">c</span><span class="w"> </span>{<span class="w"> </span><span class="nv">sudo</span><span class="w"> </span><span class="o">/</span><span class="nv">usr</span><span class="o">/</span><span class="nv">lib</span><span class="o">/</span><span class="nv">linux</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">00</span><span class="o">%</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">00</span><span class="o">%</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">00</span><span class="o">%</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">02</span><span class="o">%</span>
<span class="w"> </span><span class="mi">2864</span><span class="w"> </span><span class="nv">tecmint</span><span class="w">  </span><span class="o">/</span><span class="nv">usr</span><span class="o">/</span><span class="nv">bin</span><span class="o">/</span><span class="nv">ck</span><span class="o">-</span><span class="nv">launch</span><span class="o">-</span><span class="nv">session</span><span class="w">     </span><span class="mi">0</span>.<span class="mi">00</span><span class="o">%</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">00</span><span class="o">%</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">00</span><span class="o">%</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">02</span><span class="o">%</span>
<span class="w"> </span><span class="mi">3544</span><span class="w"> </span><span class="nv">tecmint</span><span class="w">  </span><span class="nv">sh</span><span class="w"> </span><span class="o">-</span><span class="nv">c</span><span class="w"> </span><span class="o">/</span><span class="nv">usr</span><span class="o">/</span><span class="nv">lib</span><span class="o">/</span><span class="nv">linuxmint</span><span class="o">/</span><span class="nv">mi</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">00</span><span class="o">%</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">00</span><span class="o">%</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">00</span><span class="o">%</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">02</span><span class="o">%</span>
<span class="w"> </span><span class="mi">5758</span><span class="w"> </span><span class="nv">tecmint</span><span class="w">  </span><span class="nv">gnome</span><span class="o">-</span><span class="nv">pty</span><span class="o">-</span><span class="nv">helper</span><span class="w">               </span><span class="mi">0</span>.<span class="mi">00</span><span class="o">%</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">00</span><span class="o">%</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">00</span><span class="o">%</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">02</span><span class="o">%</span>
<span class="w"> </span><span class="mi">7656</span><span class="w"> </span><span class="nv">tecmint</span><span class="w">  </span><span class="nv">gnome</span><span class="o">-</span><span class="nv">pty</span><span class="o">-</span><span class="nv">helper</span><span class="w">               </span><span class="mi">0</span>.<span class="mi">00</span><span class="o">%</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">00</span><span class="o">%</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">00</span><span class="o">%</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">02</span><span class="o">%</span>
<span class="w"> </span><span class="mi">1441</span><span class="w"> </span><span class="nv">root</span><span class="w">     </span><span class="o">/</span><span class="nv">sbin</span><span class="o">/</span><span class="nv">getty</span><span class="w"> </span><span class="o">-</span><span class="mi">8</span><span class="w"> </span><span class="mi">38400</span><span class="w"> </span><span class="nv">tty2</span><span class="w">      </span><span class="mi">0</span>.<span class="mi">00</span><span class="o">%</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">00</span><span class="o">%</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">00</span><span class="o">%</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">03</span><span class="o">%</span>
<span class="w"> </span><span class="mi">1434</span><span class="w"> </span><span class="nv">root</span><span class="w">     </span><span class="o">/</span><span class="nv">sbin</span><span class="o">/</span><span class="nv">getty</span><span class="w"> </span><span class="o">-</span><span class="mi">8</span><span class="w"> </span><span class="mi">38400</span><span class="w"> </span><span class="nv">tty5</span><span class="w">      </span><span class="mi">0</span>.<span class="mi">00</span><span class="o">%</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">00</span><span class="o">%</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">00</span><span class="o">%</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">03</span><span class="o">%</span>
<span class="w"> </span><span class="mi">1444</span><span class="w"> </span><span class="nv">root</span><span class="w">     </span><span class="o">/</span><span class="nv">sbin</span><span class="o">/</span><span class="nv">getty</span><span class="w"> </span><span class="o">-</span><span class="mi">8</span><span class="w"> </span><span class="mi">38400</span><span class="w"> </span><span class="nv">tty3</span><span class="w">      </span><span class="mi">0</span>.<span class="mi">00</span><span class="o">%</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">00</span><span class="o">%</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">00</span><span class="o">%</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">03</span><span class="o">%</span>
<span class="w"> </span><span class="mi">1432</span><span class="w"> </span><span class="nv">root</span><span class="w">     </span><span class="o">/</span><span class="nv">sbin</span><span class="o">/</span><span class="nv">getty</span><span class="w"> </span><span class="o">-</span><span class="mi">8</span><span class="w"> </span><span class="mi">38400</span><span class="w"> </span><span class="nv">tty4</span><span class="w">      </span><span class="mi">0</span>.<span class="mi">00</span><span class="o">%</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">00</span><span class="o">%</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">00</span><span class="o">%</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">03</span><span class="o">%</span>
<span class="w"> </span><span class="mi">1452</span><span class="w"> </span><span class="nv">root</span><span class="w">     </span><span class="o">/</span><span class="nv">sbin</span><span class="o">/</span><span class="nv">getty</span><span class="w"> </span><span class="o">-</span><span class="mi">8</span><span class="w"> </span><span class="mi">38400</span><span class="w"> </span><span class="nv">tty6</span><span class="w">      </span><span class="mi">0</span>.<span class="mi">00</span><span class="o">%</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">00</span><span class="o">%</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">00</span><span class="o">%</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">03</span><span class="o">%</span>
<span class="w"> </span><span class="mi">2619</span><span class="w"> </span><span class="nv">root</span><span class="w">     </span><span class="o">/</span><span class="nv">sbin</span><span class="o">/</span><span class="nv">getty</span><span class="w"> </span><span class="o">-</span><span class="mi">8</span><span class="w"> </span><span class="mi">38400</span><span class="w"> </span><span class="nv">tty1</span><span class="w">      </span><span class="mi">0</span>.<span class="mi">00</span><span class="o">%</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">00</span><span class="o">%</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">00</span><span class="o">%</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">03</span><span class="o">%</span>
<span class="w"> </span><span class="mi">1504</span><span class="w"> </span><span class="nv">root</span><span class="w">     </span><span class="nv">acpid</span><span class="w"> </span><span class="o">-</span><span class="nv">c</span><span class="w"> </span><span class="o">/</span><span class="nv">etc</span><span class="o">/</span><span class="nv">acpi</span><span class="o">/</span><span class="nv">events</span><span class="w"> </span><span class="o">-</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">00</span><span class="o">%</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">00</span><span class="o">%</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">00</span><span class="o">%</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">02</span><span class="o">%</span>
<span class="w"> </span><span class="mi">3311</span><span class="w"> </span><span class="nv">tecmint</span><span class="w">  </span><span class="nv">syndaemon</span><span class="w"> </span><span class="o">-</span><span class="nv">i</span><span class="w"> </span><span class="mi">0</span>.<span class="mi">5</span><span class="w"> </span><span class="o">-</span><span class="nv">K</span><span class="w"> </span><span class="o">-</span><span class="nv">R</span><span class="w">         </span><span class="mi">0</span>.<span class="mi">00</span><span class="o">%</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">00</span><span class="o">%</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">00</span><span class="o">%</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">03</span><span class="o">%</span>
<span class="w"> </span><span class="mi">3143</span><span class="w"> </span><span class="nv">rtkit</span><span class="w">    </span><span class="o">/</span><span class="nv">usr</span><span class="o">/</span><span class="nv">lib</span><span class="o">/</span><span class="nv">rtkit</span><span class="o">/</span><span class="nv">rtkit</span><span class="o">-</span><span class="nv">daemon</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">00</span><span class="o">%</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">00</span><span class="o">%</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">00</span><span class="o">%</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">03</span><span class="o">%</span>
<span class="w"> </span><span class="mi">1588</span><span class="w"> </span><span class="nv">root</span><span class="w">     </span><span class="nv">cron</span><span class="w">                           </span><span class="mi">0</span>.<span class="mi">00</span><span class="o">%</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">00</span><span class="o">%</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">00</span><span class="o">%</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">03</span><span class="o">%</span>
<span class="w"> </span><span class="mi">1589</span><span class="w"> </span><span class="nv">avahi</span><span class="w">    </span><span class="nv">avahi</span><span class="o">-</span><span class="nv">daemon</span>:<span class="w"> </span><span class="nv">chroot</span><span class="w"> </span><span class="nv">helpe</span><span class="w">     </span><span class="mi">0</span>.<span class="mi">00</span><span class="o">%</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">00</span><span class="o">%</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">00</span><span class="o">%</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">02</span><span class="o">%</span>
<span class="w"> </span><span class="mi">1523</span><span class="w"> </span><span class="nv">root</span><span class="w">     </span><span class="o">/</span><span class="nv">usr</span><span class="o">/</span><span class="nv">sbin</span><span class="o">/</span><span class="nv">irqbalance</span><span class="w">           </span><span class="mi">0</span>.<span class="mi">00</span><span class="o">%</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">00</span><span class="o">%</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">00</span><span class="o">%</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">03</span><span class="o">%</span>
<span class="w">  </span><span class="mi">585</span><span class="w"> </span><span class="nv">root</span><span class="w">     </span><span class="nv">upstart</span><span class="o">-</span><span class="nv">socket</span><span class="o">-</span><span class="nv">bridge</span><span class="w"> </span><span class="o">--</span><span class="nv">dae</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">00</span><span class="o">%</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">00</span><span class="o">%</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">00</span><span class="o">%</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">02</span><span class="o">%</span>
<span class="w"> </span><span class="mi">3033</span><span class="w"> </span><span class="nv">tecmint</span><span class="w">  </span><span class="o">/</span><span class="nv">usr</span><span class="o">/</span><span class="nv">bin</span><span class="o">/</span><span class="nv">dbus</span><span class="o">-</span><span class="nv">launch</span><span class="w"> </span><span class="o">--</span><span class="k">exit</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">00</span><span class="o">%</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">00</span><span class="o">%</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">00</span><span class="o">%</span><span class="w">    </span><span class="mi">0</span>.<span class="mi">03</span><span class="o">%</span>
....
</code></pre></div>

<p>下面的命令将会在输出的最后输出一行汇总信息：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>sudo<span class="w"> </span>smem<span class="w"> </span>-t
</code></pre></div>

<p><em>报告内存占用合计</em></p>
<div class="highlight"><pre><span></span><code><span class="w">  </span><span class="nv">PID</span><span class="w"> </span><span class="nv">User</span><span class="w">     </span><span class="nv">Command</span><span class="w">                         </span><span class="nv">Swap</span><span class="w">      </span><span class="nv">USS</span><span class="w">      </span><span class="nv">PSS</span><span class="w">      </span><span class="nv">RSS</span>
<span class="w"> </span><span class="mi">6367</span><span class="w"> </span><span class="nv">tecmint</span><span class="w">  </span><span class="nv">cat</span><span class="w">                                </span><span class="mi">0</span><span class="w">      </span><span class="mi">100</span><span class="w">      </span><span class="mi">139</span><span class="w">     </span><span class="mi">1784</span>
<span class="w"> </span><span class="mi">6368</span><span class="w"> </span><span class="nv">tecmint</span><span class="w">  </span><span class="nv">cat</span><span class="w">                                </span><span class="mi">0</span><span class="w">      </span><span class="mi">100</span><span class="w">      </span><span class="mi">141</span><span class="w">     </span><span class="mi">1676</span>
<span class="w"> </span><span class="mi">9307</span><span class="w"> </span><span class="nv">tecmint</span><span class="w">  </span><span class="nv">sh</span><span class="w"> </span><span class="o">-</span><span class="nv">c</span><span class="w"> </span>{<span class="w"> </span><span class="nv">sudo</span><span class="w"> </span><span class="o">/</span><span class="nv">usr</span><span class="o">/</span><span class="nv">lib</span><span class="o">/</span><span class="nv">linux</span><span class="w">        </span><span class="mi">0</span><span class="w">       </span><span class="mi">96</span><span class="w">      </span><span class="mi">158</span><span class="w">     </span><span class="mi">1508</span>
<span class="w"> </span><span class="mi">2864</span><span class="w"> </span><span class="nv">tecmint</span><span class="w">  </span><span class="o">/</span><span class="nv">usr</span><span class="o">/</span><span class="nv">bin</span><span class="o">/</span><span class="nv">ck</span><span class="o">-</span><span class="nv">launch</span><span class="o">-</span><span class="nv">session</span><span class="w">         </span><span class="mi">0</span><span class="w">      </span><span class="mi">144</span><span class="w">      </span><span class="mi">163</span><span class="w">     </span><span class="mi">1780</span>
<span class="w"> </span><span class="mi">3544</span><span class="w"> </span><span class="nv">tecmint</span><span class="w">  </span><span class="nv">sh</span><span class="w"> </span><span class="o">-</span><span class="nv">c</span><span class="w"> </span><span class="o">/</span><span class="nv">usr</span><span class="o">/</span><span class="nv">lib</span><span class="o">/</span><span class="nv">linuxmint</span><span class="o">/</span><span class="nv">mi</span><span class="w">        </span><span class="mi">0</span><span class="w">      </span><span class="mi">108</span><span class="w">      </span><span class="mi">170</span><span class="w">     </span><span class="mi">1540</span>
<span class="w"> </span><span class="mi">5758</span><span class="w"> </span><span class="nv">tecmint</span><span class="w">  </span><span class="nv">gnome</span><span class="o">-</span><span class="nv">pty</span><span class="o">-</span><span class="nv">helper</span><span class="w">                   </span><span class="mi">0</span><span class="w">      </span><span class="mi">156</span><span class="w">      </span><span class="mi">176</span><span class="w">     </span><span class="mi">1916</span>
<span class="w"> </span><span class="mi">7656</span><span class="w"> </span><span class="nv">tecmint</span><span class="w">  </span><span class="nv">gnome</span><span class="o">-</span><span class="nv">pty</span><span class="o">-</span><span class="nv">helper</span><span class="w">                   </span><span class="mi">0</span><span class="w">      </span><span class="mi">156</span><span class="w">      </span><span class="mi">176</span><span class="w">     </span><span class="mi">1832</span>
<span class="w"> </span><span class="mi">1441</span><span class="w"> </span><span class="nv">root</span><span class="w">     </span><span class="o">/</span><span class="nv">sbin</span><span class="o">/</span><span class="nv">getty</span><span class="w"> </span><span class="o">-</span><span class="mi">8</span><span class="w"> </span><span class="mi">38400</span><span class="w"> </span><span class="nv">tty2</span><span class="w">          </span><span class="mi">0</span><span class="w">      </span><span class="mi">152</span><span class="w">      </span><span class="mi">181</span><span class="w">     </span><span class="mi">2052</span>
<span class="w"> </span><span class="mi">1434</span><span class="w"> </span><span class="nv">root</span><span class="w">     </span><span class="o">/</span><span class="nv">sbin</span><span class="o">/</span><span class="nv">getty</span><span class="w"> </span><span class="o">-</span><span class="mi">8</span><span class="w"> </span><span class="mi">38400</span><span class="w"> </span><span class="nv">tty5</span><span class="w">          </span><span class="mi">0</span><span class="w">      </span><span class="mi">156</span><span class="w">      </span><span class="mi">184</span><span class="w">     </span><span class="mi">2060</span>
<span class="w"> </span><span class="mi">1444</span><span class="w"> </span><span class="nv">root</span><span class="w">     </span><span class="o">/</span><span class="nv">sbin</span><span class="o">/</span><span class="nv">getty</span><span class="w"> </span><span class="o">-</span><span class="mi">8</span><span class="w"> </span><span class="mi">38400</span><span class="w"> </span><span class="nv">tty3</span><span class="w">          </span><span class="mi">0</span><span class="w">      </span><span class="mi">156</span><span class="w">      </span><span class="mi">184</span><span class="w">     </span><span class="mi">2060</span>
<span class="w"> </span><span class="mi">1432</span><span class="w"> </span><span class="nv">root</span><span class="w">     </span><span class="o">/</span><span class="nv">sbin</span><span class="o">/</span><span class="nv">getty</span><span class="w"> </span><span class="o">-</span><span class="mi">8</span><span class="w"> </span><span class="mi">38400</span><span class="w"> </span><span class="nv">tty4</span><span class="w">          </span><span class="mi">0</span><span class="w">      </span><span class="mi">156</span><span class="w">      </span><span class="mi">185</span><span class="w">     </span><span class="mi">2124</span>
<span class="w"> </span><span class="mi">1452</span><span class="w"> </span><span class="nv">root</span><span class="w">     </span><span class="o">/</span><span class="nv">sbin</span><span class="o">/</span><span class="nv">getty</span><span class="w"> </span><span class="o">-</span><span class="mi">8</span><span class="w"> </span><span class="mi">38400</span><span class="w"> </span><span class="nv">tty6</span><span class="w">          </span><span class="mi">0</span><span class="w">      </span><span class="mi">164</span><span class="w">      </span><span class="mi">193</span><span class="w">     </span><span class="mi">2064</span>
<span class="w"> </span><span class="mi">2619</span><span class="w"> </span><span class="nv">root</span><span class="w">     </span><span class="o">/</span><span class="nv">sbin</span><span class="o">/</span><span class="nv">getty</span><span class="w"> </span><span class="o">-</span><span class="mi">8</span><span class="w"> </span><span class="mi">38400</span><span class="w"> </span><span class="nv">tty1</span><span class="w">          </span><span class="mi">0</span><span class="w">      </span><span class="mi">164</span><span class="w">      </span><span class="mi">193</span><span class="w">     </span><span class="mi">2136</span>
<span class="w"> </span><span class="mi">1504</span><span class="w"> </span><span class="nv">root</span><span class="w">     </span><span class="nv">acpid</span><span class="w"> </span><span class="o">-</span><span class="nv">c</span><span class="w"> </span><span class="o">/</span><span class="nv">etc</span><span class="o">/</span><span class="nv">acpi</span><span class="o">/</span><span class="nv">events</span><span class="w"> </span><span class="o">-</span><span class="w">        </span><span class="mi">0</span><span class="w">      </span><span class="mi">220</span><span class="w">      </span><span class="mi">232</span><span class="w">     </span><span class="mi">1604</span>
<span class="w"> </span><span class="mi">3311</span><span class="w"> </span><span class="nv">tecmint</span><span class="w">  </span><span class="nv">syndaemon</span><span class="w"> </span><span class="o">-</span><span class="nv">i</span><span class="w"> </span><span class="mi">0</span>.<span class="mi">5</span><span class="w"> </span><span class="o">-</span><span class="nv">K</span><span class="w"> </span><span class="o">-</span><span class="nv">R</span><span class="w">             </span><span class="mi">0</span><span class="w">      </span><span class="mi">260</span><span class="w">      </span><span class="mi">298</span><span class="w">     </span><span class="mi">2564</span>
<span class="w"> </span><span class="mi">3143</span><span class="w"> </span><span class="nv">rtkit</span><span class="w">    </span><span class="o">/</span><span class="nv">usr</span><span class="o">/</span><span class="nv">lib</span><span class="o">/</span><span class="nv">rtkit</span><span class="o">/</span><span class="nv">rtkit</span><span class="o">-</span><span class="nv">daemon</span><span class="w">        </span><span class="mi">0</span><span class="w">      </span><span class="mi">300</span><span class="w">      </span><span class="mi">324</span><span class="w">     </span><span class="mi">2548</span>
<span class="w"> </span><span class="mi">1588</span><span class="w"> </span><span class="nv">root</span><span class="w">     </span><span class="nv">cron</span><span class="w">                               </span><span class="mi">0</span><span class="w">      </span><span class="mi">292</span><span class="w">      </span><span class="mi">326</span><span class="w">     </span><span class="mi">2344</span>
<span class="w"> </span><span class="mi">1589</span><span class="w"> </span><span class="nv">avahi</span><span class="w">    </span><span class="nv">avahi</span><span class="o">-</span><span class="nv">daemon</span>:<span class="w"> </span><span class="nv">chroot</span><span class="w"> </span><span class="nv">helpe</span><span class="w">         </span><span class="mi">0</span><span class="w">      </span><span class="mi">124</span><span class="w">      </span><span class="mi">332</span><span class="w">     </span><span class="mi">1632</span>
<span class="w"> </span><span class="mi">1523</span><span class="w"> </span><span class="nv">root</span><span class="w">     </span><span class="o">/</span><span class="nv">usr</span><span class="o">/</span><span class="nv">sbin</span><span class="o">/</span><span class="nv">irqbalance</span><span class="w">               </span><span class="mi">0</span><span class="w">      </span><span class="mi">316</span><span class="w">      </span><span class="mi">340</span><span class="w">     </span><span class="mi">2096</span>
<span class="w">  </span><span class="mi">585</span><span class="w"> </span><span class="nv">root</span><span class="w">     </span><span class="nv">upstart</span><span class="o">-</span><span class="nv">socket</span><span class="o">-</span><span class="nv">bridge</span><span class="w"> </span><span class="o">--</span><span class="nv">dae</span><span class="w">        </span><span class="mi">0</span><span class="w">      </span><span class="mi">328</span><span class="w">      </span><span class="mi">349</span><span class="w">     </span><span class="mi">1820</span>
<span class="w"> </span><span class="mi">3033</span><span class="w"> </span><span class="nv">tecmint</span><span class="w">  </span><span class="o">/</span><span class="nv">usr</span><span class="o">/</span><span class="nv">bin</span><span class="o">/</span><span class="nv">dbus</span><span class="o">-</span><span class="nv">launch</span><span class="w"> </span><span class="o">--</span><span class="k">exit</span><span class="w">        </span><span class="mi">0</span><span class="w">      </span><span class="mi">328</span><span class="w">      </span><span class="mi">359</span><span class="w">     </span><span class="mi">2160</span>
<span class="w"> </span><span class="mi">1346</span><span class="w"> </span><span class="nv">root</span><span class="w">     </span><span class="nv">upstart</span><span class="o">-</span><span class="nv">file</span><span class="o">-</span><span class="nv">bridge</span><span class="w"> </span><span class="o">--</span><span class="nv">daemo</span><span class="w">        </span><span class="mi">0</span><span class="w">      </span><span class="mi">348</span><span class="w">      </span><span class="mi">370</span><span class="w">     </span><span class="mi">1776</span>
<span class="w"> </span><span class="mi">2607</span><span class="w"> </span><span class="nv">root</span><span class="w">     </span><span class="o">/</span><span class="nv">usr</span><span class="o">/</span><span class="nv">bin</span><span class="o">/</span><span class="nv">xdm</span><span class="w">                       </span><span class="mi">0</span><span class="w">      </span><span class="mi">188</span><span class="w">      </span><span class="mi">375</span><span class="w">     </span><span class="mi">2368</span>
<span class="w"> </span><span class="mi">1635</span><span class="w"> </span><span class="nv">kernoops</span><span class="w"> </span><span class="o">/</span><span class="nv">usr</span><span class="o">/</span><span class="nv">sbin</span><span class="o">/</span><span class="nv">kerneloops</span><span class="w">               </span><span class="mi">0</span><span class="w">      </span><span class="mi">352</span><span class="w">      </span><span class="mi">384</span><span class="w">     </span><span class="mi">2684</span>
<span class="w">  </span><span class="mi">344</span><span class="w"> </span><span class="nv">root</span><span class="w">     </span><span class="nv">upstart</span><span class="o">-</span><span class="nv">udev</span><span class="o">-</span><span class="nv">bridge</span><span class="w"> </span><span class="o">--</span><span class="nv">daemo</span><span class="w">        </span><span class="mi">0</span><span class="w">      </span><span class="mi">400</span><span class="w">      </span><span class="mi">426</span><span class="w">     </span><span class="mi">2132</span>
.....
<span class="o">-------------------------------------------------------------------------------</span>
<span class="w">  </span><span class="mi">134</span><span class="w"> </span><span class="mi">11</span><span class="w">                                          </span><span class="mi">0</span><span class="w">  </span><span class="mi">2171428</span><span class="w">  </span><span class="mi">2376266</span><span class="w">  </span><span class="mi">3587972</span>
</code></pre></div>

<p>另外，smem 也提供了选项以图形的形式报告内存的使用情况，我们将会在下一小节深入介绍。</p>
<p>比如，你可以生成一张进程的 PSS 和 RSS 值的条状图。在下面的例子中，我们会生成属于 root 用户的进程的内存占用图。</p>
<p>纵坐标为每一个进程的 PSS 和 RSS 值，横坐标为 root 用户的所有进程（的 ID）：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>sudo<span class="w"> </span>smem<span class="w"> </span>--userfilter<span class="o">=</span><span class="s2">&quot;root&quot;</span><span class="w"> </span>--bar<span class="w"> </span>pid<span class="w"> </span>-c<span class="s2">&quot;pss rss&quot;</span>
</code></pre></div>

<p><img alt="" src="/data/attachment/album/201608/14/093339fhgshgikomlmgsmm.png"></p>
<p><em>Linux Memory Usage in PSS and RSS Values</em></p>
<p>也可以生成进程及其 PSS 和 RSS 占用量的饼状图。以下的命令将会输出一张 root 用户的所有进程的饼状图。</p>
<p><code>--pie</code> name 意思为以各个进程名字为标签，<code>-s</code> 选项用来以 PSS 的值排序。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>sudo<span class="w"> </span>smem<span class="w"> </span>--userfilter<span class="o">=</span><span class="s2">&quot;root&quot;</span><span class="w"> </span>--pie<span class="w"> </span>name<span class="w"> </span>-s<span class="w"> </span>pss
</code></pre></div>

<p><img alt="" src="/data/attachment/album/201608/14/093340hg8zrsxwgg9sw3m2.png"></p>
<p><em>Linux Memory Consumption by Processes</em></p>
<p>除了 PSS 和 RSS ，其它的字段也可以用于图表的标签：</p>
<p>假如需要获得帮助，非常简单，仅需要输入 <code>smem -h</code> 或者是浏览帮助页面。</p>
<p>关于 smem 的介绍到此为止，不过想要更好的了解它，可以通过 man 手册获得更多的选项，然后一一实践。有什么想法或者疑惑，都可以跟帖评价。</p>
<p>参考链接: <a href="https://www.selenic.com/smem/">https://www.selenic.com/smem/</a></p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>