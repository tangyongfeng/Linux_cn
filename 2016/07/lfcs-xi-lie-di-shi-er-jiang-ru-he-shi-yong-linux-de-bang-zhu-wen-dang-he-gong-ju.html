<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>LFCS 系列第十二讲：如何使用 Linux 的帮助文档和工具</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Author: Gabriel Cánepa 由于 2016 年 2 月 2 号开始启用了新的 LFCS 考试要求, 我们在 LFCS 系列系列添加了一些必要的内容。为了考试的需要，我们 …" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">linux_cn</a></h1>
                <nav><ul>
                    <li><a href="/category/chuan-shan-jia-zhuan-fang">穿山甲专访</a></li>
                    <li><a href="/category/dai-ma-ying-xiong">代码英雄</a></li>
                    <li><a href="/category/fen-xiang">分享</a></li>
                    <li><a href="/category/guan-dian">观点</a></li>
                    <li><a href="/category/huo-dong">活动</a></li>
                    <li><a href="/category/ji-ke-man-hua">极客漫画</a></li>
                    <li class="active"><a href="/category/ji-zhu">技术</a></li>
                    <li><a href="/category/kai-yuan-zhi-hui">开源智慧</a></li>
                    <li><a href="/category/linux-fa-xing-ban">Linux 发行版</a></li>
                    <li><a href="/category/mei-ri-an-quan-zi-xun">每日安全资讯</a></li>
                    <li><a href="/category/misc">Misc</a></li>
                    <li><a href="/category/qu-kuai-lian">区块链</a></li>
                    <li><a href="/category/rong-qi-yu-yun">容器与云</a></li>
                    <li><a href="/category/ruan-jian-kai-fa">软件开发</a></li>
                    <li><a href="/category/shu-mei-pai">树莓派</a></li>
                    <li><a href="/category/xi-tong-yun-wei">系统运维</a></li>
                    <li><a href="/category/xin-wen">新闻</a></li>
                    <li><a href="/category/ying-he-guan-cha">硬核观察</a></li>
                    <li><a href="/category/zhi-ye-sheng-ya">职业生涯</a></li>
                    <li><a href="/category/zhong-jiang-ming-dan">中奖名单</a></li>
                    <li><a href="/category/zhuo-mian-ying-yong">桌面应用</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2016/07/lfcs-xi-lie-di-shi-er-jiang-ru-he-shi-yong-linux-de-bang-zhu-wen-dang-he-gong-ju.html" rel="bookmark"
           title="Permalink to LFCS 系列第十二讲：如何使用 Linux 的帮助文档和工具">LFCS 系列第十二讲：如何使用 Linux 的帮助文档和工具</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2016-07-25T09:55:38+02:00">
                Published: Mon 25 July 2016
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/linux-fans-from-china.html">linux fans from china</a>
        </address>
<p>In <a href="/category/ji-zhu">技术</a>.</p>

</footer><!-- /.post-info -->      <p>Author: Gabriel Cánepa</p>
<p>由于 2016 年 2 月 2 号开始启用了新的 LFCS 考试要求, 我们在 <a href="/article-7161-1.html">LFCS 系列</a>系列添加了一些必要的内容。为了考试的需要，我们强烈建议你看一下<a href="http://www.tecmint.com/installing-network-services-and-configuring-services-at-system-boot/">LFCE 系列</a>。</p>
<p><img alt="" src="/data/attachment/album/201607/25/095541on1h8wsdutnwn8ru.png"></p>
<p><em>LFCS: 了解 Linux 的帮助文档和工具</em></p>
<p>当你习惯了在命令行下进行工作，你会发现 Linux 已经有了许多使用和配置 Linux 系统所需要的文档。</p>
<p>另一个你必须熟悉命令行帮助工具的理由是，在<a href="/article-7161-1.html">LFCS</a> 和 <a href="http://www.tecmint.com/installing-network-services-and-configuring-services-at-system-boot/">LFCE</a> 考试中，它们是你唯一能够使用的信息来源，没有互联网也没有百度。你只能依靠你自己和命令行。</p>
<p>基于上面的理由，在这一章里我们将给你一些建议来可以让你有效的使用这些安装的文档和工具，以帮助你通过<strong>Linux 基金会认证</strong>考试。</p>
<h3>Linux <ruby> 帮助手册 <rp>  （ </rp> <rt>  man </rt> <rp>  ） </rp></ruby></h3>
<p>man 手册是 manual 手册的缩写，就是其名字所揭示的那样：一个给定工具的帮助手册。它包含了命令所支持的选项列表（以及解释），有些工具甚至还提供一些使用范例。</p>
<p>我们用 <strong>man 命令</strong> 跟上你想要了解的工具名称来打开一个帮助手册。例如：</p>
<div class="highlight"><pre><span></span><code># man diff
</code></pre></div>

<p>这将打开<code>diff</code>的手册页，这个工具将逐行对比文本文件（如你想退出只需要轻轻的点一下 q 键）。</p>
<p>下面我来比较两个文本文件 <code>file1</code> 和 <code>file2</code>。这两个文本文件包含了使用同一个 Linux 发行版相同版本安装的两台机器上的的安装包列表。</p>
<p>输入<code>diff</code> 命令它将告诉我们 <code>file1</code> 和<code>file2</code> 有什么不同:</p>
<div class="highlight"><pre><span></span><code># diff file1 file2
</code></pre></div>

<p><img alt="" src="/data/attachment/album/201607/25/095541p277x5ty7ihufb67.png"></p>
<p><em>在Linux中比较两个文本文件</em></p>
<p><code>&lt;</code> 这个符号是说<code>file2</code>缺失的行。如果是 <code>file1</code>缺失，我们将用 <code>&gt;</code> 符号来替代指示。</p>
<p>另外，<strong>7d6</strong> 意思是说<code>file1</code>的第<strong>7</strong>行要删除了才能和<code>file2</code>一致（<strong>24d22</strong> 和 <strong>41d38</strong> 也是同样的意思） <strong>65,67d61</strong> 告诉需要删除从第 <strong>65</strong> 行到 <strong>67</strong> 行。我们完成了以上步骤，那么这两个文件将完全一致。</p>
<p>此外，根据 man 手册说明，你还可以通过 <code>-y</code> 选项来以两路的方式显示文件。你可以发现这对于你找到两个文件间的不同根据方便容易。</p>
<div class="highlight"><pre><span></span><code># diff -y file1 file2
</code></pre></div>

<p><img alt="" src="/data/attachment/album/201607/25/095542par66q955uu656ui.png"></p>
<p><em>比较并列出两个文件的不同</em></p>
<p>此外，你也可以用<code>diff</code>来比较两个二进制文件。如果它们完全一样，<code>diff</code> 将什么也不会输出。否则，它将会返回如下信息：“<strong>Binary files X and Y differ</strong>”。</p>
<h3>–help 选项</h3>
<p><code>--help</code>选项，大多数命令都支持它（并不是所有）， 它可以理解为一个命令的简短帮助手册。尽管它没有提供工具的详细介绍，但是确实是一个能够快速列出程序的所支持的选项的不错的方法。</p>
<p>例如，</p>
<div class="highlight"><pre><span></span><code># sed --help
</code></pre></div>

<p>将显示 sed （流编辑器）的每个支持的选项。</p>
<p><code>sed</code>命令的一个典型用法是替换文件中的字符。用 <code>-i</code> 选项（意思是 “<strong>原地编辑编辑文件</strong>”），你可以编辑一个文件而且并不需要打开它。 如果你想要同时备份一个原始文件，用 <code>-i</code> 选项加后缀来创建一个原始文件的副本。</p>
<p>例如，替换 <code>lorem.txt</code> 中的<code>Lorem</code> 为 <code>Tecmint</code>（忽略大小写），并且创建一个原文件的备份副本，命令如下：</p>
<div class="highlight"><pre><span></span><code># less lorem.txt | grep -i lorem
# sed -i.orig &#39;s/Lorem/Tecmint/gI&#39; lorem.txt
# less lorem.txt | grep -i lorem
# less lorem.txt.orig | grep -i lorem
</code></pre></div>

<p>请注意<code>lorem.txt</code>文件中<code>Lorem</code> 都已经替换为 <code>Tecmint</code>，并且原文件 <code>lorem.txt</code> 被保存为<code>lorem.txt.orig</code>。</p>
<p><img alt="" src="/data/attachment/album/201607/25/095542si4s5z2a542g59rr.png"></p>
<p><em>替换文件中的文本</em></p>
<h3>/usr/share/doc 内的文档</h3>
<p>这可能是我最喜欢的方法。如果你进入 <code>/usr/share/doc</code> 目录，并列出该目录，你可以看到许多以安装在你的 Linux 上的工具为名称的文件夹。</p>
<p>根据 <a href="/article-6132-1.html">文件系统层级标准</a>，这些文件夹包含了许多帮助手册没有的信息，还有一些可以使配置更方便的模板和配置文件。</p>
<p>例如，让我们来看一下 <code>squid-3.3.8</code> （不同发行版的版本可能会不同），这还是一个非常受欢迎的 HTTP 代理和 <a href="http://www.tecmint.com/configure-squid-server-in-linux/">squid 缓存服务器</a>。</p>
<p>让我们用<code>cd</code>命令进入目录：</p>
<div class="highlight"><pre><span></span><code># cd /usr/share/doc/squid-3.3.8
</code></pre></div>

<p>列出当前文件夹列表：</p>
<div class="highlight"><pre><span></span><code># ls
</code></pre></div>

<p><img alt="" src="/data/attachment/album/201607/25/095543nddiud7rzi2f3ed2.png"></p>
<p><em>使用 ls 列出目录</em></p>
<p>你应该特别注意 <code>QUICKSTART</code> 和 <code>squid.conf.documented</code>。这些文件分别包含了 Squid 详细文档及其经过详细备注的配置文件。对于别的安装包来说，具体的名字可能不同（有可能是 <strong>QuickRef</strong> 或者<strong>00QUICKSTART</strong>），但意思是一样的。</p>
<p>对于另外一些安装包，比如 Apache web 服务器，在<code>/usr/share/doc</code>目录提供了配置模板，当你配置独立服务器或者虚拟主机的时候会非常有用。</p>
<h3>GNU 信息文档</h3>
<p>你可以把它看做帮助手册的“开挂版”。它不仅仅提供工具的帮助信息，而且还是超级链接的形式（没错，在命令行中的超级链接），你可以通过箭头按钮从一个章节导航到另外章节，并按下回车按钮来确认。</p>
<p>一个典型的例子是：</p>
<div class="highlight"><pre><span></span><code># info coreutils
</code></pre></div>

<p>因为 coreutils 包含了每个系统中都有的基本文件、shell 和文本处理工具，你自然可以从 coreutils 的 info 文档中得到它们的详细介绍。</p>
<p><img alt="" src="/data/attachment/album/201607/25/095543xzr5k57jx7fx7ke9.png"></p>
<p><em>Info Coreutils</em></p>
<p>和帮助手册一样，你可以按 q 键退出。</p>
<p>此外，GNU info 还可以显示标准的帮助手册。 例如：</p>
<div class="highlight"><pre><span></span><code># info tune2fs
</code></pre></div>

<p>它将显示 <strong>tune2fs</strong>的帮助手册, 这是一个 ext2/3/4 文件系统管理工具。</p>
<p>我们现在看到了，让我们来试试怎么用<strong>tune2fs</strong>：</p>
<p>显示 <strong>/dev/mapper/vg00-vol_backups</strong> 文件系统信息：</p>
<div class="highlight"><pre><span></span><code><span class="gh">#</span> tune2fs -l /dev/mapper/vg00-vol_backups
</code></pre></div>

<p>修改文件系统标签（修改为 Backups）：</p>
<div class="highlight"><pre><span></span><code><span class="gh">#</span> tune2fs -L Backups /dev/mapper/vg00-vol_backups
</code></pre></div>

<p>设置文件系统的自检间隔及挂载计数（用<code>-c</code> 选项设置挂载计数间隔， 用 <code>-i</code> 选项设置自检时间间隔，这里 <strong>d 表示天，w 表示周，m 表示月</strong>)。</p>
<div class="highlight"><pre><span></span><code><span class="gh">#</span> tune2fs -c 150 /dev/mapper/vg00-vol_backups # 每 150 次挂载检查一次
<span class="gh">#</span> tune2fs -i 6w /dev/mapper/vg00-vol_backups # 每 6 周检查一次
</code></pre></div>

<p>以上这些内容也可以通过 <code>--help</code> 选项找到，或者查看帮助手册。</p>
<h3>摘要</h3>
<p>不管你选择哪种方法，知道并且会使用它们在考试中对你是非常有用的。你知道其它的一些方法吗? 欢迎给我们留言。</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>