<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>新手指南：在 Ubuntu 和 Fedora 上安装软件包</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Author: LOCEZ 新进入 Linux 世界的朋友们，也许你已经下载好了 Linux 的安装 ISO，并且安装好了你的 Linux ，那么接下来，你也许希望安装一些 Linux …" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">linux_cn</a></h1>
                <nav><ul>
                    <li><a href="/category/chuan-shan-jia-zhuan-fang">穿山甲专访</a></li>
                    <li><a href="/category/dai-ma-ying-xiong">代码英雄</a></li>
                    <li><a href="/category/fen-xiang">分享</a></li>
                    <li><a href="/category/guan-dian">观点</a></li>
                    <li><a href="/category/huo-dong">活动</a></li>
                    <li><a href="/category/ji-ke-man-hua">极客漫画</a></li>
                    <li class="active"><a href="/category/ji-zhu">技术</a></li>
                    <li><a href="/category/kai-yuan-zhi-hui">开源智慧</a></li>
                    <li><a href="/category/linux-fa-xing-ban">Linux 发行版</a></li>
                    <li><a href="/category/mei-ri-an-quan-zi-xun">每日安全资讯</a></li>
                    <li><a href="/category/misc">Misc</a></li>
                    <li><a href="/category/qu-kuai-lian">区块链</a></li>
                    <li><a href="/category/rong-qi-yu-yun">容器与云</a></li>
                    <li><a href="/category/ruan-jian-kai-fa">软件开发</a></li>
                    <li><a href="/category/shu-mei-pai">树莓派</a></li>
                    <li><a href="/category/xi-tong-yun-wei">系统运维</a></li>
                    <li><a href="/category/xin-wen">新闻</a></li>
                    <li><a href="/category/ying-he-guan-cha">硬核观察</a></li>
                    <li><a href="/category/zhi-ye-sheng-ya">职业生涯</a></li>
                    <li><a href="/category/zhong-jiang-ming-dan">中奖名单</a></li>
                    <li><a href="/category/zhuo-mian-ying-yong">桌面应用</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2016/02/xin-shou-zhi-nan-zai-ubuntu-he-fedora-shang-an-zhuang-ruan-jian-bao.html" rel="bookmark"
           title="Permalink to 新手指南：在 Ubuntu 和 Fedora 上安装软件包">新手指南：在 Ubuntu 和 Fedora 上安装软件包</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2016-02-05T08:15:00+01:00">
                Published: Fri 05 February 2016
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/linux-fans-from-china.html">linux fans from china</a>
        </address>
<p>In <a href="/category/ji-zhu">技术</a>.</p>

</footer><!-- /.post-info -->      <p>Author: LOCEZ</p>
<p>新进入 Linux 世界的朋友们，也许你已经<a href="/article-4130-1.html">下载好了 Linux 的安装 ISO</a>，并且<a href="/article-5893-1.html">安装好了你的 Linux</a> ，那么接下来，你也许希望安装一些 Linux 上用的软件。开始你可能会使用图形界面的软件中心来安装，有时候也需要使用命令行来安装，或者甚至需要自己去编译一个二进制出来——这是多么神奇的一件事啊。</p>
<p>那么我们今天就讲一讲如何在 Linux 上安装软件包。</p>
<p>本文将从 <strong>GUI 软件中心</strong>、<strong>包管理器</strong>、<strong>在线仓库安装</strong>，<strong>本地安装</strong>，<strong>源码安装</strong> 一一为你讲解有关安装软件包需要注意的事项。 </p>
<p><img alt="" src="/data/attachment/album/201508/16/222746e5vh38d7ey3leyps.jpg"></p>
<h3>本文环境</h3>
<ul>
<li>Ubuntu 15.04 64-bit</li>
<li>Fedora 22 64-bit</li>
</ul>
<h3>安装目标</h3>
<ul>
<li>wget 它是一个用于从网络上下载文件的简单自由软件，在下文我们也会用到 wget 进行下载某些文件。</li>
</ul>
<h3>相关概念</h3>
<ul>
<li><strong>源</strong> ：我们安装程序可以从 <strong>远程仓库</strong> 或 <strong>本地仓库</strong> 获取，这个 <strong>仓库</strong> 就是我们程序的来源，因此可以称为 <strong>源</strong> 。</li>
<li><strong>包管理器</strong> ：顾名思义 <strong>包管理器</strong> 是用来管理软件包的，用这个工具我们可以轻松的从仓库中安装、卸载程序。不同的发行版有不同的包管理器，Ubuntu 使用 <code>apt-get</code> 而 Fedora 22使用 <code>dnf</code>。</li>
<li><strong>源码</strong> ： 程序的原始代码，未经过编译，通过编译源码也可以生成程序。</li>
</ul>
<h3>图形界面的软件中心</h3>
<h4>Ubuntu 软件中心</h4>
<p>当我们处于图形界面（ GUI ：Graphical User Interface) 时，Ubuntu 为我们提供了一个图形界面的安装工具，称为 <strong>Ubuntu 软件中心</strong>，通过这个软件中心，我们可以像 Windows 一样通过点击几个按钮，轻松实现软件包安装。下图为打开软件中心之后的图，左边是一些分类，下面则是一些推荐的软件包。</p>
<p><img alt="Ubunutu 软件中心" src="/data/attachment/album/201508/16/222807duvefmvtekrvmzae.png"></p>
<p>点击已安装可以查看安装在本机的软件包，并且可以在此管理它们，如图选中 Firefox 并点击卸载，此时会提示你输入密码，输入完成且正确就会卸载你所选的程序。</p>
<p><img alt="已安装" src="/data/attachment/album/201508/16/222808pglctdclc3gd3f5t.png"></p>
<p>接下来在搜索框搜索 <code>wget</code> 你可以看到如图所示的东西，并且只需点击安装并正确输入密码即可。</p>
<p><img alt="安装新程序" src="/data/attachment/album/201508/16/222808pglctdclc3gd3f5t.png"></p>
<h4>Fedora 软件中心</h4>
<p>点开如图所示的图标就可以打开 Fedora 的软件中心。</p>
<p><img alt="Fedora 软件中心" src="/data/attachment/album/201508/16/222808i3dn7zuy4c27zvc4.png"></p>
<p>打开后界面如图，分类在最下面</p>
<p><img alt="软件中心" src="/data/attachment/album/201508/16/222809pxyzebmzsmhwheei.png"></p>
<p>点开上图的扫雷，显示如下，点击 <strong>安装</strong> ，静候即可</p>
<p><img alt="安装新程序" src="/data/attachment/album/201508/16/222809ke0uhd9e3zqw7h39.png"></p>
<p>现在转到 <strong>已安装</strong> ，我们可以看到刚刚安装的扫雷，点击 <strong>移除</strong> ，就可以删除了。</p>
<p><img alt="移除程序" src="/data/attachment/album/201508/16/222809e9plrmmzu1p1pukr.png"></p>
<p>如果你遇到下图，只需要输入你的密码即可。</p>
<p><img alt="认证" src="/data/attachment/album/201508/16/222810mc3rd4sasqabmqcz.png"></p>
<h3>使用包管理器安装</h3>
<h4>1.换源</h4>
<table>
<thead>
<tr>
<th>发行版</th>
<th>换源方法</th>
</tr>
</thead>
<tbody>
<tr>
<td>Ubuntu</td>
<td><a href="http://mirrors.aliyun.com/help/ubuntu">阿里云镜像配置请参考这里</a></td>
</tr>
<tr>
<td><a href="https://lug.ustc.edu.cn/wiki/mirrors/help/ubuntu">USTC镜像配置请参考这里</a></td>
<td></td>
</tr>
<tr>
<td>Fedora</td>
<td><a href="http://mirrors.aliyun.com/help/fedora">阿里云镜像配置请参考这里</a></td>
</tr>
<tr>
<td><a href="https://lug.ustc.edu.cn/wiki/mirrors/help/fedora">USTC镜像配置请参考这里</a></td>
<td></td>
</tr>
</tbody>
</table>
<p>换源是为了提升下载速度，上文的概念已经提到了，我们安装软件是从远程仓库下载安装的，自然这个远程仓库的网络连通必须要好，并且下载速度要可观。</p>
<h4>2.更新源</h4>
<p>更换了源的文件后，还需要更新本地数据库信息，以便与远程仓库信息一致。</p>
<table>
<thead>
<tr>
<th>发行版</th>
<th>包管理工具</th>
<th>参数</th>
<th>示例</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td>Ubuntu</td>
<td>apt-get</td>
<td>update</td>
<td>sudo apt-get update</td>
<td>取回更新的软件包列表信息</td>
</tr>
<tr>
<td>Fedora</td>
<td>dnf</td>
<td>check-update</td>
<td>sudo dnf check-update</td>
<td>取回更新的软件包列表信息</td>
</tr>
</tbody>
</table>
<h4>3.安装软件包</h4>
<table>
<thead>
<tr>
<th>发行版</th>
<th>包管理工具</th>
<th>类型</th>
<th>参数</th>
<th>示例</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td>Ubuntu</td>
<td>apt-get</td>
<td>远程仓库</td>
<td>install</td>
<td>sudo apt-get install packagename</td>
<td>安装软件包</td>
</tr>
<tr>
<td>Fedora</td>
<td>dnf</td>
<td>远程仓库</td>
<td>install</td>
<td>sudo dnf install packagename</td>
<td>安装软件包</td>
</tr>
<tr>
<td>Ubuntu</td>
<td>dpkg</td>
<td>本地deb包</td>
<td>-i</td>
<td>sudo dpkg -i filename.deb</td>
<td>安装本地二进制deb包</td>
</tr>
<tr>
<td>Fedora</td>
<td>rpm</td>
<td>本地rpm包</td>
<td>-i</td>
<td>sudo rpm -i filename.rpm</td>
<td>安装本地二进制rpm包</td>
</tr>
</tbody>
</table>
<h4>4.卸载软件包</h4>
<table>
<thead>
<tr>
<th>发行版</th>
<th>包管理工具</th>
<th>参数</th>
<th>示例</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td>Ubuntu</td>
<td>apt-get</td>
<td>remove</td>
<td>sudo apt-get remove packagename</td>
<td>卸载软件包</td>
</tr>
<tr>
<td>Fedora</td>
<td>dnf</td>
<td>remove</td>
<td>sudo dnf remove packagename</td>
<td>卸载软件包</td>
</tr>
<tr>
<td>Ubuntu</td>
<td>dpkg</td>
<td>-r</td>
<td>sudo dpkg -r packagename</td>
<td>卸载软件包</td>
</tr>
</tbody>
</table>
<h4>5.升级所有软件包</h4>
<table>
<thead>
<tr>
<th>发行版</th>
<th>包管理工具</th>
<th>参数</th>
<th>示例</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td>Ubuntu</td>
<td>apt-get</td>
<td>upgrade</td>
<td>sudo apt-get upgrade</td>
<td>升级所有软件包</td>
</tr>
<tr>
<td>Fedora</td>
<td>dnf</td>
<td>upgrade</td>
<td>sudo dnf upgrade</td>
<td>升级所有软件包</td>
</tr>
</tbody>
</table>
<h4>6.其它参数</h4>
<table>
<thead>
<tr>
<th>发行版</th>
<th>包管理工具</th>
<th>参数</th>
<th>示例</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td>Ubuntu</td>
<td>apt-get</td>
<td>purge</td>
<td>sudo apt-get purge packagename</td>
<td>卸载并清除软件包的配置</td>
</tr>
<tr>
<td>source</td>
<td>apt-get source packagename</td>
<td>下载源码包文件</td>
<td></td>
<td></td>
</tr>
<tr>
<td>clean</td>
<td>sudo apt-get clean</td>
<td>删除所有已下载的包文件</td>
<td></td>
<td></td>
</tr>
<tr>
<td>download</td>
<td>apt-get download packagename</td>
<td>下载指定的二进制包到当前目录</td>
<td></td>
<td></td>
</tr>
<tr>
<td>--help</td>
<td>apt-get --help</td>
<td>获取帮助</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Fedora</td>
<td>dnf</td>
<td>clean</td>
<td>sudo dnf clean</td>
<td>清除旧缓存</td>
</tr>
<tr>
<td>makecache</td>
<td>sudo dnf makecache</td>
<td>生成新缓存</td>
<td></td>
<td></td>
</tr>
<tr>
<td>-h</td>
<td>dnf -h</td>
<td>获取帮助</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h3>从源码编译安装</h3>
<p>有些时候我们会发现有的软件包并没有包含在软件仓库中，也没有可用的二进制包，这时候我们可以尝试从源码编译安装，我在此处仍以<code>wget</code> 为例，示范如何编译，并解决编译遇到的问题</p>
<p>以下环境为 <strong>Ubuntu 15.04</strong></p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>mkdir<span class="w"> </span>buildwget<span class="w"> </span><span class="c1">#构建目录</span>
$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>buildwget
$<span class="w"> </span>wget<span class="w"> </span>http://ftp.gnu.org/gnu/wget/wget-1.16.tar.xz<span class="w">         </span><span class="c1">#下载源码包</span>
$<span class="w"> </span>sudo<span class="w"> </span>apt-get<span class="w"> </span>remove<span class="w"> </span>wget<span class="w">  </span><span class="c1">#为了后面的测试，先把 wget 卸载了</span>
$<span class="w"> </span>xz<span class="w"> </span>-d<span class="w"> </span>wget-1.16.tar.xz<span class="w">  </span><span class="c1">#解压 xz 文件</span>
$<span class="w"> </span>tar<span class="w"> </span>-xvf<span class="w"> </span>wget-1.16.tar<span class="w"> </span><span class="c1">#解档 tar 文件</span>
$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>wget-1.16
$<span class="w"> </span>ls<span class="w">                     </span><span class="c1">#列出文件</span>
ABOUT-NLS<span class="w">   </span>ChangeLog.README<span class="w">  </span>GNUmakefile<span class="w">   </span>maint.mk<span class="w">     </span>po<span class="w">       </span>util
aclocal.m4<span class="w">  </span>configure<span class="w">         </span>INSTALL<span class="w">       </span>Makefile.am<span class="w">  </span>README
AUTHORS<span class="w">     </span>configure.ac<span class="w">      </span>lib<span class="w">           </span>Makefile.in<span class="w">  </span>src
build-aux<span class="w">   </span>COPYING<span class="w">           </span>m4<span class="w">            </span>msdos<span class="w">        </span>testenv
ChangeLog<span class="w">   </span>doc<span class="w">               </span>MAILING-LIST<span class="w">  </span>NEWS<span class="w">         </span>tests
</code></pre></div>

<p>上面的文件就是我们将要编译的源文件，其中有个特别要注意的就是 <code>INSTALL</code>，我们要养成一个习惯，多看 <code>INSTALL</code> 文件，这个文件会告诉我们怎么编译，编译时需要注意什么？但由于此处的编译较简单，所以 <code>INSTALL</code> 也没有提到什么特别重要的事情。</p>
<p>按照 <code>INSTALL</code> 我们先执行 <code>./configure</code></p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>./configure
</code></pre></div>

<p>如果出现如下的错误</p>
<div class="highlight"><pre><span></span><code><span class="n">configure</span><span class="o">:</span><span class="w"> </span><span class="n">error</span><span class="o">:</span><span class="w"> </span><span class="o">--</span><span class="k">with</span><span class="o">-</span><span class="n">ssl</span><span class="o">=</span><span class="n">gnutls</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">given</span><span class="o">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">GNUTLS</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">available</span><span class="o">.</span>
</code></pre></div>

<p>错误提示说，给定的 <code>SSL</code> 是 <code>gnutls</code> 但是却不可用（因为没有安装），因此我们安装并指定 <code>openssl</code> 为 <code>wget</code> 的 <code>SSL</code> 。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>openssl<span class="w"> </span>
$<span class="w"> </span>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>libssl-dev
$<span class="w"> </span>./configure<span class="w"> </span>--with-ssl<span class="o">=</span>openssl
</code></pre></div>

<p>如果没有问题，执行完后应该显示如下</p>
<div class="highlight"><pre><span></span><code><span class="n">configure</span><span class="o">:</span><span class="w"> </span><span class="n">Summary</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">build</span><span class="w"> </span><span class="n">options</span><span class="o">:</span>

<span class="w">  </span><span class="n">Version</span><span class="o">:</span><span class="w">           </span><span class="mf">1.16</span>
<span class="w">  </span><span class="n">Host</span><span class="w"> </span><span class="n">OS</span><span class="o">:</span><span class="w">           </span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span>
<span class="w">  </span><span class="n">Install</span><span class="w"> </span><span class="n">prefix</span><span class="o">:</span><span class="w">    </span><span class="sr">/usr/</span><span class="n">local</span>
<span class="w">  </span><span class="n">Compiler</span><span class="o">:</span><span class="w">          </span><span class="n">gcc</span>
<span class="w">  </span><span class="n">CFlags</span><span class="o">:</span><span class="w">            </span><span class="o">-</span><span class="n">g</span><span class="w"> </span><span class="o">-</span><span class="n">O2</span><span class="w"> </span>
<span class="w">  </span><span class="n">LDFlags</span><span class="o">:</span><span class="w">           </span>
<span class="w">  </span><span class="n">Libs</span><span class="o">:</span><span class="w">              </span><span class="o">-</span><span class="n">lssl</span><span class="w"> </span><span class="o">-</span><span class="n">lcrypto</span><span class="w"> </span><span class="o">-</span><span class="n">ldl</span><span class="w"> </span><span class="o">-</span><span class="n">lz</span><span class="w"> </span>
<span class="w">  </span><span class="n">SSL</span><span class="o">:</span><span class="w">               </span><span class="n">openssl</span>
<span class="w">  </span><span class="n">Zlib</span><span class="o">:</span><span class="w">              </span><span class="n">yes</span>
<span class="w">  </span><span class="n">PSL</span><span class="o">:</span><span class="w">               </span><span class="n">no</span>
<span class="w">  </span><span class="n">Digest</span><span class="o">:</span><span class="w">            </span><span class="n">yes</span>
<span class="w">  </span><span class="n">NTLM</span><span class="o">:</span><span class="w">              </span><span class="n">yes</span>
<span class="w">  </span><span class="n">OPIE</span><span class="o">:</span><span class="w">              </span><span class="n">yes</span>
<span class="w">  </span><span class="n">Debugging</span><span class="o">:</span><span class="w">         </span><span class="n">yes</span>
</code></pre></div>

<p>然后进行编译</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>make
</code></pre></div>

<p>会输出很多编译信息，不要担心，如果最后没有报错而停止，则编译成功，接下来进行安装</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>sudo<span class="w"> </span>make<span class="w"> </span>install
</code></pre></div>

<p>试试是不是 <code>wget</code> 命令又出来了？源码安装遇到问题，我们要善于搜索，提问和解决，根据报错内容进行相应的编译调整，缺少的依赖装上，一般就可以成功。 </p>
<h3>总结</h3>
<p>本文主要为新手讲解了 <strong>Ubuntu</strong> 和 <strong>Fedora</strong> 安装软件包的一些方法， 相较之前的版本，本次更改由繁化简，并且以表格的形式给出参数和命令，要熟练和体会这些命令到底是干嘛的，还必须亲自敲一敲，去理解这个命令的作用。从源码编译安装，则展示了一个遇到问题，解决问题的过程，由于编译 <code>wget</code> 较简单，此处也未遇到特别难处理的问题，但这清晰的展示了一个编译安装的过程，遇到错误，我们不要害怕，而要认真阅读给出的错误信息，借此搜索，提问，寻求解答。另外 Linux 下遇到问题首先要自己善于去搜索，提问，解决问题得到答案并归纳总结，不然是很难学到知识的。</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>