<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>给Linux系统/网络管理员的nmap的29个实用例子</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Author: '' Nmap亦称为Network Mapper(网络映射)是一个开源并且通用的用于Linux系统/网络管理员的工具。nmap用于探查网络、执行安全扫描、网络核查并 …" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">linux_cn</a></h1>
                <nav><ul>
                    <li><a href="/category/chuan-shan-jia-zhuan-fang">穿山甲专访</a></li>
                    <li><a href="/category/dai-ma-ying-xiong">代码英雄</a></li>
                    <li><a href="/category/fen-xiang">分享</a></li>
                    <li><a href="/category/guan-dian">观点</a></li>
                    <li><a href="/category/huo-dong">活动</a></li>
                    <li><a href="/category/ji-ke-man-hua">极客漫画</a></li>
                    <li class="active"><a href="/category/ji-zhu">技术</a></li>
                    <li><a href="/category/kai-yuan-zhi-hui">开源智慧</a></li>
                    <li><a href="/category/linux-fa-xing-ban">Linux 发行版</a></li>
                    <li><a href="/category/mei-ri-an-quan-zi-xun">每日安全资讯</a></li>
                    <li><a href="/category/misc">Misc</a></li>
                    <li><a href="/category/qu-kuai-lian">区块链</a></li>
                    <li><a href="/category/rong-qi-yu-yun">容器与云</a></li>
                    <li><a href="/category/ruan-jian-kai-fa">软件开发</a></li>
                    <li><a href="/category/shu-mei-pai">树莓派</a></li>
                    <li><a href="/category/xi-tong-yun-wei">系统运维</a></li>
                    <li><a href="/category/xin-wen">新闻</a></li>
                    <li><a href="/category/ying-he-guan-cha">硬核观察</a></li>
                    <li><a href="/category/zhi-ye-sheng-ya">职业生涯</a></li>
                    <li><a href="/category/zhong-jiang-ming-dan">中奖名单</a></li>
                    <li><a href="/category/zhuo-mian-ying-yong">桌面应用</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2014/02/gei-linuxxi-tong-wang-luo-guan-li-yuan-de-nmapde-29ge-shi-yong-li-zi.html" rel="bookmark"
           title="Permalink to 给Linux系统/网络管理员的nmap的29个实用例子">给Linux系统/网络管理员的nmap的29个实用例子</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2014-02-12T14:03:00+01:00">
                Published: Wed 12 February 2014
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/linux-fans-from-china.html">linux fans from china</a>
        </address>
<p>In <a href="/category/ji-zhu">技术</a>.</p>

</footer><!-- /.post-info -->      <p>Author: ''</p>
<p><strong>Nmap</strong>亦称为<strong>Network Mapper</strong>(网络映射)是一个开源并且通用的用于Linux系统/网络管理员的工具。<strong>nmap</strong>用于<strong>探查网络、执行安全扫描、网络核查</strong>并且在远程机器上<strong>找出开放端口</strong>。它可以扫描在线的主机、操作系统、包过滤器和远程主机上的开放端口。</p>
<p><img alt="" src="/data/attachment/album/201402/12/135412xdoqcppgx2zdwx2g.png"></p>
<p><em>Nmap 命令和示例</em></p>
<p>我会分两个章节讲述<strong>NMAP</strong>的常见的使用方法，这篇是nmap系列的第一部分(译注:原文为I’ll be covering most of NMAP usage in two different parts and this is the first part of nmap serious,这里serious可能为笔误，应该为series)。在这个步骤里，我用两个没有防火墙的服务器来测试nmap命令的工作。</p>
<ul>
<li>192.168.0.100 – server1.tecmint.com</li>
<li>192.168.0.101 – server2.tecmint.com</li>
</ul>
<h3>Nmap 命令使用</h3>
<div class="highlight"><pre><span></span><code><span class="err">#</span><span class="w"> </span><span class="n">nmap</span><span class="w"> </span><span class="o">[</span><span class="n">Scan Type(s)</span><span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="n">Options</span><span class="o">]</span><span class="w"> </span><span class="err">{</span><span class="n">target</span><span class="w"> </span><span class="n">specification</span><span class="err">}</span>
</code></pre></div>

<h3>如何在Linux上安装nmap</h3>
<p>如今大部分Linux发行版像<strong>Red Hat, CentOS, Fedoro, Debian</strong> 和 <strong>Ubuntu</strong>已经在它们默认的包管理仓库中包含了<strong>nmap</strong>，可以通过<a href="http://www.tecmint.com/20-linux-yum-yellowdog-updater-modified-commands-for-package-mangement/">Yum</a> 和 <a href="http://www.tecmint.com/useful-basic-commands-of-apt-get-and-apt-cache-for-package-management/">APT</a>安装、管理和更新软件包。在这些发行版上安装<strong>nmap</strong>，可以使用下面的命令。</p>
<div class="highlight"><pre><span></span><code># yum install nmap      [基于 Red Hat 的发行版]
$ sudo apt-get install nmap [基于 Debian 的发行版]
</code></pre></div>

<p>安装了最新的nmap程序之后，你就可以跟着这篇文章中的示例指令来学习了。</p>
<h3>1. 带主机名和IP地址扫描系统</h3>
<p><strong>nmap</strong>工具提供了不同的方法来扫描一个系统。在这个例子中，我使用主机名为<strong>server2.tecmint.com</strong>的机器执行扫描来找出所有开放端口，服务和系统上的MAC地址。</p>
<h4>使用主机名扫描</h4>
<div class="highlight"><pre><span></span><code><span class="p">[</span><span class="n">root</span><span class="err">@</span><span class="n">server1</span><span class="w"> </span><span class="o">~</span><span class="p">]</span><span class="c1"># nmap server2.tecmint.com</span>

<span class="n">Starting</span><span class="w"> </span><span class="n">Nmap</span><span class="w"> </span><span class="mf">4.11</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">insecure</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">nmap</span><span class="o">/</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="mi">2013</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">11</span><span class="w"> </span><span class="mi">15</span><span class="p">:</span><span class="mi">42</span><span class="w"> </span><span class="n">EST</span>
<span class="n">Interesting</span><span class="w"> </span><span class="n">ports</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">server2</span><span class="o">.</span><span class="n">tecmint</span><span class="o">.</span><span class="n">com</span><span class="w"> </span><span class="p">(</span><span class="mf">192.168</span><span class="o">.</span><span class="mf">0.101</span><span class="p">):</span>
<span class="n">Not</span><span class="w"> </span><span class="n">shown</span><span class="p">:</span><span class="w"> </span><span class="mi">1674</span><span class="w"> </span><span class="n">closed</span><span class="w"> </span><span class="n">ports</span>
<span class="n">PORT</span><span class="w">     </span><span class="n">STATE</span><span class="w"> </span><span class="n">SERVICE</span>
<span class="mi">22</span><span class="o">/</span><span class="n">tcp</span><span class="w">   </span><span class="n">open</span><span class="w">  </span><span class="n">ssh</span>
<span class="mi">80</span><span class="o">/</span><span class="n">tcp</span><span class="w">   </span><span class="n">open</span><span class="w">  </span><span class="n">http</span>
<span class="mi">111</span><span class="o">/</span><span class="n">tcp</span><span class="w">  </span><span class="n">open</span><span class="w">  </span><span class="n">rpcbind</span>
<span class="mi">957</span><span class="o">/</span><span class="n">tcp</span><span class="w">  </span><span class="n">open</span><span class="w">  </span><span class="n">unknown</span>
<span class="mi">3306</span><span class="o">/</span><span class="n">tcp</span><span class="w"> </span><span class="n">open</span><span class="w">  </span><span class="n">mysql</span>
<span class="mi">8888</span><span class="o">/</span><span class="n">tcp</span><span class="w"> </span><span class="n">open</span><span class="w">  </span><span class="n">sun</span><span class="o">-</span><span class="n">answerbook</span>
<span class="n">MAC</span><span class="w"> </span><span class="n">Address</span><span class="p">:</span><span class="w"> </span><span class="mi">08</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">27</span><span class="p">:</span><span class="n">D9</span><span class="p">:</span><span class="mi">8</span><span class="n">E</span><span class="p">:</span><span class="n">D7</span><span class="w"> </span><span class="p">(</span><span class="n">Cadmus</span><span class="w"> </span><span class="n">Computer</span><span class="w"> </span><span class="n">Systems</span><span class="p">)</span>

<span class="n">Nmap</span><span class="w"> </span><span class="n">finished</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">IP</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="n">host</span><span class="w"> </span><span class="n">up</span><span class="p">)</span><span class="w"> </span><span class="n">scanned</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="mf">0.415</span><span class="w"> </span><span class="n">seconds</span>
<span class="n">You</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">mail</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">spool</span><span class="o">/</span><span class="n">mail</span><span class="o">/</span><span class="n">root</span>
</code></pre></div>

<h4>使用IP地址扫描</h4>
<div class="highlight"><pre><span></span><code><span class="p">[</span><span class="n">root</span><span class="err">@</span><span class="n">server1</span><span class="w"> </span><span class="o">~</span><span class="p">]</span><span class="c1"># nmap 192.168.0.101</span>

<span class="n">Starting</span><span class="w"> </span><span class="n">Nmap</span><span class="w"> </span><span class="mf">4.11</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">insecure</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">nmap</span><span class="o">/</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="mi">2013</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">18</span><span class="w"> </span><span class="mi">11</span><span class="p">:</span><span class="mi">04</span><span class="w"> </span><span class="n">EST</span>
<span class="n">Interesting</span><span class="w"> </span><span class="n">ports</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">server2</span><span class="o">.</span><span class="n">tecmint</span><span class="o">.</span><span class="n">com</span><span class="w"> </span><span class="p">(</span><span class="mf">192.168</span><span class="o">.</span><span class="mf">0.101</span><span class="p">):</span>
<span class="n">Not</span><span class="w"> </span><span class="n">shown</span><span class="p">:</span><span class="w"> </span><span class="mi">1674</span><span class="w"> </span><span class="n">closed</span><span class="w"> </span><span class="n">ports</span>
<span class="n">PORT</span><span class="w">     </span><span class="n">STATE</span><span class="w"> </span><span class="n">SERVICE</span>
<span class="mi">22</span><span class="o">/</span><span class="n">tcp</span><span class="w">   </span><span class="n">open</span><span class="w">  </span><span class="n">ssh</span>
<span class="mi">80</span><span class="o">/</span><span class="n">tcp</span><span class="w">   </span><span class="n">open</span><span class="w">  </span><span class="n">http</span>
<span class="mi">111</span><span class="o">/</span><span class="n">tcp</span><span class="w">  </span><span class="n">open</span><span class="w">  </span><span class="n">rpcbind</span>
<span class="mi">958</span><span class="o">/</span><span class="n">tcp</span><span class="w">  </span><span class="n">open</span><span class="w">  </span><span class="n">unknown</span>
<span class="mi">3306</span><span class="o">/</span><span class="n">tcp</span><span class="w"> </span><span class="n">open</span><span class="w">  </span><span class="n">mysql</span>
<span class="mi">8888</span><span class="o">/</span><span class="n">tcp</span><span class="w"> </span><span class="n">open</span><span class="w">  </span><span class="n">sun</span><span class="o">-</span><span class="n">answerbook</span>
<span class="n">MAC</span><span class="w"> </span><span class="n">Address</span><span class="p">:</span><span class="w"> </span><span class="mi">08</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">27</span><span class="p">:</span><span class="n">D9</span><span class="p">:</span><span class="mi">8</span><span class="n">E</span><span class="p">:</span><span class="n">D7</span><span class="w"> </span><span class="p">(</span><span class="n">Cadmus</span><span class="w"> </span><span class="n">Computer</span><span class="w"> </span><span class="n">Systems</span><span class="p">)</span>

<span class="n">Nmap</span><span class="w"> </span><span class="n">finished</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">IP</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="n">host</span><span class="w"> </span><span class="n">up</span><span class="p">)</span><span class="w"> </span><span class="n">scanned</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="mf">0.465</span><span class="w"> </span><span class="n">seconds</span>
<span class="n">You</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">mail</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">spool</span><span class="o">/</span><span class="n">mail</span><span class="o">/</span><span class="n">root</span>
</code></pre></div>

<h3>2. 使用"-v"选项扫描</h3>
<p>你可以看到带"-v"选项的命令给出了关于远程机器的更多信息。</p>
<div class="highlight"><pre><span></span><code><span class="p">[</span><span class="nx">root</span><span class="err">@</span><span class="nx">server1</span><span class="w"> </span><span class="o">~</span><span class="p">]</span><span class="err">#</span><span class="w"> </span><span class="nx">nmap</span><span class="w"> </span><span class="o">-</span><span class="nx">v</span><span class="w"> </span><span class="nx">server2</span><span class="p">.</span><span class="nx">tecmint</span><span class="p">.</span><span class="nx">com</span>

<span class="nx">Starting</span><span class="w"> </span><span class="nx">Nmap</span><span class="w"> </span><span class="m m-Double">4.11</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="nx">http</span><span class="p">:</span><span class="c1">//www.insecure.org/nmap/ ) at 2013-11-11 15:43 EST</span>
<span class="nx">Initiating</span><span class="w"> </span><span class="nx">ARP</span><span class="w"> </span><span class="nx">Ping</span><span class="w"> </span><span class="nx">Scan</span><span class="w"> </span><span class="nx">against</span><span class="w"> </span><span class="m m-Double">192.168.0.101</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="w"> </span><span class="nx">port</span><span class="p">]</span><span class="w"> </span><span class="nx">at</span><span class="w"> </span><span class="mi">15</span><span class="p">:</span><span class="mi">43</span>
<span class="nx">The</span><span class="w"> </span><span class="nx">ARP</span><span class="w"> </span><span class="nx">Ping</span><span class="w"> </span><span class="nx">Scan</span><span class="w"> </span><span class="nx">took</span><span class="w"> </span><span class="m m-Double">0.01</span><span class="nx">s</span><span class="w"> </span><span class="nx">to</span><span class="w"> </span><span class="nx">scan</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="nx">total</span><span class="w"> </span><span class="nx">hosts</span><span class="p">.</span>
<span class="nx">Initiating</span><span class="w"> </span><span class="nx">SYN</span><span class="w"> </span><span class="nx">Stealth</span><span class="w"> </span><span class="nx">Scan</span><span class="w"> </span><span class="nx">against</span><span class="w"> </span><span class="nx">server2</span><span class="p">.</span><span class="nx">tecmint</span><span class="p">.</span><span class="nx">com</span><span class="w"> </span><span class="p">(</span><span class="m m-Double">192.168.0.101</span><span class="p">)</span><span class="w"> </span><span class="p">[</span><span class="mi">1680</span><span class="w"> </span><span class="nx">ports</span><span class="p">]</span><span class="w"> </span><span class="nx">at</span><span class="w"> </span><span class="mi">15</span><span class="p">:</span><span class="mi">43</span>
<span class="nx">Discovered</span><span class="w"> </span><span class="nx">open</span><span class="w"> </span><span class="nx">port</span><span class="w"> </span><span class="mi">22</span><span class="o">/</span><span class="nx">tcp</span><span class="w"> </span><span class="nx">on</span><span class="w"> </span><span class="m m-Double">192.168.0.101</span>
<span class="nx">Discovered</span><span class="w"> </span><span class="nx">open</span><span class="w"> </span><span class="nx">port</span><span class="w"> </span><span class="mi">80</span><span class="o">/</span><span class="nx">tcp</span><span class="w"> </span><span class="nx">on</span><span class="w"> </span><span class="m m-Double">192.168.0.101</span>
<span class="nx">Discovered</span><span class="w"> </span><span class="nx">open</span><span class="w"> </span><span class="nx">port</span><span class="w"> </span><span class="mi">8888</span><span class="o">/</span><span class="nx">tcp</span><span class="w"> </span><span class="nx">on</span><span class="w"> </span><span class="m m-Double">192.168.0.101</span>
<span class="nx">Discovered</span><span class="w"> </span><span class="nx">open</span><span class="w"> </span><span class="nx">port</span><span class="w"> </span><span class="mi">111</span><span class="o">/</span><span class="nx">tcp</span><span class="w"> </span><span class="nx">on</span><span class="w"> </span><span class="m m-Double">192.168.0.101</span>
<span class="nx">Discovered</span><span class="w"> </span><span class="nx">open</span><span class="w"> </span><span class="nx">port</span><span class="w"> </span><span class="mi">3306</span><span class="o">/</span><span class="nx">tcp</span><span class="w"> </span><span class="nx">on</span><span class="w"> </span><span class="m m-Double">192.168.0.101</span>
<span class="nx">Discovered</span><span class="w"> </span><span class="nx">open</span><span class="w"> </span><span class="nx">port</span><span class="w"> </span><span class="mi">957</span><span class="o">/</span><span class="nx">tcp</span><span class="w"> </span><span class="nx">on</span><span class="w"> </span><span class="m m-Double">192.168.0.101</span>
<span class="nx">The</span><span class="w"> </span><span class="nx">SYN</span><span class="w"> </span><span class="nx">Stealth</span><span class="w"> </span><span class="nx">Scan</span><span class="w"> </span><span class="nx">took</span><span class="w"> </span><span class="m m-Double">0.30</span><span class="nx">s</span><span class="w"> </span><span class="nx">to</span><span class="w"> </span><span class="nx">scan</span><span class="w"> </span><span class="mi">1680</span><span class="w"> </span><span class="nx">total</span><span class="w"> </span><span class="nx">ports</span><span class="p">.</span>
<span class="nx">Host</span><span class="w"> </span><span class="nx">server2</span><span class="p">.</span><span class="nx">tecmint</span><span class="p">.</span><span class="nx">com</span><span class="w"> </span><span class="p">(</span><span class="m m-Double">192.168.0.101</span><span class="p">)</span><span class="w"> </span><span class="nx">appears</span><span class="w"> </span><span class="nx">to</span><span class="w"> </span><span class="nx">be</span><span class="w"> </span><span class="nx">up</span><span class="w"> </span><span class="o">...</span><span class="w"> </span><span class="nx">good</span><span class="p">.</span>
<span class="nx">Interesting</span><span class="w"> </span><span class="nx">ports</span><span class="w"> </span><span class="nx">on</span><span class="w"> </span><span class="nx">server2</span><span class="p">.</span><span class="nx">tecmint</span><span class="p">.</span><span class="nx">com</span><span class="w"> </span><span class="p">(</span><span class="m m-Double">192.168.0.101</span><span class="p">):</span>
<span class="nx">Not</span><span class="w"> </span><span class="nx">shown</span><span class="p">:</span><span class="w"> </span><span class="mi">1674</span><span class="w"> </span><span class="nx">closed</span><span class="w"> </span><span class="nx">ports</span>
<span class="nx">PORT</span><span class="w">     </span><span class="nx">STATE</span><span class="w"> </span><span class="nx">SERVICE</span>
<span class="mi">22</span><span class="o">/</span><span class="nx">tcp</span><span class="w">   </span><span class="nx">open</span><span class="w">  </span><span class="nx">ssh</span>
<span class="mi">80</span><span class="o">/</span><span class="nx">tcp</span><span class="w">   </span><span class="nx">open</span><span class="w">  </span><span class="nx">http</span>
<span class="mi">111</span><span class="o">/</span><span class="nx">tcp</span><span class="w">  </span><span class="nx">open</span><span class="w">  </span><span class="nx">rpcbind</span>
<span class="mi">957</span><span class="o">/</span><span class="nx">tcp</span><span class="w">  </span><span class="nx">open</span><span class="w">  </span><span class="nx">unknown</span>
<span class="mi">3306</span><span class="o">/</span><span class="nx">tcp</span><span class="w"> </span><span class="nx">open</span><span class="w">  </span><span class="nx">mysql</span>
<span class="mi">8888</span><span class="o">/</span><span class="nx">tcp</span><span class="w"> </span><span class="nx">open</span><span class="w">  </span><span class="nx">sun</span><span class="o">-</span><span class="nx">answerbook</span>
<span class="nx">MAC</span><span class="w"> </span><span class="nx">Address</span><span class="p">:</span><span class="w"> </span><span class="mi">08</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">27</span><span class="p">:</span><span class="nx">D9</span><span class="p">:</span><span class="mi">8</span><span class="nx">E</span><span class="p">:</span><span class="nx">D7</span><span class="w"> </span><span class="p">(</span><span class="nx">Cadmus</span><span class="w"> </span><span class="nx">Computer</span><span class="w"> </span><span class="nx">Systems</span><span class="p">)</span>

<span class="nx">Nmap</span><span class="w"> </span><span class="nx">finished</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="nx">IP</span><span class="w"> </span><span class="nx">address</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="nx">host</span><span class="w"> </span><span class="nx">up</span><span class="p">)</span><span class="w"> </span><span class="nx">scanned</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m m-Double">0.485</span><span class="w"> </span><span class="nx">seconds</span>
<span class="w">               </span><span class="nx">Raw</span><span class="w"> </span><span class="nx">packets</span><span class="w"> </span><span class="nx">sent</span><span class="p">:</span><span class="w"> </span><span class="mi">1681</span><span class="w"> </span><span class="p">(</span><span class="m m-Double">73.962</span><span class="nx">KB</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nx">Rcvd</span><span class="p">:</span><span class="w"> </span><span class="mi">1681</span><span class="w"> </span><span class="p">(</span><span class="m m-Double">77.322</span><span class="nx">KB</span><span class="p">)</span>
</code></pre></div>

<h4>扫描多台主机</h4>
<p>你可以简单地通过在namap后写上它们的IP地址或者主机名来扫描多台主机。</p>
<div class="highlight"><pre><span></span><code><span class="p">[</span><span class="nx">root</span><span class="err">@</span><span class="nx">server1</span><span class="w"> </span><span class="o">~</span><span class="p">]</span><span class="err">#</span><span class="w"> </span><span class="nx">nmap</span><span class="w"> </span><span class="m m-Double">192.168.0.101</span><span class="w"> </span><span class="m m-Double">192.168.0.102</span><span class="w"> </span><span class="m m-Double">192.168.0.103</span>

<span class="nx">Starting</span><span class="w"> </span><span class="nx">Nmap</span><span class="w"> </span><span class="m m-Double">4.11</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="nx">http</span><span class="p">:</span><span class="c1">//www.insecure.org/nmap/ ) at 2013-11-11 16:06 EST</span>
<span class="nx">Interesting</span><span class="w"> </span><span class="nx">ports</span><span class="w"> </span><span class="nx">on</span><span class="w"> </span><span class="nx">server2</span><span class="p">.</span><span class="nx">tecmint</span><span class="p">.</span><span class="nx">com</span><span class="w"> </span><span class="p">(</span><span class="m m-Double">192.168.0.101</span><span class="p">):</span>
<span class="nx">Not</span><span class="w"> </span><span class="nx">shown</span><span class="p">:</span><span class="w"> </span><span class="mi">1674</span><span class="w"> </span><span class="nx">closed</span><span class="w"> </span><span class="nx">ports</span>
<span class="nx">PORT</span><span class="w">     </span><span class="nx">STATE</span><span class="w"> </span><span class="nx">SERVICE</span>
<span class="mi">22</span><span class="o">/</span><span class="nx">tcp</span><span class="w">   </span><span class="nx">open</span><span class="w">  </span><span class="nx">ssh</span>
<span class="mi">80</span><span class="o">/</span><span class="nx">tcp</span><span class="w">   </span><span class="nx">open</span><span class="w">  </span><span class="nx">http</span>
<span class="mi">111</span><span class="o">/</span><span class="nx">tcp</span><span class="w">  </span><span class="nx">open</span><span class="w">  </span><span class="nx">rpcbind</span>
<span class="mi">957</span><span class="o">/</span><span class="nx">tcp</span><span class="w">  </span><span class="nx">open</span><span class="w">  </span><span class="nx">unknown</span>
<span class="mi">3306</span><span class="o">/</span><span class="nx">tcp</span><span class="w"> </span><span class="nx">open</span><span class="w">  </span><span class="nx">mysql</span>
<span class="mi">8888</span><span class="o">/</span><span class="nx">tcp</span><span class="w"> </span><span class="nx">open</span><span class="w">  </span><span class="nx">sun</span><span class="o">-</span><span class="nx">answerbook</span>
<span class="nx">MAC</span><span class="w"> </span><span class="nx">Address</span><span class="p">:</span><span class="w"> </span><span class="mi">08</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">27</span><span class="p">:</span><span class="nx">D9</span><span class="p">:</span><span class="mi">8</span><span class="nx">E</span><span class="p">:</span><span class="nx">D7</span><span class="w"> </span><span class="p">(</span><span class="nx">Cadmus</span><span class="w"> </span><span class="nx">Computer</span><span class="w"> </span><span class="nx">Systems</span><span class="p">)</span>
<span class="nx">Nmap</span><span class="w"> </span><span class="nx">finished</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="nx">IP</span><span class="w"> </span><span class="nx">addresses</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="nx">host</span><span class="w"> </span><span class="nx">up</span><span class="p">)</span><span class="w"> </span><span class="nx">scanned</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m m-Double">0.580</span><span class="w"> </span><span class="nx">seconds</span>
</code></pre></div>

<h3>4. 扫描整个子网</h3>
<p>你可以通过<strong>通配符</strong>来使nmap扫描整个子网或者IP段。</p>
<div class="highlight"><pre><span></span><code><span class="p">[</span><span class="n">root</span><span class="err">@</span><span class="n">server1</span><span class="w"> </span><span class="o">~</span><span class="p">]</span><span class="c1"># nmap 192.168.0.*</span>

<span class="n">Starting</span><span class="w"> </span><span class="n">Nmap</span><span class="w"> </span><span class="mf">4.11</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">insecure</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">nmap</span><span class="o">/</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="mi">2013</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">11</span><span class="w"> </span><span class="mi">16</span><span class="p">:</span><span class="mi">11</span><span class="w"> </span><span class="n">EST</span>
<span class="n">Interesting</span><span class="w"> </span><span class="n">ports</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">server1</span><span class="o">.</span><span class="n">tecmint</span><span class="o">.</span><span class="n">com</span><span class="w"> </span><span class="p">(</span><span class="mf">192.168</span><span class="o">.</span><span class="mf">0.100</span><span class="p">):</span>
<span class="n">Not</span><span class="w"> </span><span class="n">shown</span><span class="p">:</span><span class="w"> </span><span class="mi">1677</span><span class="w"> </span><span class="n">closed</span><span class="w"> </span><span class="n">ports</span>
<span class="n">PORT</span><span class="w">    </span><span class="n">STATE</span><span class="w"> </span><span class="n">SERVICE</span>
<span class="mi">22</span><span class="o">/</span><span class="n">tcp</span><span class="w">  </span><span class="n">open</span><span class="w">  </span><span class="n">ssh</span>
<span class="mi">111</span><span class="o">/</span><span class="n">tcp</span><span class="w"> </span><span class="n">open</span><span class="w">  </span><span class="n">rpcbind</span>
<span class="mi">851</span><span class="o">/</span><span class="n">tcp</span><span class="w"> </span><span class="n">open</span><span class="w">  </span><span class="n">unknown</span>

<span class="n">Interesting</span><span class="w"> </span><span class="n">ports</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">server2</span><span class="o">.</span><span class="n">tecmint</span><span class="o">.</span><span class="n">com</span><span class="w"> </span><span class="p">(</span><span class="mf">192.168</span><span class="o">.</span><span class="mf">0.101</span><span class="p">):</span>
<span class="n">Not</span><span class="w"> </span><span class="n">shown</span><span class="p">:</span><span class="w"> </span><span class="mi">1674</span><span class="w"> </span><span class="n">closed</span><span class="w"> </span><span class="n">ports</span>
<span class="n">PORT</span><span class="w">     </span><span class="n">STATE</span><span class="w"> </span><span class="n">SERVICE</span>
<span class="mi">22</span><span class="o">/</span><span class="n">tcp</span><span class="w">   </span><span class="n">open</span><span class="w">  </span><span class="n">ssh</span>
<span class="mi">80</span><span class="o">/</span><span class="n">tcp</span><span class="w">   </span><span class="n">open</span><span class="w">  </span><span class="n">http</span>
<span class="mi">111</span><span class="o">/</span><span class="n">tcp</span><span class="w">  </span><span class="n">open</span><span class="w">  </span><span class="n">rpcbind</span>
<span class="mi">957</span><span class="o">/</span><span class="n">tcp</span><span class="w">  </span><span class="n">open</span><span class="w">  </span><span class="n">unknown</span>
<span class="mi">3306</span><span class="o">/</span><span class="n">tcp</span><span class="w"> </span><span class="n">open</span><span class="w">  </span><span class="n">mysql</span>
<span class="mi">8888</span><span class="o">/</span><span class="n">tcp</span><span class="w"> </span><span class="n">open</span><span class="w">  </span><span class="n">sun</span><span class="o">-</span><span class="n">answerbook</span>
<span class="n">MAC</span><span class="w"> </span><span class="n">Address</span><span class="p">:</span><span class="w"> </span><span class="mi">08</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">27</span><span class="p">:</span><span class="n">D9</span><span class="p">:</span><span class="mi">8</span><span class="n">E</span><span class="p">:</span><span class="n">D7</span><span class="w"> </span><span class="p">(</span><span class="n">Cadmus</span><span class="w"> </span><span class="n">Computer</span><span class="w"> </span><span class="n">Systems</span><span class="p">)</span>

<span class="n">Nmap</span><span class="w"> </span><span class="n">finished</span><span class="p">:</span><span class="w"> </span><span class="mi">256</span><span class="w"> </span><span class="n">IP</span><span class="w"> </span><span class="n">addresses</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="w"> </span><span class="n">hosts</span><span class="w"> </span><span class="n">up</span><span class="p">)</span><span class="w"> </span><span class="n">scanned</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="mf">5.550</span><span class="w"> </span><span class="n">seconds</span>
<span class="n">You</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">mail</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">spool</span><span class="o">/</span><span class="n">mail</span><span class="o">/</span><span class="n">root</span>
</code></pre></div>

<p>从上面的输出你可以看到nmap扫描了整个子网，并给出了<strong>网络</strong>中<strong>在线</strong>主机的信息。</p>
<h3>5. 使用IP地址的最后一段扫描多台主机</h3>
<p>你可以简单地通过指定IP地址的最后8位执行扫描多台主机。比如说，这里我在IP地址为192.168.0.101, 192.168.0.102 and 192.168.0.103的机器上执行了扫描。</p>
<div class="highlight"><pre><span></span><code><span class="p">[</span><span class="n">root</span><span class="err">@</span><span class="n">server1</span><span class="w"> </span><span class="o">~</span><span class="p">]</span><span class="c1"># nmap 192.168.0.101,102,103</span>

<span class="n">Starting</span><span class="w"> </span><span class="n">Nmap</span><span class="w"> </span><span class="mf">4.11</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">insecure</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">nmap</span><span class="o">/</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="mi">2013</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">11</span><span class="w"> </span><span class="mi">16</span><span class="p">:</span><span class="mi">09</span><span class="w"> </span><span class="n">EST</span>
<span class="n">Interesting</span><span class="w"> </span><span class="n">ports</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">server2</span><span class="o">.</span><span class="n">tecmint</span><span class="o">.</span><span class="n">com</span><span class="w"> </span><span class="p">(</span><span class="mf">192.168</span><span class="o">.</span><span class="mf">0.101</span><span class="p">):</span>
<span class="n">Not</span><span class="w"> </span><span class="n">shown</span><span class="p">:</span><span class="w"> </span><span class="mi">1674</span><span class="w"> </span><span class="n">closed</span><span class="w"> </span><span class="n">ports</span>
<span class="n">PORT</span><span class="w">     </span><span class="n">STATE</span><span class="w"> </span><span class="n">SERVICE</span>
<span class="mi">22</span><span class="o">/</span><span class="n">tcp</span><span class="w">   </span><span class="n">open</span><span class="w">  </span><span class="n">ssh</span>
<span class="mi">80</span><span class="o">/</span><span class="n">tcp</span><span class="w">   </span><span class="n">open</span><span class="w">  </span><span class="n">http</span>
<span class="mi">111</span><span class="o">/</span><span class="n">tcp</span><span class="w">  </span><span class="n">open</span><span class="w">  </span><span class="n">rpcbind</span>
<span class="mi">957</span><span class="o">/</span><span class="n">tcp</span><span class="w">  </span><span class="n">open</span><span class="w">  </span><span class="n">unknown</span>
<span class="mi">3306</span><span class="o">/</span><span class="n">tcp</span><span class="w"> </span><span class="n">open</span><span class="w">  </span><span class="n">mysql</span>
<span class="mi">8888</span><span class="o">/</span><span class="n">tcp</span><span class="w"> </span><span class="n">open</span><span class="w">  </span><span class="n">sun</span><span class="o">-</span><span class="n">answerbook</span>
<span class="n">MAC</span><span class="w"> </span><span class="n">Address</span><span class="p">:</span><span class="w"> </span><span class="mi">08</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">27</span><span class="p">:</span><span class="n">D9</span><span class="p">:</span><span class="mi">8</span><span class="n">E</span><span class="p">:</span><span class="n">D7</span><span class="w"> </span><span class="p">(</span><span class="n">Cadmus</span><span class="w"> </span><span class="n">Computer</span><span class="w"> </span><span class="n">Systems</span><span class="p">)</span>

<span class="n">Nmap</span><span class="w"> </span><span class="n">finished</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="n">IP</span><span class="w"> </span><span class="n">addresses</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="n">host</span><span class="w"> </span><span class="n">up</span><span class="p">)</span><span class="w"> </span><span class="n">scanned</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="mf">0.552</span><span class="w"> </span><span class="n">seconds</span>
<span class="n">You</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">mail</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">spool</span><span class="o">/</span><span class="n">mail</span><span class="o">/</span><span class="n">root</span>
</code></pre></div>

<h3>6. 从文件中扫描主机列表</h3>
<p>如果你有更多的主机要扫描，并且所有的主机都写在一个文件中，你可以直接让namp读取它并执行扫描。让我们看看要怎么做。</p>
<p>创建一个名为“<strong>nmaptest.txt</strong>”的文本文件，并定义所有你想要扫描的IP地址或者服务器的主机名。</p>
<div class="highlight"><pre><span></span><code><span class="o">[</span><span class="n">root@server1 ~</span><span class="o">]</span><span class="err">#</span><span class="w"> </span><span class="n">cat</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">nmaptest</span><span class="p">.</span><span class="n">txt</span>

<span class="n">localhost</span>
<span class="n">server2</span><span class="p">.</span><span class="n">tecmint</span><span class="p">.</span><span class="n">com</span>
<span class="mf">192.168.0.101</span>
</code></pre></div>

<p>接着，带“<strong>iL</strong>”参数运行nmap命令来扫描文件中所有列出的IP地址。</p>
<div class="highlight"><pre><span></span><code><span class="p">[</span><span class="nx">root</span><span class="err">@</span><span class="nx">server1</span><span class="w"> </span><span class="o">~</span><span class="p">]</span><span class="err">#</span><span class="w"> </span><span class="nx">nmap</span><span class="w"> </span><span class="o">-</span><span class="nx">iL</span><span class="w"> </span><span class="nx">nmaptest</span><span class="p">.</span><span class="nx">txt</span>

<span class="nx">Starting</span><span class="w"> </span><span class="nx">Nmap</span><span class="w"> </span><span class="m m-Double">4.11</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="nx">http</span><span class="p">:</span><span class="c1">//www.insecure.org/nmap/ ) at 2013-11-18 10:58 EST</span>
<span class="nx">Interesting</span><span class="w"> </span><span class="nx">ports</span><span class="w"> </span><span class="nx">on</span><span class="w"> </span><span class="nx">localhost</span><span class="p">.</span><span class="nx">localdomain</span><span class="w"> </span><span class="p">(</span><span class="m m-Double">127.0.0.1</span><span class="p">):</span>
<span class="nx">Not</span><span class="w"> </span><span class="nx">shown</span><span class="p">:</span><span class="w"> </span><span class="mi">1675</span><span class="w"> </span><span class="nx">closed</span><span class="w"> </span><span class="nx">ports</span>
<span class="nx">PORT</span><span class="w">    </span><span class="nx">STATE</span><span class="w"> </span><span class="nx">SERVICE</span>
<span class="mi">22</span><span class="o">/</span><span class="nx">tcp</span><span class="w">  </span><span class="nx">open</span><span class="w">  </span><span class="nx">ssh</span>
<span class="mi">25</span><span class="o">/</span><span class="nx">tcp</span><span class="w">  </span><span class="nx">open</span><span class="w">  </span><span class="nx">smtp</span>
<span class="mi">111</span><span class="o">/</span><span class="nx">tcp</span><span class="w"> </span><span class="nx">open</span><span class="w">  </span><span class="nx">rpcbind</span>
<span class="mi">631</span><span class="o">/</span><span class="nx">tcp</span><span class="w"> </span><span class="nx">open</span><span class="w">  </span><span class="nx">ipp</span>
<span class="mi">857</span><span class="o">/</span><span class="nx">tcp</span><span class="w"> </span><span class="nx">open</span><span class="w">  </span><span class="nx">unknown</span>

<span class="nx">Interesting</span><span class="w"> </span><span class="nx">ports</span><span class="w"> </span><span class="nx">on</span><span class="w"> </span><span class="nx">server2</span><span class="p">.</span><span class="nx">tecmint</span><span class="p">.</span><span class="nx">com</span><span class="w"> </span><span class="p">(</span><span class="m m-Double">192.168.0.101</span><span class="p">):</span>
<span class="nx">Not</span><span class="w"> </span><span class="nx">shown</span><span class="p">:</span><span class="w"> </span><span class="mi">1674</span><span class="w"> </span><span class="nx">closed</span><span class="w"> </span><span class="nx">ports</span>
<span class="nx">PORT</span><span class="w">     </span><span class="nx">STATE</span><span class="w"> </span><span class="nx">SERVICE</span>
<span class="mi">22</span><span class="o">/</span><span class="nx">tcp</span><span class="w">   </span><span class="nx">open</span><span class="w">  </span><span class="nx">ssh</span>
<span class="mi">80</span><span class="o">/</span><span class="nx">tcp</span><span class="w">   </span><span class="nx">open</span><span class="w">  </span><span class="nx">http</span>
<span class="mi">111</span><span class="o">/</span><span class="nx">tcp</span><span class="w">  </span><span class="nx">open</span><span class="w">  </span><span class="nx">rpcbind</span>
<span class="mi">958</span><span class="o">/</span><span class="nx">tcp</span><span class="w">  </span><span class="nx">open</span><span class="w">  </span><span class="nx">unknown</span>
<span class="mi">3306</span><span class="o">/</span><span class="nx">tcp</span><span class="w"> </span><span class="nx">open</span><span class="w">  </span><span class="nx">mysql</span>
<span class="mi">8888</span><span class="o">/</span><span class="nx">tcp</span><span class="w"> </span><span class="nx">open</span><span class="w">  </span><span class="nx">sun</span><span class="o">-</span><span class="nx">answerbook</span>
<span class="nx">MAC</span><span class="w"> </span><span class="nx">Address</span><span class="p">:</span><span class="w"> </span><span class="mi">08</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">27</span><span class="p">:</span><span class="nx">D9</span><span class="p">:</span><span class="mi">8</span><span class="nx">E</span><span class="p">:</span><span class="nx">D7</span><span class="w"> </span><span class="p">(</span><span class="nx">Cadmus</span><span class="w"> </span><span class="nx">Computer</span><span class="w"> </span><span class="nx">Systems</span><span class="p">)</span>

<span class="nx">Interesting</span><span class="w"> </span><span class="nx">ports</span><span class="w"> </span><span class="nx">on</span><span class="w"> </span><span class="nx">server2</span><span class="p">.</span><span class="nx">tecmint</span><span class="p">.</span><span class="nx">com</span><span class="w"> </span><span class="p">(</span><span class="m m-Double">192.168.0.101</span><span class="p">):</span>
<span class="nx">Not</span><span class="w"> </span><span class="nx">shown</span><span class="p">:</span><span class="w"> </span><span class="mi">1674</span><span class="w"> </span><span class="nx">closed</span><span class="w"> </span><span class="nx">ports</span>
<span class="nx">PORT</span><span class="w">     </span><span class="nx">STATE</span><span class="w"> </span><span class="nx">SERVICE</span>
<span class="mi">22</span><span class="o">/</span><span class="nx">tcp</span><span class="w">   </span><span class="nx">open</span><span class="w">  </span><span class="nx">ssh</span>
<span class="mi">80</span><span class="o">/</span><span class="nx">tcp</span><span class="w">   </span><span class="nx">open</span><span class="w">  </span><span class="nx">http</span>
<span class="mi">111</span><span class="o">/</span><span class="nx">tcp</span><span class="w">  </span><span class="nx">open</span><span class="w">  </span><span class="nx">rpcbind</span>
<span class="mi">958</span><span class="o">/</span><span class="nx">tcp</span><span class="w">  </span><span class="nx">open</span><span class="w">  </span><span class="nx">unknown</span>
<span class="mi">3306</span><span class="o">/</span><span class="nx">tcp</span><span class="w"> </span><span class="nx">open</span><span class="w">  </span><span class="nx">mysql</span>
<span class="mi">8888</span><span class="o">/</span><span class="nx">tcp</span><span class="w"> </span><span class="nx">open</span><span class="w">  </span><span class="nx">sun</span><span class="o">-</span><span class="nx">answerbook</span>
<span class="nx">MAC</span><span class="w"> </span><span class="nx">Address</span><span class="p">:</span><span class="w"> </span><span class="mi">08</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">27</span><span class="p">:</span><span class="nx">D9</span><span class="p">:</span><span class="mi">8</span><span class="nx">E</span><span class="p">:</span><span class="nx">D7</span><span class="w"> </span><span class="p">(</span><span class="nx">Cadmus</span><span class="w"> </span><span class="nx">Computer</span><span class="w"> </span><span class="nx">Systems</span><span class="p">)</span>

<span class="nx">Nmap</span><span class="w"> </span><span class="nx">finished</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="nx">IP</span><span class="w"> </span><span class="nx">addresses</span><span class="w"> </span><span class="p">(</span><span class="mi">3</span><span class="w"> </span><span class="nx">hosts</span><span class="w"> </span><span class="nx">up</span><span class="p">)</span><span class="w"> </span><span class="nx">scanned</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m m-Double">2.047</span><span class="w"> </span><span class="nx">seconds</span>
</code></pre></div>

<h3>7. 扫描一个IP范围</h3>
<p>在使用nmap扫描时，你可以指定一个IP范围。</p>
<div class="highlight"><pre><span></span><code><span class="p">[</span><span class="nx">root</span><span class="err">@</span><span class="nx">server1</span><span class="w"> </span><span class="o">~</span><span class="p">]</span><span class="err">#</span><span class="w"> </span><span class="nx">nmap</span><span class="w"> </span><span class="m m-Double">192.168.0.101</span><span class="o">-</span><span class="mi">110</span>

<span class="nx">Starting</span><span class="w"> </span><span class="nx">Nmap</span><span class="w"> </span><span class="m m-Double">4.11</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="nx">http</span><span class="p">:</span><span class="c1">//www.insecure.org/nmap/ ) at 2013-11-11 16:09 EST</span>
<span class="nx">Interesting</span><span class="w"> </span><span class="nx">ports</span><span class="w"> </span><span class="nx">on</span><span class="w"> </span><span class="nx">server2</span><span class="p">.</span><span class="nx">tecmint</span><span class="p">.</span><span class="nx">com</span><span class="w"> </span><span class="p">(</span><span class="m m-Double">192.168.0.101</span><span class="p">):</span>
<span class="nx">Not</span><span class="w"> </span><span class="nx">shown</span><span class="p">:</span><span class="w"> </span><span class="mi">1674</span><span class="w"> </span><span class="nx">closed</span><span class="w"> </span><span class="nx">ports</span>
<span class="nx">PORT</span><span class="w">     </span><span class="nx">STATE</span><span class="w"> </span><span class="nx">SERVICE</span>
<span class="mi">22</span><span class="o">/</span><span class="nx">tcp</span><span class="w">   </span><span class="nx">open</span><span class="w">  </span><span class="nx">ssh</span>
<span class="mi">80</span><span class="o">/</span><span class="nx">tcp</span><span class="w">   </span><span class="nx">open</span><span class="w">  </span><span class="nx">http</span>
<span class="mi">111</span><span class="o">/</span><span class="nx">tcp</span><span class="w">  </span><span class="nx">open</span><span class="w">  </span><span class="nx">rpcbind</span>
<span class="mi">957</span><span class="o">/</span><span class="nx">tcp</span><span class="w">  </span><span class="nx">open</span><span class="w">  </span><span class="nx">unknown</span>
<span class="mi">3306</span><span class="o">/</span><span class="nx">tcp</span><span class="w"> </span><span class="nx">open</span><span class="w">  </span><span class="nx">mysql</span>
<span class="mi">8888</span><span class="o">/</span><span class="nx">tcp</span><span class="w"> </span><span class="nx">open</span><span class="w">  </span><span class="nx">sun</span><span class="o">-</span><span class="nx">answerbook</span>
<span class="nx">MAC</span><span class="w"> </span><span class="nx">Address</span><span class="p">:</span><span class="w"> </span><span class="mi">08</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">27</span><span class="p">:</span><span class="nx">D9</span><span class="p">:</span><span class="mi">8</span><span class="nx">E</span><span class="p">:</span><span class="nx">D7</span><span class="w"> </span><span class="p">(</span><span class="nx">Cadmus</span><span class="w"> </span><span class="nx">Computer</span><span class="w"> </span><span class="nx">Systems</span><span class="p">)</span>

<span class="nx">Nmap</span><span class="w"> </span><span class="nx">finished</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="nx">IP</span><span class="w"> </span><span class="nx">addresses</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="nx">host</span><span class="w"> </span><span class="nx">up</span><span class="p">)</span><span class="w"> </span><span class="nx">scanned</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m m-Double">0.542</span><span class="w"> </span><span class="nx">seconds</span>
</code></pre></div>

<h3>8. 扫描网络时排除部分主机</h3>
<p>你可以在执行全网扫描的时候排除一些主机，或者在使用通配符扫描时使用“<strong>–exclude</strong>”选项。</p>
<div class="highlight"><pre><span></span><code><span class="p">[</span><span class="n">root</span><span class="err">@</span><span class="n">server1</span><span class="w"> </span><span class="o">~</span><span class="p">]</span><span class="c1"># nmap 192.168.0.* --exclude 192.168.0.100</span>

<span class="n">Starting</span><span class="w"> </span><span class="n">Nmap</span><span class="w"> </span><span class="mf">4.11</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">insecure</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">nmap</span><span class="o">/</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="mi">2013</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">11</span><span class="w"> </span><span class="mi">16</span><span class="p">:</span><span class="mi">16</span><span class="w"> </span><span class="n">EST</span>
<span class="n">Interesting</span><span class="w"> </span><span class="n">ports</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">server2</span><span class="o">.</span><span class="n">tecmint</span><span class="o">.</span><span class="n">com</span><span class="w"> </span><span class="p">(</span><span class="mf">192.168</span><span class="o">.</span><span class="mf">0.101</span><span class="p">):</span>
<span class="n">Not</span><span class="w"> </span><span class="n">shown</span><span class="p">:</span><span class="w"> </span><span class="mi">1674</span><span class="w"> </span><span class="n">closed</span><span class="w"> </span><span class="n">ports</span>
<span class="n">PORT</span><span class="w">     </span><span class="n">STATE</span><span class="w"> </span><span class="n">SERVICE</span>
<span class="mi">22</span><span class="o">/</span><span class="n">tcp</span><span class="w">   </span><span class="n">open</span><span class="w">  </span><span class="n">ssh</span>
<span class="mi">80</span><span class="o">/</span><span class="n">tcp</span><span class="w">   </span><span class="n">open</span><span class="w">  </span><span class="n">http</span>
<span class="mi">111</span><span class="o">/</span><span class="n">tcp</span><span class="w">  </span><span class="n">open</span><span class="w">  </span><span class="n">rpcbind</span>
<span class="mi">957</span><span class="o">/</span><span class="n">tcp</span><span class="w">  </span><span class="n">open</span><span class="w">  </span><span class="n">unknown</span>
<span class="mi">3306</span><span class="o">/</span><span class="n">tcp</span><span class="w"> </span><span class="n">open</span><span class="w">  </span><span class="n">mysql</span>
<span class="mi">8888</span><span class="o">/</span><span class="n">tcp</span><span class="w"> </span><span class="n">open</span><span class="w">  </span><span class="n">sun</span><span class="o">-</span><span class="n">answerbook</span>
<span class="n">MAC</span><span class="w"> </span><span class="n">Address</span><span class="p">:</span><span class="w"> </span><span class="mi">08</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">27</span><span class="p">:</span><span class="n">D9</span><span class="p">:</span><span class="mi">8</span><span class="n">E</span><span class="p">:</span><span class="n">D7</span><span class="w"> </span><span class="p">(</span><span class="n">Cadmus</span><span class="w"> </span><span class="n">Computer</span><span class="w"> </span><span class="n">Systems</span><span class="p">)</span>

<span class="n">Nmap</span><span class="w"> </span><span class="n">finished</span><span class="p">:</span><span class="w"> </span><span class="mi">255</span><span class="w"> </span><span class="n">IP</span><span class="w"> </span><span class="n">addresses</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="n">host</span><span class="w"> </span><span class="n">up</span><span class="p">)</span><span class="w"> </span><span class="n">scanned</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="mf">5.313</span><span class="w"> </span><span class="n">seconds</span>
<span class="n">You</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">mail</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">spool</span><span class="o">/</span><span class="n">mail</span><span class="o">/</span><span class="n">root</span>
</code></pre></div>

<h3>9. 扫描系统信息</h3>
<p>（译注：原文这里提到了traceroute，实在并无此内容，删除之）</p>
<p>使用nmap，你可以检测到运行在远程主机上的操作系统和版本。要启用OS及其版本检测，我们可以使用带 “<strong>-A</strong>” 选项使用nmap。</p>
<div class="highlight"><pre><span></span><code><span class="p">[</span><span class="n">root</span><span class="err">@</span><span class="n">server1</span><span class="w"> </span><span class="o">~</span><span class="p">]</span><span class="c1"># nmap -A 192.168.0.101</span>

<span class="n">Starting</span><span class="w"> </span><span class="n">Nmap</span><span class="w"> </span><span class="mf">4.11</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">insecure</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">nmap</span><span class="o">/</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="mi">2013</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">11</span><span class="w"> </span><span class="mi">16</span><span class="p">:</span><span class="mi">25</span><span class="w"> </span><span class="n">EST</span>
<span class="n">Interesting</span><span class="w"> </span><span class="n">ports</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">server2</span><span class="o">.</span><span class="n">tecmint</span><span class="o">.</span><span class="n">com</span><span class="w"> </span><span class="p">(</span><span class="mf">192.168</span><span class="o">.</span><span class="mf">0.101</span><span class="p">):</span>
<span class="n">Not</span><span class="w"> </span><span class="n">shown</span><span class="p">:</span><span class="w"> </span><span class="mi">1674</span><span class="w"> </span><span class="n">closed</span><span class="w"> </span><span class="n">ports</span>
<span class="n">PORT</span><span class="w">     </span><span class="n">STATE</span><span class="w"> </span><span class="n">SERVICE</span><span class="w"> </span><span class="n">VERSION</span>
<span class="mi">22</span><span class="o">/</span><span class="n">tcp</span><span class="w">   </span><span class="n">open</span><span class="w">  </span><span class="n">ssh</span><span class="w">     </span><span class="n">OpenSSH</span><span class="w"> </span><span class="mf">4.3</span><span class="w"> </span><span class="p">(</span><span class="n">protocol</span><span class="w"> </span><span class="mf">2.0</span><span class="p">)</span>
<span class="mi">80</span><span class="o">/</span><span class="n">tcp</span><span class="w">   </span><span class="n">open</span><span class="w">  </span><span class="n">http</span><span class="w">    </span><span class="n">Apache</span><span class="w"> </span><span class="n">httpd</span><span class="w"> </span><span class="mf">2.2</span><span class="o">.</span><span class="mi">3</span><span class="w"> </span><span class="p">((</span><span class="n">CentOS</span><span class="p">))</span>
<span class="mi">111</span><span class="o">/</span><span class="n">tcp</span><span class="w">  </span><span class="n">open</span><span class="w">  </span><span class="n">rpcbind</span><span class="w">  </span><span class="mi">2</span><span class="w"> </span><span class="p">(</span><span class="n">rpc</span><span class="w"> </span><span class="c1">#100000)</span>
<span class="mi">957</span><span class="o">/</span><span class="n">tcp</span><span class="w">  </span><span class="n">open</span><span class="w">  </span><span class="n">status</span><span class="w">   </span><span class="mi">1</span><span class="w"> </span><span class="p">(</span><span class="n">rpc</span><span class="w"> </span><span class="c1">#100024)</span>
<span class="mi">3306</span><span class="o">/</span><span class="n">tcp</span><span class="w"> </span><span class="n">open</span><span class="w">  </span><span class="n">mysql</span><span class="w">   </span><span class="n">MySQL</span><span class="w"> </span><span class="p">(</span><span class="n">unauthorized</span><span class="p">)</span>
<span class="mi">8888</span><span class="o">/</span><span class="n">tcp</span><span class="w"> </span><span class="n">open</span><span class="w">  </span><span class="n">http</span><span class="w">    </span><span class="n">lighttpd</span><span class="w"> </span><span class="mf">1.4</span><span class="o">.</span><span class="mi">32</span>
<span class="n">MAC</span><span class="w"> </span><span class="n">Address</span><span class="p">:</span><span class="w"> </span><span class="mi">08</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">27</span><span class="p">:</span><span class="n">D9</span><span class="p">:</span><span class="mi">8</span><span class="n">E</span><span class="p">:</span><span class="n">D7</span><span class="w"> </span><span class="p">(</span><span class="n">Cadmus</span><span class="w"> </span><span class="n">Computer</span><span class="w"> </span><span class="n">Systems</span><span class="p">)</span>
<span class="n">No</span><span class="w"> </span><span class="n">exact</span><span class="w"> </span><span class="n">OS</span><span class="w"> </span><span class="n">matches</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">host</span><span class="w"> </span><span class="p">(</span><span class="n">If</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">know</span><span class="w"> </span><span class="n">what</span><span class="w"> </span><span class="n">OS</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">running</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">it</span><span class="p">,</span><span class="w"> </span><span class="n">see</span><span class="w"> </span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">insecure</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">cgi</span><span class="o">-</span><span class="n">bin</span><span class="o">/</span><span class="n">nmap</span><span class="o">-</span><span class="n">submit</span><span class="o">.</span><span class="n">cgi</span><span class="p">)</span><span class="o">.</span>
<span class="n">TCP</span><span class="o">/</span><span class="n">IP</span><span class="w"> </span><span class="n">fingerprint</span><span class="p">:</span>
<span class="n">SInfo</span><span class="p">(</span><span class="n">V</span><span class="o">=</span><span class="mf">4.11</span><span class="o">%</span><span class="n">P</span><span class="o">=</span><span class="n">i686</span><span class="o">-</span><span class="n">redhat</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">%</span><span class="n">D</span><span class="o">=</span><span class="mi">11</span><span class="o">/</span><span class="mi">11</span><span class="o">%</span><span class="n">Tm</span><span class="o">=</span><span class="mi">52814</span><span class="n">B66</span><span class="o">%</span><span class="n">O</span><span class="o">=</span><span class="mi">22</span><span class="o">%</span><span class="n">C</span><span class="o">=</span><span class="mi">1</span><span class="o">%</span><span class="n">M</span><span class="o">=</span><span class="mi">080027</span><span class="p">)</span>
<span class="n">TSeq</span><span class="p">(</span><span class="n">Class</span><span class="o">=</span><span class="n">TR</span><span class="o">%</span><span class="n">IPID</span><span class="o">=</span><span class="n">Z</span><span class="o">%</span><span class="n">TS</span><span class="o">=</span><span class="mi">1000</span><span class="n">HZ</span><span class="p">)</span>
<span class="n">T1</span><span class="p">(</span><span class="n">Resp</span><span class="o">=</span><span class="n">Y</span><span class="o">%</span><span class="n">DF</span><span class="o">=</span><span class="n">Y</span><span class="o">%</span><span class="n">W</span><span class="o">=</span><span class="mi">16</span><span class="n">A0</span><span class="o">%</span><span class="n">ACK</span><span class="o">=</span><span class="n">S</span><span class="o">++%</span><span class="n">Flags</span><span class="o">=</span><span class="n">AS</span><span class="o">%</span><span class="n">Ops</span><span class="o">=</span><span class="n">MNNTNW</span><span class="p">)</span>
<span class="n">T2</span><span class="p">(</span><span class="n">Resp</span><span class="o">=</span><span class="n">N</span><span class="p">)</span>
<span class="n">T3</span><span class="p">(</span><span class="n">Resp</span><span class="o">=</span><span class="n">Y</span><span class="o">%</span><span class="n">DF</span><span class="o">=</span><span class="n">Y</span><span class="o">%</span><span class="n">W</span><span class="o">=</span><span class="mi">16</span><span class="n">A0</span><span class="o">%</span><span class="n">ACK</span><span class="o">=</span><span class="n">S</span><span class="o">++%</span><span class="n">Flags</span><span class="o">=</span><span class="n">AS</span><span class="o">%</span><span class="n">Ops</span><span class="o">=</span><span class="n">MNNTNW</span><span class="p">)</span>
<span class="n">T4</span><span class="p">(</span><span class="n">Resp</span><span class="o">=</span><span class="n">Y</span><span class="o">%</span><span class="n">DF</span><span class="o">=</span><span class="n">Y</span><span class="o">%</span><span class="n">W</span><span class="o">=</span><span class="mi">0</span><span class="o">%</span><span class="n">ACK</span><span class="o">=</span><span class="n">O</span><span class="o">%</span><span class="n">Flags</span><span class="o">=</span><span class="n">R</span><span class="o">%</span><span class="n">Ops</span><span class="o">=</span><span class="p">)</span>
<span class="n">T5</span><span class="p">(</span><span class="n">Resp</span><span class="o">=</span><span class="n">Y</span><span class="o">%</span><span class="n">DF</span><span class="o">=</span><span class="n">Y</span><span class="o">%</span><span class="n">W</span><span class="o">=</span><span class="mi">0</span><span class="o">%</span><span class="n">ACK</span><span class="o">=</span><span class="n">S</span><span class="o">++%</span><span class="n">Flags</span><span class="o">=</span><span class="n">AR</span><span class="o">%</span><span class="n">Ops</span><span class="o">=</span><span class="p">)</span>
<span class="n">T6</span><span class="p">(</span><span class="n">Resp</span><span class="o">=</span><span class="n">Y</span><span class="o">%</span><span class="n">DF</span><span class="o">=</span><span class="n">Y</span><span class="o">%</span><span class="n">W</span><span class="o">=</span><span class="mi">0</span><span class="o">%</span><span class="n">ACK</span><span class="o">=</span><span class="n">O</span><span class="o">%</span><span class="n">Flags</span><span class="o">=</span><span class="n">R</span><span class="o">%</span><span class="n">Ops</span><span class="o">=</span><span class="p">)</span>
<span class="n">T7</span><span class="p">(</span><span class="n">Resp</span><span class="o">=</span><span class="n">Y</span><span class="o">%</span><span class="n">DF</span><span class="o">=</span><span class="n">Y</span><span class="o">%</span><span class="n">W</span><span class="o">=</span><span class="mi">0</span><span class="o">%</span><span class="n">ACK</span><span class="o">=</span><span class="n">S</span><span class="o">++%</span><span class="n">Flags</span><span class="o">=</span><span class="n">AR</span><span class="o">%</span><span class="n">Ops</span><span class="o">=</span><span class="p">)</span>
<span class="n">PU</span><span class="p">(</span><span class="n">Resp</span><span class="o">=</span><span class="n">Y</span><span class="o">%</span><span class="n">DF</span><span class="o">=</span><span class="n">N</span><span class="o">%</span><span class="n">TOS</span><span class="o">=</span><span class="n">C0</span><span class="o">%</span><span class="n">IPLEN</span><span class="o">=</span><span class="mi">164</span><span class="o">%</span><span class="n">RIPTL</span><span class="o">=</span><span class="mi">148</span><span class="o">%</span><span class="nb nb-Type">RID</span><span class="o">=</span><span class="n">E</span><span class="o">%</span><span class="n">RIPCK</span><span class="o">=</span><span class="n">E</span><span class="o">%</span><span class="n">UCK</span><span class="o">=</span><span class="n">E</span><span class="o">%</span><span class="n">ULEN</span><span class="o">=</span><span class="mi">134</span><span class="o">%</span><span class="n">DAT</span><span class="o">=</span><span class="n">E</span><span class="p">)</span>

<span class="n">Uptime</span><span class="w"> </span><span class="mf">0.169</span><span class="w"> </span><span class="n">days</span><span class="w"> </span><span class="p">(</span><span class="n">since</span><span class="w"> </span><span class="n">Mon</span><span class="w"> </span><span class="n">Nov</span><span class="w"> </span><span class="mi">11</span><span class="w"> </span><span class="mi">12</span><span class="p">:</span><span class="mi">22</span><span class="p">:</span><span class="mi">15</span><span class="w"> </span><span class="mi">2013</span><span class="p">)</span>

<span class="n">Nmap</span><span class="w"> </span><span class="n">finished</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">IP</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="n">host</span><span class="w"> </span><span class="n">up</span><span class="p">)</span><span class="w"> </span><span class="n">scanned</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="mf">22.271</span><span class="w"> </span><span class="n">seconds</span>
<span class="n">You</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">mail</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">spool</span><span class="o">/</span><span class="n">mail</span><span class="o">/</span><span class="n">root</span>
</code></pre></div>

<p>在上面的输出中，你可以看到运行在远程主机上操作系统的TCP/IP指纹和更详细的运行在远程主机上的特定端口和服务。</p>
<h3>10. 使用nmap启用系统检测</h3>
<p>使用选项“-O”或“-osscan-guess”同样可以发现OS信息。</p>
<div class="highlight"><pre><span></span><code><span class="p">[</span><span class="n">root</span><span class="err">@</span><span class="n">server1</span><span class="w"> </span><span class="o">~</span><span class="p">]</span><span class="c1"># nmap -O server2.tecmint.com</span>

<span class="n">Starting</span><span class="w"> </span><span class="n">Nmap</span><span class="w"> </span><span class="mf">4.11</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">insecure</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">nmap</span><span class="o">/</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="mi">2013</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">11</span><span class="w"> </span><span class="mi">17</span><span class="p">:</span><span class="mi">40</span><span class="w"> </span><span class="n">EST</span>
<span class="n">Interesting</span><span class="w"> </span><span class="n">ports</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">server2</span><span class="o">.</span><span class="n">tecmint</span><span class="o">.</span><span class="n">com</span><span class="w"> </span><span class="p">(</span><span class="mf">192.168</span><span class="o">.</span><span class="mf">0.101</span><span class="p">):</span>
<span class="n">Not</span><span class="w"> </span><span class="n">shown</span><span class="p">:</span><span class="w"> </span><span class="mi">1674</span><span class="w"> </span><span class="n">closed</span><span class="w"> </span><span class="n">ports</span>
<span class="n">PORT</span><span class="w">     </span><span class="n">STATE</span><span class="w"> </span><span class="n">SERVICE</span>
<span class="mi">22</span><span class="o">/</span><span class="n">tcp</span><span class="w">   </span><span class="n">open</span><span class="w">  </span><span class="n">ssh</span>
<span class="mi">80</span><span class="o">/</span><span class="n">tcp</span><span class="w">   </span><span class="n">open</span><span class="w">  </span><span class="n">http</span>
<span class="mi">111</span><span class="o">/</span><span class="n">tcp</span><span class="w">  </span><span class="n">open</span><span class="w">  </span><span class="n">rpcbind</span>
<span class="mi">957</span><span class="o">/</span><span class="n">tcp</span><span class="w">  </span><span class="n">open</span><span class="w">  </span><span class="n">unknown</span>
<span class="mi">3306</span><span class="o">/</span><span class="n">tcp</span><span class="w"> </span><span class="n">open</span><span class="w">  </span><span class="n">mysql</span>
<span class="mi">8888</span><span class="o">/</span><span class="n">tcp</span><span class="w"> </span><span class="n">open</span><span class="w">  </span><span class="n">sun</span><span class="o">-</span><span class="n">answerbook</span>
<span class="n">MAC</span><span class="w"> </span><span class="n">Address</span><span class="p">:</span><span class="w"> </span><span class="mi">08</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">27</span><span class="p">:</span><span class="n">D9</span><span class="p">:</span><span class="mi">8</span><span class="n">E</span><span class="p">:</span><span class="n">D7</span><span class="w"> </span><span class="p">(</span><span class="n">Cadmus</span><span class="w"> </span><span class="n">Computer</span><span class="w"> </span><span class="n">Systems</span><span class="p">)</span>
<span class="n">No</span><span class="w"> </span><span class="n">exact</span><span class="w"> </span><span class="n">OS</span><span class="w"> </span><span class="n">matches</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">host</span><span class="w"> </span><span class="p">(</span><span class="n">If</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">know</span><span class="w"> </span><span class="n">what</span><span class="w"> </span><span class="n">OS</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">running</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">it</span><span class="p">,</span><span class="w"> </span><span class="n">see</span><span class="w"> </span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">insecure</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">cgi</span><span class="o">-</span><span class="n">bin</span><span class="o">/</span><span class="n">nmap</span><span class="o">-</span><span class="n">submit</span><span class="o">.</span><span class="n">cgi</span><span class="p">)</span><span class="o">.</span>
<span class="n">TCP</span><span class="o">/</span><span class="n">IP</span><span class="w"> </span><span class="n">fingerprint</span><span class="p">:</span>
<span class="n">SInfo</span><span class="p">(</span><span class="n">V</span><span class="o">=</span><span class="mf">4.11</span><span class="o">%</span><span class="n">P</span><span class="o">=</span><span class="n">i686</span><span class="o">-</span><span class="n">redhat</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">%</span><span class="n">D</span><span class="o">=</span><span class="mi">11</span><span class="o">/</span><span class="mi">11</span><span class="o">%</span><span class="n">Tm</span><span class="o">=</span><span class="mi">52815</span><span class="n">CF4</span><span class="o">%</span><span class="n">O</span><span class="o">=</span><span class="mi">22</span><span class="o">%</span><span class="n">C</span><span class="o">=</span><span class="mi">1</span><span class="o">%</span><span class="n">M</span><span class="o">=</span><span class="mi">080027</span><span class="p">)</span>
<span class="n">TSeq</span><span class="p">(</span><span class="n">Class</span><span class="o">=</span><span class="n">TR</span><span class="o">%</span><span class="n">IPID</span><span class="o">=</span><span class="n">Z</span><span class="o">%</span><span class="n">TS</span><span class="o">=</span><span class="mi">1000</span><span class="n">HZ</span><span class="p">)</span>
<span class="n">T1</span><span class="p">(</span><span class="n">Resp</span><span class="o">=</span><span class="n">Y</span><span class="o">%</span><span class="n">DF</span><span class="o">=</span><span class="n">Y</span><span class="o">%</span><span class="n">W</span><span class="o">=</span><span class="mi">16</span><span class="n">A0</span><span class="o">%</span><span class="n">ACK</span><span class="o">=</span><span class="n">S</span><span class="o">++%</span><span class="n">Flags</span><span class="o">=</span><span class="n">AS</span><span class="o">%</span><span class="n">Ops</span><span class="o">=</span><span class="n">MNNTNW</span><span class="p">)</span>
<span class="n">T2</span><span class="p">(</span><span class="n">Resp</span><span class="o">=</span><span class="n">N</span><span class="p">)</span>
<span class="n">T3</span><span class="p">(</span><span class="n">Resp</span><span class="o">=</span><span class="n">Y</span><span class="o">%</span><span class="n">DF</span><span class="o">=</span><span class="n">Y</span><span class="o">%</span><span class="n">W</span><span class="o">=</span><span class="mi">16</span><span class="n">A0</span><span class="o">%</span><span class="n">ACK</span><span class="o">=</span><span class="n">S</span><span class="o">++%</span><span class="n">Flags</span><span class="o">=</span><span class="n">AS</span><span class="o">%</span><span class="n">Ops</span><span class="o">=</span><span class="n">MNNTNW</span><span class="p">)</span>
<span class="n">T4</span><span class="p">(</span><span class="n">Resp</span><span class="o">=</span><span class="n">Y</span><span class="o">%</span><span class="n">DF</span><span class="o">=</span><span class="n">Y</span><span class="o">%</span><span class="n">W</span><span class="o">=</span><span class="mi">0</span><span class="o">%</span><span class="n">ACK</span><span class="o">=</span><span class="n">O</span><span class="o">%</span><span class="n">Flags</span><span class="o">=</span><span class="n">Option</span><span class="w"> </span><span class="o">-</span><span class="n">O</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="o">-</span><span class="n">osscan</span><span class="o">-</span><span class="n">guess</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">helps</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">discover</span><span class="w"> </span><span class="n">OSR</span><span class="o">%</span><span class="n">Ops</span><span class="o">=</span><span class="p">)</span>
<span class="n">T5</span><span class="p">(</span><span class="n">Resp</span><span class="o">=</span><span class="n">Y</span><span class="o">%</span><span class="n">DF</span><span class="o">=</span><span class="n">Y</span><span class="o">%</span><span class="n">W</span><span class="o">=</span><span class="mi">0</span><span class="o">%</span><span class="n">ACK</span><span class="o">=</span><span class="n">S</span><span class="o">++%</span><span class="n">Flags</span><span class="o">=</span><span class="n">AR</span><span class="o">%</span><span class="n">Ops</span><span class="o">=</span><span class="p">)</span>
<span class="n">T6</span><span class="p">(</span><span class="n">Resp</span><span class="o">=</span><span class="n">Y</span><span class="o">%</span><span class="n">DF</span><span class="o">=</span><span class="n">Y</span><span class="o">%</span><span class="n">W</span><span class="o">=</span><span class="mi">0</span><span class="o">%</span><span class="n">ACK</span><span class="o">=</span><span class="n">O</span><span class="o">%</span><span class="n">Flags</span><span class="o">=</span><span class="n">R</span><span class="o">%</span><span class="n">Ops</span><span class="o">=</span><span class="p">)</span>
<span class="n">T7</span><span class="p">(</span><span class="n">Resp</span><span class="o">=</span><span class="n">Y</span><span class="o">%</span><span class="n">DF</span><span class="o">=</span><span class="n">Y</span><span class="o">%</span><span class="n">W</span><span class="o">=</span><span class="mi">0</span><span class="o">%</span><span class="n">ACK</span><span class="o">=</span><span class="n">S</span><span class="o">++%</span><span class="n">Flags</span><span class="o">=</span><span class="n">AR</span><span class="o">%</span><span class="n">Ops</span><span class="o">=</span><span class="p">)</span>
<span class="n">PU</span><span class="p">(</span><span class="n">Resp</span><span class="o">=</span><span class="n">Y</span><span class="o">%</span><span class="n">DF</span><span class="o">=</span><span class="n">N</span><span class="o">%</span><span class="n">TOS</span><span class="o">=</span><span class="n">C0</span><span class="o">%</span><span class="n">IPLEN</span><span class="o">=</span><span class="mi">164</span><span class="o">%</span><span class="n">RIPTL</span><span class="o">=</span><span class="mi">148</span><span class="o">%</span><span class="nb nb-Type">RID</span><span class="o">=</span><span class="n">E</span><span class="o">%</span><span class="n">RIPCK</span><span class="o">=</span><span class="n">E</span><span class="o">%</span><span class="n">UCK</span><span class="o">=</span><span class="n">E</span><span class="o">%</span><span class="n">ULEN</span><span class="o">=</span><span class="mi">134</span><span class="o">%</span><span class="n">DAT</span><span class="o">=</span><span class="n">E</span><span class="p">)</span>

<span class="n">Uptime</span><span class="w"> </span><span class="mf">0.221</span><span class="w"> </span><span class="n">days</span><span class="w"> </span><span class="p">(</span><span class="n">since</span><span class="w"> </span><span class="n">Mon</span><span class="w"> </span><span class="n">Nov</span><span class="w"> </span><span class="mi">11</span><span class="w"> </span><span class="mi">12</span><span class="p">:</span><span class="mi">22</span><span class="p">:</span><span class="mi">16</span><span class="w"> </span><span class="mi">2013</span><span class="p">)</span>

<span class="n">Nmap</span><span class="w"> </span><span class="n">finished</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">IP</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="n">host</span><span class="w"> </span><span class="n">up</span><span class="p">)</span><span class="w"> </span><span class="n">scanned</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="mf">11.064</span><span class="w"> </span><span class="n">seconds</span>
<span class="n">You</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">mail</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">spool</span><span class="o">/</span><span class="n">mail</span><span class="o">/</span><span class="n">root</span>
</code></pre></div>

<h3>11. 扫描主机来检测防火墙</h3>
<p>下面的命令会在远程主机上执行扫描来检测主机上是否使用了任何包过滤器或者防火墙。</p>
<div class="highlight"><pre><span></span><code><span class="p">[</span><span class="n">root</span><span class="err">@</span><span class="n">server1</span><span class="w"> </span><span class="o">~</span><span class="p">]</span><span class="c1"># nmap -sA 192.168.0.101</span>

<span class="n">Starting</span><span class="w"> </span><span class="n">Nmap</span><span class="w"> </span><span class="mf">4.11</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">insecure</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">nmap</span><span class="o">/</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="mi">2013</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">11</span><span class="w"> </span><span class="mi">16</span><span class="p">:</span><span class="mi">27</span><span class="w"> </span><span class="n">EST</span>
<span class="n">All</span><span class="w"> </span><span class="mi">1680</span><span class="w"> </span><span class="n">scanned</span><span class="w"> </span><span class="n">ports</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">server2</span><span class="o">.</span><span class="n">tecmint</span><span class="o">.</span><span class="n">com</span><span class="w"> </span><span class="p">(</span><span class="mf">192.168</span><span class="o">.</span><span class="mf">0.101</span><span class="p">)</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">UNfiltered</span>
<span class="n">MAC</span><span class="w"> </span><span class="n">Address</span><span class="p">:</span><span class="w"> </span><span class="mi">08</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">27</span><span class="p">:</span><span class="n">D9</span><span class="p">:</span><span class="mi">8</span><span class="n">E</span><span class="p">:</span><span class="n">D7</span><span class="w"> </span><span class="p">(</span><span class="n">Cadmus</span><span class="w"> </span><span class="n">Computer</span><span class="w"> </span><span class="n">Systems</span><span class="p">)</span>

<span class="n">Nmap</span><span class="w"> </span><span class="n">finished</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">IP</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="n">host</span><span class="w"> </span><span class="n">up</span><span class="p">)</span><span class="w"> </span><span class="n">scanned</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="mf">0.382</span><span class="w"> </span><span class="n">seconds</span>
<span class="n">You</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">mail</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">spool</span><span class="o">/</span><span class="n">mail</span><span class="o">/</span><span class="n">root</span>
</code></pre></div>

<h3>12. 扫描主机以检查其受到防火墙保护</h3>
<p>扫描检测一个主机是否受到任何包过滤器软件或者防火墙保护。</p>
<div class="highlight"><pre><span></span><code><span class="p">[</span><span class="nx">root</span><span class="err">@</span><span class="nx">server1</span><span class="w"> </span><span class="o">~</span><span class="p">]</span><span class="err">#</span><span class="w"> </span><span class="nx">nmap</span><span class="w"> </span><span class="o">-</span><span class="nx">PN</span><span class="w"> </span><span class="m m-Double">192.168.0.101</span>

<span class="nx">Starting</span><span class="w"> </span><span class="nx">Nmap</span><span class="w"> </span><span class="m m-Double">4.11</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="nx">http</span><span class="p">:</span><span class="c1">//www.insecure.org/nmap/ ) at 2013-11-11 16:30 EST</span>
<span class="nx">Interesting</span><span class="w"> </span><span class="nx">ports</span><span class="w"> </span><span class="nx">on</span><span class="w"> </span><span class="nx">server2</span><span class="p">.</span><span class="nx">tecmint</span><span class="p">.</span><span class="nx">com</span><span class="w"> </span><span class="p">(</span><span class="m m-Double">192.168.0.101</span><span class="p">):</span>
<span class="nx">Not</span><span class="w"> </span><span class="nx">shown</span><span class="p">:</span><span class="w"> </span><span class="mi">1674</span><span class="w"> </span><span class="nx">closed</span><span class="w"> </span><span class="nx">ports</span>
<span class="nx">PORT</span><span class="w">     </span><span class="nx">STATE</span><span class="w"> </span><span class="nx">SERVICE</span>
<span class="mi">22</span><span class="o">/</span><span class="nx">tcp</span><span class="w">   </span><span class="nx">open</span><span class="w">  </span><span class="nx">ssh</span>
<span class="mi">80</span><span class="o">/</span><span class="nx">tcp</span><span class="w">   </span><span class="nx">open</span><span class="w">  </span><span class="nx">http</span>
<span class="mi">111</span><span class="o">/</span><span class="nx">tcp</span><span class="w">  </span><span class="nx">open</span><span class="w">  </span><span class="nx">rpcbind</span>
<span class="mi">957</span><span class="o">/</span><span class="nx">tcp</span><span class="w">  </span><span class="nx">open</span><span class="w">  </span><span class="nx">unknown</span>
<span class="mi">3306</span><span class="o">/</span><span class="nx">tcp</span><span class="w"> </span><span class="nx">open</span><span class="w">  </span><span class="nx">mysql</span>
<span class="mi">8888</span><span class="o">/</span><span class="nx">tcp</span><span class="w"> </span><span class="nx">open</span><span class="w">  </span><span class="nx">sun</span><span class="o">-</span><span class="nx">answerbook</span>
<span class="nx">MAC</span><span class="w"> </span><span class="nx">Address</span><span class="p">:</span><span class="w"> </span><span class="mi">08</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">27</span><span class="p">:</span><span class="nx">D9</span><span class="p">:</span><span class="mi">8</span><span class="nx">E</span><span class="p">:</span><span class="nx">D7</span><span class="w"> </span><span class="p">(</span><span class="nx">Cadmus</span><span class="w"> </span><span class="nx">Computer</span><span class="w"> </span><span class="nx">Systems</span><span class="p">)</span>

<span class="nx">Nmap</span><span class="w"> </span><span class="nx">finished</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="nx">IP</span><span class="w"> </span><span class="nx">address</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="nx">host</span><span class="w"> </span><span class="nx">up</span><span class="p">)</span><span class="w"> </span><span class="nx">scanned</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m m-Double">0.399</span><span class="w"> </span><span class="nx">seconds</span>
</code></pre></div>

<h3>13. 找出网络中在线主机</h3>
<p>在“<strong>-sP</strong>”选项的bang帮助下，我们可以简单地检测网络中的主机是否在线,带这个选项后nmap会跳过端口检测和其他检测。</p>
<div class="highlight"><pre><span></span><code><span class="p">[</span><span class="nx">root</span><span class="err">@</span><span class="nx">server1</span><span class="w"> </span><span class="o">~</span><span class="p">]</span><span class="err">#</span><span class="w"> </span><span class="nx">nmap</span><span class="w"> </span><span class="o">-</span><span class="nx">sP</span><span class="w"> </span><span class="m m-Double">192.168.0</span><span class="p">.</span><span class="o">*</span>

<span class="nx">Starting</span><span class="w"> </span><span class="nx">Nmap</span><span class="w"> </span><span class="m m-Double">4.11</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="nx">http</span><span class="p">:</span><span class="c1">//www.insecure.org/nmap/ ) at 2013-11-18 11:01 EST</span>
<span class="nx">Host</span><span class="w"> </span><span class="nx">server1</span><span class="p">.</span><span class="nx">tecmint</span><span class="p">.</span><span class="nx">com</span><span class="w"> </span><span class="p">(</span><span class="m m-Double">192.168.0.100</span><span class="p">)</span><span class="w"> </span><span class="nx">appears</span><span class="w"> </span><span class="nx">to</span><span class="w"> </span><span class="nx">be</span><span class="w"> </span><span class="nx">up</span><span class="p">.</span>
<span class="nx">Host</span><span class="w"> </span><span class="nx">server2</span><span class="p">.</span><span class="nx">tecmint</span><span class="p">.</span><span class="nx">com</span><span class="w"> </span><span class="p">(</span><span class="m m-Double">192.168.0.101</span><span class="p">)</span><span class="w"> </span><span class="nx">appears</span><span class="w"> </span><span class="nx">to</span><span class="w"> </span><span class="nx">be</span><span class="w"> </span><span class="nx">up</span><span class="p">.</span>
<span class="nx">MAC</span><span class="w"> </span><span class="nx">Address</span><span class="p">:</span><span class="w"> </span><span class="mi">08</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">27</span><span class="p">:</span><span class="nx">D9</span><span class="p">:</span><span class="mi">8</span><span class="nx">E</span><span class="p">:</span><span class="nx">D7</span><span class="w"> </span><span class="p">(</span><span class="nx">Cadmus</span><span class="w"> </span><span class="nx">Computer</span><span class="w"> </span><span class="nx">Systems</span><span class="p">)</span>
<span class="nx">Nmap</span><span class="w"> </span><span class="nx">finished</span><span class="p">:</span><span class="w"> </span><span class="mi">256</span><span class="w"> </span><span class="nx">IP</span><span class="w"> </span><span class="nx">addresses</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="w"> </span><span class="nx">hosts</span><span class="w"> </span><span class="nx">up</span><span class="p">)</span><span class="w"> </span><span class="nx">scanned</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m m-Double">5.109</span><span class="w"> </span><span class="nx">seconds</span>
</code></pre></div>

<h3>14. 执行快速扫描</h3>
<p>你可以带“<strong>-F</strong>”选项仅扫描所有列在nmap-services文件中的端口。</p>
<div class="highlight"><pre><span></span><code><span class="p">[</span><span class="nx">root</span><span class="err">@</span><span class="nx">server1</span><span class="w"> </span><span class="o">~</span><span class="p">]</span><span class="err">#</span><span class="w"> </span><span class="nx">nmap</span><span class="w"> </span><span class="o">-</span><span class="nx">F</span><span class="w"> </span><span class="m m-Double">192.168.0.101</span>

<span class="nx">Starting</span><span class="w"> </span><span class="nx">Nmap</span><span class="w"> </span><span class="m m-Double">4.11</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="nx">http</span><span class="p">:</span><span class="c1">//www.insecure.org/nmap/ ) at 2013-11-11 16:47 EST</span>
<span class="nx">Interesting</span><span class="w"> </span><span class="nx">ports</span><span class="w"> </span><span class="nx">on</span><span class="w"> </span><span class="nx">server2</span><span class="p">.</span><span class="nx">tecmint</span><span class="p">.</span><span class="nx">com</span><span class="w"> </span><span class="p">(</span><span class="m m-Double">192.168.0.101</span><span class="p">):</span>
<span class="nx">Not</span><span class="w"> </span><span class="nx">shown</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="w"> </span><span class="nx">closed</span><span class="w"> </span><span class="nx">ports</span>
<span class="nx">PORT</span><span class="w">     </span><span class="nx">STATE</span><span class="w"> </span><span class="nx">SERVICE</span>
<span class="mi">22</span><span class="o">/</span><span class="nx">tcp</span><span class="w">   </span><span class="nx">open</span><span class="w">  </span><span class="nx">ssh</span>
<span class="mi">80</span><span class="o">/</span><span class="nx">tcp</span><span class="w">   </span><span class="nx">open</span><span class="w">  </span><span class="nx">http</span>
<span class="mi">111</span><span class="o">/</span><span class="nx">tcp</span><span class="w">  </span><span class="nx">open</span><span class="w">  </span><span class="nx">rpcbind</span>
<span class="mi">3306</span><span class="o">/</span><span class="nx">tcp</span><span class="w"> </span><span class="nx">open</span><span class="w">  </span><span class="nx">mysql</span>
<span class="mi">8888</span><span class="o">/</span><span class="nx">tcp</span><span class="w"> </span><span class="nx">open</span><span class="w">  </span><span class="nx">sun</span><span class="o">-</span><span class="nx">answerbook</span>
<span class="nx">MAC</span><span class="w"> </span><span class="nx">Address</span><span class="p">:</span><span class="w"> </span><span class="mi">08</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">27</span><span class="p">:</span><span class="nx">D9</span><span class="p">:</span><span class="mi">8</span><span class="nx">E</span><span class="p">:</span><span class="nx">D7</span><span class="w"> </span><span class="p">(</span><span class="nx">Cadmus</span><span class="w"> </span><span class="nx">Computer</span><span class="w"> </span><span class="nx">Systems</span><span class="p">)</span>

<span class="nx">Nmap</span><span class="w"> </span><span class="nx">finished</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="nx">IP</span><span class="w"> </span><span class="nx">address</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="nx">host</span><span class="w"> </span><span class="nx">up</span><span class="p">)</span><span class="w"> </span><span class="nx">scanned</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m m-Double">0.322</span><span class="w"> </span><span class="nx">seconds</span>
</code></pre></div>

<h3>15. 找出nmap版本</h3>
<p>你可以使用“<strong>-V</strong>”选项找出运行在你机器上的nmap版本。</p>
<div class="highlight"><pre><span></span><code><span class="p">[</span><span class="n">root</span><span class="err">@</span><span class="n">server1</span><span class="w"> </span><span class="o">~</span><span class="p">]</span><span class="c1"># nmap -V</span>

<span class="n">Nmap</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="mf">4.11</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">insecure</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">nmap</span><span class="o">/</span><span class="w"> </span><span class="p">)</span>
<span class="n">You</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">mail</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">spool</span><span class="o">/</span><span class="n">mail</span><span class="o">/</span><span class="n">root</span>
</code></pre></div>

<h3>16. 连续扫描端口</h3>
<p>使用“<strong>-r</strong>”选项而不随机排列端口的扫描顺序。</p>
<div class="highlight"><pre><span></span><code><span class="p">[</span><span class="nx">root</span><span class="err">@</span><span class="nx">server1</span><span class="w"> </span><span class="o">~</span><span class="p">]</span><span class="err">#</span><span class="w"> </span><span class="nx">nmap</span><span class="w"> </span><span class="o">-</span><span class="nx">r</span><span class="w"> </span><span class="m m-Double">192.168.0.101</span>

<span class="nx">Starting</span><span class="w"> </span><span class="nx">Nmap</span><span class="w"> </span><span class="m m-Double">4.11</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="nx">http</span><span class="p">:</span><span class="c1">//www.insecure.org/nmap/ ) at 2013-11-11 16:52 EST</span>
<span class="nx">Interesting</span><span class="w"> </span><span class="nx">ports</span><span class="w"> </span><span class="nx">on</span><span class="w"> </span><span class="nx">server2</span><span class="p">.</span><span class="nx">tecmint</span><span class="p">.</span><span class="nx">com</span><span class="w"> </span><span class="p">(</span><span class="m m-Double">192.168.0.101</span><span class="p">):</span>
<span class="nx">Not</span><span class="w"> </span><span class="nx">shown</span><span class="p">:</span><span class="w"> </span><span class="mi">1674</span><span class="w"> </span><span class="nx">closed</span><span class="w"> </span><span class="nx">ports</span>
<span class="nx">PORT</span><span class="w">     </span><span class="nx">STATE</span><span class="w"> </span><span class="nx">SERVICE</span>
<span class="mi">22</span><span class="o">/</span><span class="nx">tcp</span><span class="w">   </span><span class="nx">open</span><span class="w">  </span><span class="nx">ssh</span>
<span class="mi">80</span><span class="o">/</span><span class="nx">tcp</span><span class="w">   </span><span class="nx">open</span><span class="w">  </span><span class="nx">http</span>
<span class="mi">111</span><span class="o">/</span><span class="nx">tcp</span><span class="w">  </span><span class="nx">open</span><span class="w">  </span><span class="nx">rpcbind</span>
<span class="mi">957</span><span class="o">/</span><span class="nx">tcp</span><span class="w">  </span><span class="nx">open</span><span class="w">  </span><span class="nx">unknown</span>
<span class="mi">3306</span><span class="o">/</span><span class="nx">tcp</span><span class="w"> </span><span class="nx">open</span><span class="w">  </span><span class="nx">mysql</span>
<span class="mi">8888</span><span class="o">/</span><span class="nx">tcp</span><span class="w"> </span><span class="nx">open</span><span class="w">  </span><span class="nx">sun</span><span class="o">-</span><span class="nx">answerbook</span>
<span class="nx">MAC</span><span class="w"> </span><span class="nx">Address</span><span class="p">:</span><span class="w"> </span><span class="mi">08</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">27</span><span class="p">:</span><span class="nx">D9</span><span class="p">:</span><span class="mi">8</span><span class="nx">E</span><span class="p">:</span><span class="nx">D7</span><span class="w"> </span><span class="p">(</span><span class="nx">Cadmus</span><span class="w"> </span><span class="nx">Computer</span><span class="w"> </span><span class="nx">Systems</span><span class="p">)</span>

<span class="nx">Nmap</span><span class="w"> </span><span class="nx">finished</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="nx">IP</span><span class="w"> </span><span class="nx">address</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="nx">host</span><span class="w"> </span><span class="nx">up</span><span class="p">)</span><span class="w"> </span><span class="nx">scanned</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m m-Double">0.363</span><span class="w"> </span><span class="nx">seconds</span>
</code></pre></div>

<h3>17. 显示主机接口及路由</h3>
<p>你可以使用nmap的“<strong>–iflist</strong>”选项来列出本机的主机接口和路由信息。</p>
<div class="highlight"><pre><span></span><code><span class="o">[</span><span class="n">root@server1 ~</span><span class="o">]</span><span class="err">#</span><span class="w"> </span><span class="n">nmap</span><span class="w"> </span><span class="o">--</span><span class="n">iflist</span>

<span class="n">Starting</span><span class="w"> </span><span class="n">Nmap</span><span class="w"> </span><span class="mf">4.11</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="nl">http</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="p">.</span><span class="n">insecure</span><span class="p">.</span><span class="n">org</span><span class="o">/</span><span class="n">nmap</span><span class="o">/</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">at</span><span class="w"> </span><span class="mi">2013</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">11</span><span class="w"> </span><span class="mi">17</span><span class="err">:</span><span class="mi">07</span><span class="w"> </span><span class="n">EST</span>
<span class="o">************************</span><span class="n">INTERFACES</span><span class="o">************************</span>
<span class="n">DEV</span><span class="w">  </span><span class="p">(</span><span class="n">SHORT</span><span class="p">)</span><span class="w"> </span><span class="n">IP</span><span class="o">/</span><span class="n">MASK</span><span class="w">          </span><span class="n">TYPE</span><span class="w">     </span><span class="n">UP</span><span class="w"> </span><span class="n">MAC</span>
<span class="n">lo</span><span class="w">   </span><span class="p">(</span><span class="n">lo</span><span class="p">)</span><span class="w">    </span><span class="mf">127.0.0.1</span><span class="o">/</span><span class="mi">8</span><span class="w">      </span><span class="n">loopback</span><span class="w"> </span><span class="n">up</span>
<span class="n">eth0</span><span class="w"> </span><span class="p">(</span><span class="n">eth0</span><span class="p">)</span><span class="w">  </span><span class="mf">192.168.0.100</span><span class="o">/</span><span class="mi">24</span><span class="w"> </span><span class="n">ethernet</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="mi">08</span><span class="err">:</span><span class="mi">00</span><span class="err">:</span><span class="mi">27</span><span class="err">:</span><span class="mi">11</span><span class="err">:</span><span class="nl">C7</span><span class="p">:</span><span class="mi">89</span>

<span class="o">**************************</span><span class="n">ROUTES</span><span class="o">**************************</span>
<span class="n">DST</span><span class="o">/</span><span class="n">MASK</span><span class="w">      </span><span class="n">DEV</span><span class="w">  </span><span class="n">GATEWAY</span>
<span class="mf">192.168.0.0</span><span class="o">/</span><span class="mi">0</span><span class="w"> </span><span class="n">eth0</span>
<span class="mf">169.254.0.0</span><span class="o">/</span><span class="mi">0</span><span class="w"> </span><span class="n">eth0</span>
</code></pre></div>

<p>在上面的输出中，你可以看到上述清单列出了你系统中的已经启用的接口及它们相应的路由。（译注：这样你就知道可以通过这些接口扫描哪些网络了）</p>
<h3>18. 扫描特定端口</h3>
<p>nmap使用不同的选项来发现远程机器上的端口。你可以用“<strong>-p</strong>”选项指定你想扫描的TCP端口。默认上，nmap只会扫描<strong>TCP</strong>端口。</p>
<div class="highlight"><pre><span></span><code><span class="p">[</span><span class="nx">root</span><span class="err">@</span><span class="nx">server1</span><span class="w"> </span><span class="o">~</span><span class="p">]</span><span class="err">#</span><span class="w"> </span><span class="nx">nmap</span><span class="w"> </span><span class="o">-</span><span class="nx">p</span><span class="w"> </span><span class="mi">80</span><span class="w"> </span><span class="nx">server2</span><span class="p">.</span><span class="nx">tecmint</span><span class="p">.</span><span class="nx">com</span>

<span class="nx">Starting</span><span class="w"> </span><span class="nx">Nmap</span><span class="w"> </span><span class="m m-Double">4.11</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="nx">http</span><span class="p">:</span><span class="c1">//www.insecure.org/nmap/ ) at 2013-11-11 17:12 EST</span>
<span class="nx">Interesting</span><span class="w"> </span><span class="nx">ports</span><span class="w"> </span><span class="nx">on</span><span class="w"> </span><span class="nx">server2</span><span class="p">.</span><span class="nx">tecmint</span><span class="p">.</span><span class="nx">com</span><span class="w"> </span><span class="p">(</span><span class="m m-Double">192.168.0.101</span><span class="p">):</span>
<span class="nx">PORT</span><span class="w">   </span><span class="nx">STATE</span><span class="w"> </span><span class="nx">SERVICE</span>
<span class="mi">80</span><span class="o">/</span><span class="nx">tcp</span><span class="w"> </span><span class="nx">open</span><span class="w">  </span><span class="nx">http</span>
<span class="nx">MAC</span><span class="w"> </span><span class="nx">Address</span><span class="p">:</span><span class="w"> </span><span class="mi">08</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">27</span><span class="p">:</span><span class="nx">D9</span><span class="p">:</span><span class="mi">8</span><span class="nx">E</span><span class="p">:</span><span class="nx">D7</span><span class="w"> </span><span class="p">(</span><span class="nx">Cadmus</span><span class="w"> </span><span class="nx">Computer</span><span class="w"> </span><span class="nx">Systems</span><span class="p">)</span>

<span class="nx">Nmap</span><span class="w"> </span><span class="nx">finished</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="nx">IP</span><span class="w"> </span><span class="nx">address</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="nx">host</span><span class="w"> </span><span class="nx">up</span><span class="p">)</span><span class="w"> </span><span class="nx">sca</span>
</code></pre></div>

<h3>19. 扫描TCP端口</h3>
<p>当然，你可以指定nmap扫描的端口类型（TCP或UDP）和端口号。</p>
<div class="highlight"><pre><span></span><code><span class="p">[</span><span class="nx">root</span><span class="err">@</span><span class="nx">server1</span><span class="w"> </span><span class="o">~</span><span class="p">]</span><span class="err">#</span><span class="w"> </span><span class="nx">nmap</span><span class="w"> </span><span class="o">-</span><span class="nx">p</span><span class="w"> </span><span class="nx">T</span><span class="p">:</span><span class="mi">8888</span><span class="p">,</span><span class="mi">80</span><span class="w"> </span><span class="nx">server2</span><span class="p">.</span><span class="nx">tecmint</span><span class="p">.</span><span class="nx">com</span>

<span class="nx">Starting</span><span class="w"> </span><span class="nx">Nmap</span><span class="w"> </span><span class="m m-Double">4.11</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="nx">http</span><span class="p">:</span><span class="c1">//www.insecure.org/nmap/ ) at 2013-11-11 17:15 EST</span>
<span class="nx">Interesting</span><span class="w"> </span><span class="nx">ports</span><span class="w"> </span><span class="nx">on</span><span class="w"> </span><span class="nx">server2</span><span class="p">.</span><span class="nx">tecmint</span><span class="p">.</span><span class="nx">com</span><span class="w"> </span><span class="p">(</span><span class="m m-Double">192.168.0.101</span><span class="p">):</span>
<span class="nx">PORT</span><span class="w">     </span><span class="nx">STATE</span><span class="w"> </span><span class="nx">SERVICE</span>
<span class="mi">80</span><span class="o">/</span><span class="nx">tcp</span><span class="w">   </span><span class="nx">open</span><span class="w">  </span><span class="nx">http</span>
<span class="mi">8888</span><span class="o">/</span><span class="nx">tcp</span><span class="w"> </span><span class="nx">open</span><span class="w">  </span><span class="nx">sun</span><span class="o">-</span><span class="nx">answerbook</span>
<span class="nx">MAC</span><span class="w"> </span><span class="nx">Address</span><span class="p">:</span><span class="w"> </span><span class="mi">08</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">27</span><span class="p">:</span><span class="nx">D9</span><span class="p">:</span><span class="mi">8</span><span class="nx">E</span><span class="p">:</span><span class="nx">D7</span><span class="w"> </span><span class="p">(</span><span class="nx">Cadmus</span><span class="w"> </span><span class="nx">Computer</span><span class="w"> </span><span class="nx">Systems</span><span class="p">)</span>

<span class="nx">Nmap</span><span class="w"> </span><span class="nx">finished</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="nx">IP</span><span class="w"> </span><span class="nx">address</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="nx">host</span><span class="w"> </span><span class="nx">up</span><span class="p">)</span><span class="w"> </span><span class="nx">scanned</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m m-Double">0.157</span><span class="w"> </span><span class="nx">seconds</span>
</code></pre></div>

<h3>20. 扫描UDP端口</h3>
<div class="highlight"><pre><span></span><code><span class="p">[</span><span class="nx">root</span><span class="err">@</span><span class="nx">server1</span><span class="w"> </span><span class="o">~</span><span class="p">]</span><span class="err">#</span><span class="w"> </span><span class="nx">nmap</span><span class="w"> </span><span class="o">-</span><span class="nx">sU</span><span class="w"> </span><span class="mi">53</span><span class="w"> </span><span class="nx">server2</span><span class="p">.</span><span class="nx">tecmint</span><span class="p">.</span><span class="nx">com</span>

<span class="nx">Starting</span><span class="w"> </span><span class="nx">Nmap</span><span class="w"> </span><span class="m m-Double">4.11</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="nx">http</span><span class="p">:</span><span class="c1">//www.insecure.org/nmap/ ) at 2013-11-11 17:15 EST</span>
<span class="nx">Interesting</span><span class="w"> </span><span class="nx">ports</span><span class="w"> </span><span class="nx">on</span><span class="w"> </span><span class="nx">server2</span><span class="p">.</span><span class="nx">tecmint</span><span class="p">.</span><span class="nx">com</span><span class="w"> </span><span class="p">(</span><span class="m m-Double">192.168.0.101</span><span class="p">):</span>
<span class="nx">PORT</span><span class="w">     </span><span class="nx">STATE</span><span class="w"> </span><span class="nx">SERVICE</span>
<span class="mi">53</span><span class="o">/</span><span class="nx">udp</span><span class="w">   </span><span class="nx">open</span><span class="w">  </span><span class="nx">http</span>
<span class="mi">8888</span><span class="o">/</span><span class="nx">udp</span><span class="w"> </span><span class="nx">open</span><span class="w">  </span><span class="nx">sun</span><span class="o">-</span><span class="nx">answerbook</span>
<span class="nx">MAC</span><span class="w"> </span><span class="nx">Address</span><span class="p">:</span><span class="w"> </span><span class="mi">08</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">27</span><span class="p">:</span><span class="nx">D9</span><span class="p">:</span><span class="mi">8</span><span class="nx">E</span><span class="p">:</span><span class="nx">D7</span><span class="w"> </span><span class="p">(</span><span class="nx">Cadmus</span><span class="w"> </span><span class="nx">Computer</span><span class="w"> </span><span class="nx">Systems</span><span class="p">)</span>

<span class="nx">Nmap</span><span class="w"> </span><span class="nx">finished</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="nx">IP</span><span class="w"> </span><span class="nx">address</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="nx">host</span><span class="w"> </span><span class="nx">up</span><span class="p">)</span><span class="w"> </span><span class="nx">scanned</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m m-Double">0.157</span><span class="w"> </span><span class="nx">seconds</span>
</code></pre></div>

<h3>21. 扫描多个端口</h3>
<p>你可以使用“<strong>-p</strong>”选项来指定多个要扫描的端口。</p>
<div class="highlight"><pre><span></span><code><span class="p">[</span><span class="nx">root</span><span class="err">@</span><span class="nx">server1</span><span class="w"> </span><span class="o">~</span><span class="p">]</span><span class="err">#</span><span class="w"> </span><span class="nx">nmap</span><span class="w"> </span><span class="o">-</span><span class="nx">p</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span><span class="mi">443</span><span class="w"> </span><span class="m m-Double">192.168.0.101</span>

<span class="nx">Starting</span><span class="w"> </span><span class="nx">Nmap</span><span class="w"> </span><span class="m m-Double">4.11</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="nx">http</span><span class="p">:</span><span class="c1">//www.insecure.org/nmap/ ) at 2013-11-18 10:56 EST</span>
<span class="nx">Interesting</span><span class="w"> </span><span class="nx">ports</span><span class="w"> </span><span class="nx">on</span><span class="w"> </span><span class="nx">server2</span><span class="p">.</span><span class="nx">tecmint</span><span class="p">.</span><span class="nx">com</span><span class="w"> </span><span class="p">(</span><span class="m m-Double">192.168.0.101</span><span class="p">):</span>
<span class="nx">PORT</span><span class="w">    </span><span class="nx">STATE</span><span class="w">  </span><span class="nx">SERVICE</span>
<span class="mi">80</span><span class="o">/</span><span class="nx">tcp</span><span class="w">  </span><span class="nx">open</span><span class="w">   </span><span class="nx">http</span>
<span class="mi">443</span><span class="o">/</span><span class="nx">tcp</span><span class="w"> </span><span class="nx">closed</span><span class="w"> </span><span class="nx">https</span>
<span class="nx">MAC</span><span class="w"> </span><span class="nx">Address</span><span class="p">:</span><span class="w"> </span><span class="mi">08</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">27</span><span class="p">:</span><span class="nx">D9</span><span class="p">:</span><span class="mi">8</span><span class="nx">E</span><span class="p">:</span><span class="nx">D7</span><span class="w"> </span><span class="p">(</span><span class="nx">Cadmus</span><span class="w"> </span><span class="nx">Computer</span><span class="w"> </span><span class="nx">Systems</span><span class="p">)</span>

<span class="nx">Nmap</span><span class="w"> </span><span class="nx">finished</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="nx">IP</span><span class="w"> </span><span class="nx">address</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="nx">host</span><span class="w"> </span><span class="nx">up</span><span class="p">)</span><span class="w"> </span><span class="nx">scanned</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m m-Double">0.190</span><span class="w"> </span><span class="nx">seconds</span>
</code></pre></div>

<h3>22. 扫描网络的端口范围</h3>
<p>你也可以使用表达式指定扫描端口的范围。</p>
<div class="highlight"><pre><span></span><code><span class="o">[</span><span class="n">root@server1 ~</span><span class="o">]</span><span class="err">#</span><span class="w">  </span><span class="n">nmap</span><span class="w"> </span><span class="o">-</span><span class="n">p</span><span class="w"> </span><span class="mi">80</span><span class="o">-</span><span class="mi">160</span><span class="w"> </span><span class="mf">192.168.0.101</span>
</code></pre></div>

<h3>23. 找出主机服务版本号</h3>
<p>我们可以使用“<strong>-sV</strong>”选项找出远程主机上运行的服务及其版本号。</p>
<div class="highlight"><pre><span></span><code><span class="p">[</span><span class="nx">root</span><span class="err">@</span><span class="nx">server1</span><span class="w"> </span><span class="o">~</span><span class="p">]</span><span class="err">#</span><span class="w"> </span><span class="nx">nmap</span><span class="w"> </span><span class="o">-</span><span class="nx">sV</span><span class="w"> </span><span class="m m-Double">192.168.0.101</span>

<span class="nx">Starting</span><span class="w"> </span><span class="nx">Nmap</span><span class="w"> </span><span class="m m-Double">4.11</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="nx">http</span><span class="p">:</span><span class="c1">//www.insecure.org/nmap/ ) at 2013-11-11 17:48 EST</span>
<span class="nx">Interesting</span><span class="w"> </span><span class="nx">ports</span><span class="w"> </span><span class="nx">on</span><span class="w"> </span><span class="nx">server2</span><span class="p">.</span><span class="nx">tecmint</span><span class="p">.</span><span class="nx">com</span><span class="w"> </span><span class="p">(</span><span class="m m-Double">192.168.0.101</span><span class="p">):</span>
<span class="nx">Not</span><span class="w"> </span><span class="nx">shown</span><span class="p">:</span><span class="w"> </span><span class="mi">1674</span><span class="w"> </span><span class="nx">closed</span><span class="w"> </span><span class="nx">ports</span>
<span class="nx">PORT</span><span class="w">     </span><span class="nx">STATE</span><span class="w"> </span><span class="nx">SERVICE</span><span class="w"> </span><span class="nx">VERSION</span>
<span class="mi">22</span><span class="o">/</span><span class="nx">tcp</span><span class="w">   </span><span class="nx">open</span><span class="w">  </span><span class="nx">ssh</span><span class="w">     </span><span class="nx">OpenSSH</span><span class="w"> </span><span class="m m-Double">4.3</span><span class="w"> </span><span class="p">(</span><span class="nx">protocol</span><span class="w"> </span><span class="m m-Double">2.0</span><span class="p">)</span>
<span class="mi">80</span><span class="o">/</span><span class="nx">tcp</span><span class="w">   </span><span class="nx">open</span><span class="w">  </span><span class="nx">http</span><span class="w">    </span><span class="nx">Apache</span><span class="w"> </span><span class="nx">httpd</span><span class="w"> </span><span class="m m-Double">2.2.3</span><span class="w"> </span><span class="p">((</span><span class="nx">CentOS</span><span class="p">))</span>
<span class="mi">111</span><span class="o">/</span><span class="nx">tcp</span><span class="w">  </span><span class="nx">open</span><span class="w">  </span><span class="nx">rpcbind</span><span class="w">  </span><span class="mi">2</span><span class="w"> </span><span class="p">(</span><span class="nx">rpc</span><span class="w"> </span><span class="err">#</span><span class="mi">100000</span><span class="p">)</span>
<span class="mi">957</span><span class="o">/</span><span class="nx">tcp</span><span class="w">  </span><span class="nx">open</span><span class="w">  </span><span class="nx">status</span><span class="w">   </span><span class="mi">1</span><span class="w"> </span><span class="p">(</span><span class="nx">rpc</span><span class="w"> </span><span class="err">#</span><span class="mi">100024</span><span class="p">)</span>
<span class="mi">3306</span><span class="o">/</span><span class="nx">tcp</span><span class="w"> </span><span class="nx">open</span><span class="w">  </span><span class="nx">mysql</span><span class="w">   </span><span class="nx">MySQL</span><span class="w"> </span><span class="p">(</span><span class="nx">unauthorized</span><span class="p">)</span>
<span class="mi">8888</span><span class="o">/</span><span class="nx">tcp</span><span class="w"> </span><span class="nx">open</span><span class="w">  </span><span class="nx">http</span><span class="w">    </span><span class="nx">lighttpd</span><span class="w"> </span><span class="m m-Double">1.4.32</span>
<span class="nx">MAC</span><span class="w"> </span><span class="nx">Address</span><span class="p">:</span><span class="w"> </span><span class="mi">08</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">27</span><span class="p">:</span><span class="nx">D9</span><span class="p">:</span><span class="mi">8</span><span class="nx">E</span><span class="p">:</span><span class="nx">D7</span><span class="w"> </span><span class="p">(</span><span class="nx">Cadmus</span><span class="w"> </span><span class="nx">Computer</span><span class="w"> </span><span class="nx">Systems</span><span class="p">)</span>

<span class="nx">Nmap</span><span class="w"> </span><span class="nx">finished</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="nx">IP</span><span class="w"> </span><span class="nx">address</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="nx">host</span><span class="w"> </span><span class="nx">up</span><span class="p">)</span><span class="w"> </span><span class="nx">scanned</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m m-Double">12.624</span><span class="w"> </span><span class="nx">seconds</span>
</code></pre></div>

<h4>24. 使用 TCP ACK (PA) 和 TCP Syn (PS) 扫描远程主机</h4>
<p>有时包过滤防火墙阻止了标准<strong>ICMP</strong>ping请求，在这个情况下，我们可以使用<strong>TCP ACK</strong>和<strong>TCP Syn</strong>方法来扫描远程主机。</p>
<div class="highlight"><pre><span></span><code><span class="p">[</span><span class="n">root</span><span class="err">@</span><span class="n">server1</span><span class="w"> </span><span class="o">~</span><span class="p">]</span><span class="c1"># nmap -PS 192.168.0.101</span>

<span class="n">Starting</span><span class="w"> </span><span class="n">Nmap</span><span class="w"> </span><span class="mf">4.11</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">insecure</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">nmap</span><span class="o">/</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="mi">2013</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">11</span><span class="w"> </span><span class="mi">17</span><span class="p">:</span><span class="mi">51</span><span class="w"> </span><span class="n">EST</span>
<span class="n">Interesting</span><span class="w"> </span><span class="n">ports</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">server2</span><span class="o">.</span><span class="n">tecmint</span><span class="o">.</span><span class="n">com</span><span class="w"> </span><span class="p">(</span><span class="mf">192.168</span><span class="o">.</span><span class="mf">0.101</span><span class="p">):</span>
<span class="n">Not</span><span class="w"> </span><span class="n">shown</span><span class="p">:</span><span class="w"> </span><span class="mi">1674</span><span class="w"> </span><span class="n">closed</span><span class="w"> </span><span class="n">ports</span>
<span class="n">PORT</span><span class="w">     </span><span class="n">STATE</span><span class="w"> </span><span class="n">SERVICE</span>
<span class="mi">22</span><span class="o">/</span><span class="n">tcp</span><span class="w">   </span><span class="n">open</span><span class="w">  </span><span class="n">ssh</span>
<span class="mi">80</span><span class="o">/</span><span class="n">tcp</span><span class="w">   </span><span class="n">open</span><span class="w">  </span><span class="n">http</span>
<span class="mi">111</span><span class="o">/</span><span class="n">tcp</span><span class="w">  </span><span class="n">open</span><span class="w">  </span><span class="n">rpcbind</span>
<span class="mi">957</span><span class="o">/</span><span class="n">tcp</span><span class="w">  </span><span class="n">open</span><span class="w">  </span><span class="n">unknown</span>
<span class="mi">3306</span><span class="o">/</span><span class="n">tcp</span><span class="w"> </span><span class="n">open</span><span class="w">  </span><span class="n">mysql</span>
<span class="mi">8888</span><span class="o">/</span><span class="n">tcp</span><span class="w"> </span><span class="n">open</span><span class="w">  </span><span class="n">sun</span><span class="o">-</span><span class="n">answerbook</span>
<span class="n">MAC</span><span class="w"> </span><span class="n">Address</span><span class="p">:</span><span class="w"> </span><span class="mi">08</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">27</span><span class="p">:</span><span class="n">D9</span><span class="p">:</span><span class="mi">8</span><span class="n">E</span><span class="p">:</span><span class="n">D7</span><span class="w"> </span><span class="p">(</span><span class="n">Cadmus</span><span class="w"> </span><span class="n">Computer</span><span class="w"> </span><span class="n">Systems</span><span class="p">)</span>

<span class="n">Nmap</span><span class="w"> </span><span class="n">finished</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">IP</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="n">host</span><span class="w"> </span><span class="n">up</span><span class="p">)</span><span class="w"> </span><span class="n">scanned</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="mf">0.360</span><span class="w"> </span><span class="n">seconds</span>
<span class="n">You</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">mail</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">spool</span><span class="o">/</span><span class="n">mail</span><span class="o">/</span><span class="n">root</span>
</code></pre></div>

<h3>25. 用TCP ACK扫描远程主机的特定端口</h3>
<div class="highlight"><pre><span></span><code><span class="p">[</span><span class="n">root</span><span class="err">@</span><span class="n">server1</span><span class="w"> </span><span class="o">~</span><span class="p">]</span><span class="c1"># nmap -PA -p 22,80 192.168.0.101</span>

<span class="n">Starting</span><span class="w"> </span><span class="n">Nmap</span><span class="w"> </span><span class="mf">4.11</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">insecure</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">nmap</span><span class="o">/</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="mi">2013</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">11</span><span class="w"> </span><span class="mi">18</span><span class="p">:</span><span class="mi">02</span><span class="w"> </span><span class="n">EST</span>
<span class="n">Interesting</span><span class="w"> </span><span class="n">ports</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">server2</span><span class="o">.</span><span class="n">tecmint</span><span class="o">.</span><span class="n">com</span><span class="w"> </span><span class="p">(</span><span class="mf">192.168</span><span class="o">.</span><span class="mf">0.101</span><span class="p">):</span>
<span class="n">PORT</span><span class="w">   </span><span class="n">STATE</span><span class="w"> </span><span class="n">SERVICE</span>
<span class="mi">22</span><span class="o">/</span><span class="n">tcp</span><span class="w"> </span><span class="n">open</span><span class="w">  </span><span class="n">ssh</span>
<span class="mi">80</span><span class="o">/</span><span class="n">tcp</span><span class="w"> </span><span class="n">open</span><span class="w">  </span><span class="n">http</span>
<span class="n">MAC</span><span class="w"> </span><span class="n">Address</span><span class="p">:</span><span class="w"> </span><span class="mi">08</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">27</span><span class="p">:</span><span class="n">D9</span><span class="p">:</span><span class="mi">8</span><span class="n">E</span><span class="p">:</span><span class="n">D7</span><span class="w"> </span><span class="p">(</span><span class="n">Cadmus</span><span class="w"> </span><span class="n">Computer</span><span class="w"> </span><span class="n">Systems</span><span class="p">)</span>

<span class="n">Nmap</span><span class="w"> </span><span class="n">finished</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">IP</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="n">host</span><span class="w"> </span><span class="n">up</span><span class="p">)</span><span class="w"> </span><span class="n">scanned</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="mf">0.166</span><span class="w"> </span><span class="n">seconds</span>
<span class="n">You</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">mail</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">spool</span><span class="o">/</span><span class="n">mail</span><span class="o">/</span><span class="n">root</span>
</code></pre></div>

<h3>26. 用TCP SYN扫描远程主机的特定端口</h3>
<div class="highlight"><pre><span></span><code><span class="p">[</span><span class="n">root</span><span class="err">@</span><span class="n">server1</span><span class="w"> </span><span class="o">~</span><span class="p">]</span><span class="c1"># nmap -PS -p 22,80 192.168.0.101</span>

<span class="n">Starting</span><span class="w"> </span><span class="n">Nmap</span><span class="w"> </span><span class="mf">4.11</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">insecure</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">nmap</span><span class="o">/</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="mi">2013</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">11</span><span class="w"> </span><span class="mi">18</span><span class="p">:</span><span class="mi">08</span><span class="w"> </span><span class="n">EST</span>
<span class="n">Interesting</span><span class="w"> </span><span class="n">ports</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">server2</span><span class="o">.</span><span class="n">tecmint</span><span class="o">.</span><span class="n">com</span><span class="w"> </span><span class="p">(</span><span class="mf">192.168</span><span class="o">.</span><span class="mf">0.101</span><span class="p">):</span>
<span class="n">PORT</span><span class="w">   </span><span class="n">STATE</span><span class="w"> </span><span class="n">SERVICE</span>
<span class="mi">22</span><span class="o">/</span><span class="n">tcp</span><span class="w"> </span><span class="n">open</span><span class="w">  </span><span class="n">ssh</span>
<span class="mi">80</span><span class="o">/</span><span class="n">tcp</span><span class="w"> </span><span class="n">open</span><span class="w">  </span><span class="n">http</span>
<span class="n">MAC</span><span class="w"> </span><span class="n">Address</span><span class="p">:</span><span class="w"> </span><span class="mi">08</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">27</span><span class="p">:</span><span class="n">D9</span><span class="p">:</span><span class="mi">8</span><span class="n">E</span><span class="p">:</span><span class="n">D7</span><span class="w"> </span><span class="p">(</span><span class="n">Cadmus</span><span class="w"> </span><span class="n">Computer</span><span class="w"> </span><span class="n">Systems</span><span class="p">)</span>

<span class="n">Nmap</span><span class="w"> </span><span class="n">finished</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">IP</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="n">host</span><span class="w"> </span><span class="n">up</span><span class="p">)</span><span class="w"> </span><span class="n">scanned</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="mf">0.165</span><span class="w"> </span><span class="n">seconds</span>
<span class="n">You</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">mail</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">spool</span><span class="o">/</span><span class="n">mail</span><span class="o">/</span><span class="n">root</span>
</code></pre></div>

<h3>27. 执行隐秘扫描</h3>
<div class="highlight"><pre><span></span><code><span class="p">[</span><span class="n">root</span><span class="err">@</span><span class="n">server1</span><span class="w"> </span><span class="o">~</span><span class="p">]</span><span class="c1"># nmap -sS 192.168.0.101</span>

<span class="n">Starting</span><span class="w"> </span><span class="n">Nmap</span><span class="w"> </span><span class="mf">4.11</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">insecure</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">nmap</span><span class="o">/</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="mi">2013</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">11</span><span class="w"> </span><span class="mi">18</span><span class="p">:</span><span class="mi">10</span><span class="w"> </span><span class="n">EST</span>
<span class="n">Interesting</span><span class="w"> </span><span class="n">ports</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">server2</span><span class="o">.</span><span class="n">tecmint</span><span class="o">.</span><span class="n">com</span><span class="w"> </span><span class="p">(</span><span class="mf">192.168</span><span class="o">.</span><span class="mf">0.101</span><span class="p">):</span>
<span class="n">Not</span><span class="w"> </span><span class="n">shown</span><span class="p">:</span><span class="w"> </span><span class="mi">1674</span><span class="w"> </span><span class="n">closed</span><span class="w"> </span><span class="n">ports</span>
<span class="n">PORT</span><span class="w">     </span><span class="n">STATE</span><span class="w"> </span><span class="n">SERVICE</span>
<span class="mi">22</span><span class="o">/</span><span class="n">tcp</span><span class="w">   </span><span class="n">open</span><span class="w">  </span><span class="n">ssh</span>
<span class="mi">80</span><span class="o">/</span><span class="n">tcp</span><span class="w">   </span><span class="n">open</span><span class="w">  </span><span class="n">http</span>
<span class="mi">111</span><span class="o">/</span><span class="n">tcp</span><span class="w">  </span><span class="n">open</span><span class="w">  </span><span class="n">rpcbind</span>
<span class="mi">957</span><span class="o">/</span><span class="n">tcp</span><span class="w">  </span><span class="n">open</span><span class="w">  </span><span class="n">unknown</span>
<span class="mi">3306</span><span class="o">/</span><span class="n">tcp</span><span class="w"> </span><span class="n">open</span><span class="w">  </span><span class="n">mysql</span>
<span class="mi">8888</span><span class="o">/</span><span class="n">tcp</span><span class="w"> </span><span class="n">open</span><span class="w">  </span><span class="n">sun</span><span class="o">-</span><span class="n">answerbook</span>
<span class="n">MAC</span><span class="w"> </span><span class="n">Address</span><span class="p">:</span><span class="w"> </span><span class="mi">08</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">27</span><span class="p">:</span><span class="n">D9</span><span class="p">:</span><span class="mi">8</span><span class="n">E</span><span class="p">:</span><span class="n">D7</span><span class="w"> </span><span class="p">(</span><span class="n">Cadmus</span><span class="w"> </span><span class="n">Computer</span><span class="w"> </span><span class="n">Systems</span><span class="p">)</span>

<span class="n">Nmap</span><span class="w"> </span><span class="n">finished</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">IP</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="n">host</span><span class="w"> </span><span class="n">up</span><span class="p">)</span><span class="w"> </span><span class="n">scanned</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="mf">0.383</span><span class="w"> </span><span class="n">seconds</span>
<span class="n">You</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">mail</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">spool</span><span class="o">/</span><span class="n">mail</span><span class="o">/</span><span class="n">root</span>
</code></pre></div>

<h3>28. 用TCP SYN扫描最常用的端口</h3>
<div class="highlight"><pre><span></span><code><span class="p">[</span><span class="n">root</span><span class="err">@</span><span class="n">server1</span><span class="w"> </span><span class="o">~</span><span class="p">]</span><span class="c1"># nmap -sT 192.168.0.101</span>

<span class="n">Starting</span><span class="w"> </span><span class="n">Nmap</span><span class="w"> </span><span class="mf">4.11</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">insecure</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">nmap</span><span class="o">/</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="mi">2013</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">11</span><span class="w"> </span><span class="mi">18</span><span class="p">:</span><span class="mi">12</span><span class="w"> </span><span class="n">EST</span>
<span class="n">Interesting</span><span class="w"> </span><span class="n">ports</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">server2</span><span class="o">.</span><span class="n">tecmint</span><span class="o">.</span><span class="n">com</span><span class="w"> </span><span class="p">(</span><span class="mf">192.168</span><span class="o">.</span><span class="mf">0.101</span><span class="p">):</span>
<span class="n">Not</span><span class="w"> </span><span class="n">shown</span><span class="p">:</span><span class="w"> </span><span class="mi">1674</span><span class="w"> </span><span class="n">closed</span><span class="w"> </span><span class="n">ports</span>
<span class="n">PORT</span><span class="w">     </span><span class="n">STATE</span><span class="w"> </span><span class="n">SERVICE</span>
<span class="mi">22</span><span class="o">/</span><span class="n">tcp</span><span class="w">   </span><span class="n">open</span><span class="w">  </span><span class="n">ssh</span>
<span class="mi">80</span><span class="o">/</span><span class="n">tcp</span><span class="w">   </span><span class="n">open</span><span class="w">  </span><span class="n">http</span>
<span class="mi">111</span><span class="o">/</span><span class="n">tcp</span><span class="w">  </span><span class="n">open</span><span class="w">  </span><span class="n">rpcbind</span>
<span class="mi">957</span><span class="o">/</span><span class="n">tcp</span><span class="w">  </span><span class="n">open</span><span class="w">  </span><span class="n">unknown</span>
<span class="mi">3306</span><span class="o">/</span><span class="n">tcp</span><span class="w"> </span><span class="n">open</span><span class="w">  </span><span class="n">mysql</span>
<span class="mi">8888</span><span class="o">/</span><span class="n">tcp</span><span class="w"> </span><span class="n">open</span><span class="w">  </span><span class="n">sun</span><span class="o">-</span><span class="n">answerbook</span>
<span class="n">MAC</span><span class="w"> </span><span class="n">Address</span><span class="p">:</span><span class="w"> </span><span class="mi">08</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">27</span><span class="p">:</span><span class="n">D9</span><span class="p">:</span><span class="mi">8</span><span class="n">E</span><span class="p">:</span><span class="n">D7</span><span class="w"> </span><span class="p">(</span><span class="n">Cadmus</span><span class="w"> </span><span class="n">Computer</span><span class="w"> </span><span class="n">Systems</span><span class="p">)</span>

<span class="n">Nmap</span><span class="w"> </span><span class="n">finished</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">IP</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="n">host</span><span class="w"> </span><span class="n">up</span><span class="p">)</span><span class="w"> </span><span class="n">scanned</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="mf">0.406</span><span class="w"> </span><span class="n">seconds</span>
<span class="n">You</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">mail</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">spool</span><span class="o">/</span><span class="n">mail</span><span class="o">/</span><span class="n">root</span>
</code></pre></div>

<h3>29. 执行tcp空扫描来愚弄防火墙</h3>
<div class="highlight"><pre><span></span><code><span class="p">[</span><span class="n">root</span><span class="err">@</span><span class="n">server1</span><span class="w"> </span><span class="o">~</span><span class="p">]</span><span class="c1"># nmap -sN 192.168.0.101</span>

<span class="n">Starting</span><span class="w"> </span><span class="n">Nmap</span><span class="w"> </span><span class="mf">4.11</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">insecure</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">nmap</span><span class="o">/</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="mi">2013</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">11</span><span class="w"> </span><span class="mi">19</span><span class="p">:</span><span class="mi">01</span><span class="w"> </span><span class="n">EST</span>
<span class="n">Interesting</span><span class="w"> </span><span class="n">ports</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">server2</span><span class="o">.</span><span class="n">tecmint</span><span class="o">.</span><span class="n">com</span><span class="w"> </span><span class="p">(</span><span class="mf">192.168</span><span class="o">.</span><span class="mf">0.101</span><span class="p">):</span>
<span class="n">Not</span><span class="w"> </span><span class="n">shown</span><span class="p">:</span><span class="w"> </span><span class="mi">1674</span><span class="w"> </span><span class="n">closed</span><span class="w"> </span><span class="n">ports</span>
<span class="n">PORT</span><span class="w">     </span><span class="n">STATE</span><span class="w">         </span><span class="n">SERVICE</span>
<span class="mi">22</span><span class="o">/</span><span class="n">tcp</span><span class="w">   </span><span class="n">open</span><span class="o">|</span><span class="n">filtered</span><span class="w"> </span><span class="n">ssh</span>
<span class="mi">80</span><span class="o">/</span><span class="n">tcp</span><span class="w">   </span><span class="n">open</span><span class="o">|</span><span class="n">filtered</span><span class="w"> </span><span class="n">http</span>
<span class="mi">111</span><span class="o">/</span><span class="n">tcp</span><span class="w">  </span><span class="n">open</span><span class="o">|</span><span class="n">filtered</span><span class="w"> </span><span class="n">rpcbind</span>
<span class="mi">957</span><span class="o">/</span><span class="n">tcp</span><span class="w">  </span><span class="n">open</span><span class="o">|</span><span class="n">filtered</span><span class="w"> </span><span class="n">unknown</span>
<span class="mi">3306</span><span class="o">/</span><span class="n">tcp</span><span class="w"> </span><span class="n">open</span><span class="o">|</span><span class="n">filtered</span><span class="w"> </span><span class="n">mysql</span>
<span class="mi">8888</span><span class="o">/</span><span class="n">tcp</span><span class="w"> </span><span class="n">open</span><span class="o">|</span><span class="n">filtered</span><span class="w"> </span><span class="n">sun</span><span class="o">-</span><span class="n">answerbook</span>
<span class="n">MAC</span><span class="w"> </span><span class="n">Address</span><span class="p">:</span><span class="w"> </span><span class="mi">08</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">27</span><span class="p">:</span><span class="n">D9</span><span class="p">:</span><span class="mi">8</span><span class="n">E</span><span class="p">:</span><span class="n">D7</span><span class="w"> </span><span class="p">(</span><span class="n">Cadmus</span><span class="w"> </span><span class="n">Computer</span><span class="w"> </span><span class="n">Systems</span><span class="p">)</span>

<span class="n">Nmap</span><span class="w"> </span><span class="n">finished</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">IP</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="n">host</span><span class="w"> </span><span class="n">up</span><span class="p">)</span><span class="w"> </span><span class="n">scanned</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="mf">1.584</span><span class="w"> </span><span class="n">seconds</span>
<span class="n">You</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">mail</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">spool</span><span class="o">/</span><span class="n">mail</span><span class="o">/</span><span class="n">root</span>
</code></pre></div>

<p>这些就是目前<strong>NMAP</strong> 的用法，我会写出更有创造性的<strong>NMAP</strong>的第二部分(译注:原文为 I’ll be coming up more creative options of <strong>NMAP</strong> in our second part of this serious,这里serious可能为笔误，应该为series)。接着，不要走开也别忘了分享你们有价值的评论。</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>