<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>Linux系统中‘dmesg’命令处理故障和收集系统信息的7种用法</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Author: '' ‘dmesg’命令显示linux内核的环形缓冲区信息，我们可以从中获得诸如系统架构、cpu、挂载的硬件，RAM等多个运行级别的大量的系统信息。当计算机启动时，系统内核（操作系统的核心部分）将会 …" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">linux_cn</a></h1>
                <nav><ul>
                    <li><a href="/category/chuan-shan-jia-zhuan-fang">穿山甲专访</a></li>
                    <li><a href="/category/dai-ma-ying-xiong">代码英雄</a></li>
                    <li><a href="/category/fen-xiang">分享</a></li>
                    <li><a href="/category/guan-dian">观点</a></li>
                    <li><a href="/category/huo-dong">活动</a></li>
                    <li><a href="/category/ji-ke-man-hua">极客漫画</a></li>
                    <li class="active"><a href="/category/ji-zhu">技术</a></li>
                    <li><a href="/category/kai-yuan-zhi-hui">开源智慧</a></li>
                    <li><a href="/category/linux-fa-xing-ban">Linux 发行版</a></li>
                    <li><a href="/category/mei-ri-an-quan-zi-xun">每日安全资讯</a></li>
                    <li><a href="/category/misc">Misc</a></li>
                    <li><a href="/category/qu-kuai-lian">区块链</a></li>
                    <li><a href="/category/rong-qi-yu-yun">容器与云</a></li>
                    <li><a href="/category/ruan-jian-kai-fa">软件开发</a></li>
                    <li><a href="/category/shu-mei-pai">树莓派</a></li>
                    <li><a href="/category/xi-tong-yun-wei">系统运维</a></li>
                    <li><a href="/category/xin-wen">新闻</a></li>
                    <li><a href="/category/ying-he-guan-cha">硬核观察</a></li>
                    <li><a href="/category/zhi-ye-sheng-ya">职业生涯</a></li>
                    <li><a href="/category/zhong-jiang-ming-dan">中奖名单</a></li>
                    <li><a href="/category/zhuo-mian-ying-yong">桌面应用</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2014/08/linuxxi-tong-zhong-dmesgming-ling-chu-li-gu-zhang-he-shou-ji-xi-tong-xin-xi-de-7chong-yong-fa.html" rel="bookmark"
           title="Permalink to Linux系统中‘dmesg’命令处理故障和收集系统信息的7种用法">Linux系统中‘dmesg’命令处理故障和收集系统信息的7种用法</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2014-08-11T18:05:47+02:00">
                Published: Mon 11 August 2014
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/linux-fans-from-china.html">linux fans from china</a>
        </address>
<p>In <a href="/category/ji-zhu">技术</a>.</p>

</footer><!-- /.post-info -->      <p>Author: ''</p>
<p>‘dmesg’命令显示linux内核的环形缓冲区信息，我们可以从中获得诸如系统架构、cpu、挂载的硬件，RAM等多个运行级别的大量的系统信息。当计算机启动时，系统内核（操作系统的核心部分）将会被加载到内存中。在加载的过程中会显示很多的信息，在这些信息中我们可以看到内核检测硬件设备。</p>
<p><a href="https://camo.githubusercontent.com/433d31191ed6401b5285a33a5b0a6c01d439d0fe/687474703a2f2f7777772e7465636d696e742e636f6d2f77702d636f6e74656e742f75706c6f6164732f323031342f30372f646d6573672d436f6d6d616e642d4578616d706c65732e706e67"><img alt="dmesg Command Examples" src="https://camo.githubusercontent.com/433d31191ed6401b5285a33a5b0a6c01d439d0fe/687474703a2f2f7777772e7465636d696e742e636f6d2f77702d636f6e74656e742f75706c6f6164732f323031342f30372f646d6573672d436f6d6d616e642d4578616d706c65732e706e67"></a></p>
<p>dmesg 命令的使用范例</p>
<p>‘dmesg’命令设备故障的诊断是非常重要的。在‘dmesg’命令的帮助下进行硬件的连接或断开连接操作时，我们可以看到硬件的检测或者断开连接的信息。‘dmesg’命令在多数基于<strong>Linux</strong>和<strong>Unix</strong>的操作系统中都可以使用。</p>
<p>下面我们展示一些最负盛名的‘dmesg’命令工具以及其实际使用举例。‘dmesg’命令的使用语法如下。</p>
<div class="highlight"><pre><span></span><code># dmesg [options...]
</code></pre></div>

<h3>1. 列出加载到内核中的所有驱动</h3>
<p>我们可以使用如‘<strong>more</strong>’。 ‘<strong>tail</strong>’, ‘<strong>less</strong> ’或者‘<strong>grep</strong>’文字处理工具来处理‘dmesg’命令的输出。由于dmesg日志的输出不适合在一页中完全显示，因此我们使用管道（pipe）将其输出送到more或者less命令单页显示。</p>
<div class="highlight"><pre><span></span><code><span class="o">[</span><span class="n">root@tecmint.com ~</span><span class="o">]</span><span class="err">#</span><span class="w"> </span><span class="n">dmesg</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">more</span>
<span class="o">[</span><span class="n">root@tecmint.com ~</span><span class="o">]</span><span class="err">#</span><span class="w"> </span><span class="n">dmesg</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">less</span>
</code></pre></div>

<h3>输出</h3>
<div class="highlight"><pre><span></span><code><span class="o">[</span><span class="n">    0.000000</span><span class="o">]</span><span class="w"> </span><span class="n">Initializing</span><span class="w"> </span><span class="n">cgroup</span><span class="w"> </span><span class="n">subsys</span><span class="w"> </span><span class="n">cpuset</span>
<span class="o">[</span><span class="n">    0.000000</span><span class="o">]</span><span class="w"> </span><span class="n">Initializing</span><span class="w"> </span><span class="n">cgroup</span><span class="w"> </span><span class="n">subsys</span><span class="w"> </span><span class="n">cpu</span>
<span class="o">[</span><span class="n">    0.000000</span><span class="o">]</span><span class="w"> </span><span class="n">Initializing</span><span class="w"> </span><span class="n">cgroup</span><span class="w"> </span><span class="n">subsys</span><span class="w"> </span><span class="n">cpuacct</span>
<span class="o">[</span><span class="n">    0.000000</span><span class="o">]</span><span class="w"> </span><span class="n">Linux</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="mf">3.11.0</span><span class="o">-</span><span class="mi">13</span><span class="o">-</span><span class="n">generic</span><span class="w"> </span><span class="p">(</span><span class="n">buildd</span><span class="nv">@aatxe</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">gcc</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="mf">4.8.1</span><span class="w"> </span><span class="p">(</span><span class="n">Ubuntu</span><span class="o">/</span><span class="n">Linaro</span><span class="w"> </span><span class="mf">4.8.1</span><span class="o">-</span><span class="mi">10</span><span class="n">ubuntu8</span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="n">#20</span><span class="o">-</span><span class="n">Ubuntu</span><span class="w"> </span><span class="n">SMP</span><span class="w"> </span><span class="n">Wed</span><span class="w"> </span><span class="n">Oct</span><span class="w"> </span><span class="mi">23</span><span class="w"> </span><span class="mi">17</span><span class="err">:</span><span class="mi">26</span><span class="err">:</span><span class="mi">33</span><span class="w"> </span><span class="n">UTC</span><span class="w"> </span><span class="mi">2013</span><span class="w"> </span>
<span class="p">(</span><span class="n">Ubuntu</span><span class="w"> </span><span class="mf">3.11.0</span><span class="o">-</span><span class="mf">13.20</span><span class="o">-</span><span class="n">generic</span><span class="w"> </span><span class="mf">3.11.6</span><span class="p">)</span>
<span class="o">[</span><span class="n">    0.000000</span><span class="o">]</span><span class="w"> </span><span class="n">KERNEL</span><span class="w"> </span><span class="n">supported</span><span class="w"> </span><span class="nl">cpus</span><span class="p">:</span>
<span class="o">[</span><span class="n">    0.000000</span><span class="o">]</span><span class="w">   </span><span class="n">Intel</span><span class="w"> </span><span class="n">GenuineIntel</span>
<span class="o">[</span><span class="n">    0.000000</span><span class="o">]</span><span class="w">   </span><span class="n">AMD</span><span class="w"> </span><span class="n">AuthenticAMD</span>
<span class="o">[</span><span class="n">    0.000000</span><span class="o">]</span><span class="w">   </span><span class="n">NSC</span><span class="w"> </span><span class="n">Geode</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">NSC</span>
<span class="o">[</span><span class="n">    0.000000</span><span class="o">]</span><span class="w">   </span><span class="n">Cyrix</span><span class="w"> </span><span class="n">CyrixInstead</span>
<span class="o">[</span><span class="n">    0.000000</span><span class="o">]</span><span class="w">   </span><span class="n">Centaur</span><span class="w"> </span><span class="n">CentaurHauls</span>
<span class="o">[</span><span class="n">    0.000000</span><span class="o">]</span><span class="w">   </span><span class="n">Transmeta</span><span class="w"> </span><span class="n">GenuineTMx86</span>
<span class="o">[</span><span class="n">    0.000000</span><span class="o">]</span><span class="w">   </span><span class="n">Transmeta</span><span class="w"> </span><span class="n">TransmetaCPU</span>
<span class="o">[</span><span class="n">    0.000000</span><span class="o">]</span><span class="w">   </span><span class="n">UMC</span><span class="w"> </span><span class="n">UMC</span><span class="w"> </span><span class="n">UMC</span><span class="w"> </span><span class="n">UMC</span>
<span class="o">[</span><span class="n">    0.000000</span><span class="o">]</span><span class="w"> </span><span class="nl">e820</span><span class="p">:</span><span class="w"> </span><span class="n">BIOS</span><span class="o">-</span><span class="n">provided</span><span class="w"> </span><span class="n">physical</span><span class="w"> </span><span class="n">RAM</span><span class="w"> </span><span class="k">map</span><span class="err">:</span>
<span class="o">[</span><span class="n">    0.000000</span><span class="o">]</span><span class="w"> </span><span class="n">BIOS</span><span class="o">-</span><span class="nl">e820</span><span class="p">:</span><span class="w"> </span><span class="o">[</span><span class="n">mem 0x0000000000000000-0x000000000009fbff</span><span class="o">]</span><span class="w"> </span><span class="n">usable</span>
<span class="o">[</span><span class="n">    0.000000</span><span class="o">]</span><span class="w"> </span><span class="n">BIOS</span><span class="o">-</span><span class="nl">e820</span><span class="p">:</span><span class="w"> </span><span class="o">[</span><span class="n">mem 0x00000000000f0000-0x00000000000fffff</span><span class="o">]</span><span class="w"> </span><span class="n">reserved</span>
<span class="o">[</span><span class="n">    0.000000</span><span class="o">]</span><span class="w"> </span><span class="n">BIOS</span><span class="o">-</span><span class="nl">e820</span><span class="p">:</span><span class="w"> </span><span class="o">[</span><span class="n">mem 0x0000000000100000-0x000000007dc08bff</span><span class="o">]</span><span class="w"> </span><span class="n">usable</span>
<span class="o">[</span><span class="n">    0.000000</span><span class="o">]</span><span class="w"> </span><span class="n">BIOS</span><span class="o">-</span><span class="nl">e820</span><span class="p">:</span><span class="w"> </span><span class="o">[</span><span class="n">mem 0x000000007dc08c00-0x000000007dc5cbff</span><span class="o">]</span><span class="w"> </span><span class="n">ACPI</span><span class="w"> </span><span class="n">NVS</span>
<span class="o">[</span><span class="n">    0.000000</span><span class="o">]</span><span class="w"> </span><span class="n">BIOS</span><span class="o">-</span><span class="nl">e820</span><span class="p">:</span><span class="w"> </span><span class="o">[</span><span class="n">mem 0x000000007dc5cc00-0x000000007dc5ebff</span><span class="o">]</span><span class="w"> </span><span class="n">ACPI</span><span class="w"> </span><span class="k">data</span>
<span class="o">[</span><span class="n">    0.000000</span><span class="o">]</span><span class="w"> </span><span class="n">BIOS</span><span class="o">-</span><span class="nl">e820</span><span class="p">:</span><span class="w"> </span><span class="o">[</span><span class="n">mem 0x000000007dc5ec00-0x000000007fffffff</span><span class="o">]</span><span class="w"> </span><span class="n">reserved</span>
<span class="o">[</span><span class="n">    0.000000</span><span class="o">]</span><span class="w"> </span><span class="n">BIOS</span><span class="o">-</span><span class="nl">e820</span><span class="p">:</span><span class="w"> </span><span class="o">[</span><span class="n">mem 0x00000000e0000000-0x00000000efffffff</span><span class="o">]</span><span class="w"> </span><span class="n">reserved</span>
<span class="o">[</span><span class="n">    0.000000</span><span class="o">]</span><span class="w"> </span><span class="n">BIOS</span><span class="o">-</span><span class="nl">e820</span><span class="p">:</span><span class="w"> </span><span class="o">[</span><span class="n">mem 0x00000000fec00000-0x00000000fed003ff</span><span class="o">]</span><span class="w"> </span><span class="n">reserved</span>
<span class="o">[</span><span class="n">    0.000000</span><span class="o">]</span><span class="w"> </span><span class="n">BIOS</span><span class="o">-</span><span class="nl">e820</span><span class="p">:</span><span class="w"> </span><span class="o">[</span><span class="n">mem 0x00000000fed20000-0x00000000fed9ffff</span><span class="o">]</span><span class="w"> </span><span class="n">reserved</span>
<span class="o">[</span><span class="n">    0.000000</span><span class="o">]</span><span class="w"> </span><span class="n">BIOS</span><span class="o">-</span><span class="nl">e820</span><span class="p">:</span><span class="w"> </span><span class="o">[</span><span class="n">mem 0x00000000fee00000-0x00000000feefffff</span><span class="o">]</span><span class="w"> </span><span class="n">reserved</span>
<span class="o">[</span><span class="n">    0.000000</span><span class="o">]</span><span class="w"> </span><span class="n">BIOS</span><span class="o">-</span><span class="nl">e820</span><span class="p">:</span><span class="w"> </span><span class="o">[</span><span class="n">mem 0x00000000ffb00000-0x00000000ffffffff</span><span class="o">]</span><span class="w"> </span><span class="n">reserved</span>
<span class="o">[</span><span class="n">    0.000000</span><span class="o">]</span><span class="w"> </span><span class="n">NX</span><span class="w"> </span><span class="p">(</span><span class="k">Execute</span><span class="w"> </span><span class="n">Disable</span><span class="p">)</span><span class="w"> </span><span class="nl">protection</span><span class="p">:</span><span class="w"> </span><span class="n">active</span>
<span class="p">.....</span>
</code></pre></div>

<h3>2. 列出所有被检测到的硬件</h3>
<p>要显示所有被内核检测到的硬盘设备，你可以使用‘<strong>grep</strong>’命令搜索‘<strong>sda</strong>’关键词，如下：</p>
<div class="highlight"><pre><span></span><code><span class="o">[</span><span class="n">root@tecmint.com ~</span><span class="o">]</span><span class="err">#</span><span class="w"> </span><span class="n">dmesg</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">grep</span><span class="w"> </span><span class="n">sda</span>

<span class="o">[</span><span class="n">    1.280971</span><span class="o">]</span><span class="w"> </span><span class="n">sd</span><span class="w"> </span><span class="mi">2</span><span class="err">:</span><span class="mi">0</span><span class="err">:</span><span class="mi">0</span><span class="err">:</span><span class="mi">0</span><span class="err">:</span><span class="w"> </span><span class="o">[</span><span class="n">sda</span><span class="o">]</span><span class="w"> </span><span class="mi">488281250</span><span class="w"> </span><span class="mi">512</span><span class="o">-</span><span class="n">byte</span><span class="w"> </span><span class="n">logical</span><span class="w"> </span><span class="nl">blocks</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="mi">250</span><span class="w"> </span><span class="n">GB</span><span class="o">/</span><span class="mi">232</span><span class="w"> </span><span class="n">GiB</span><span class="p">)</span>
<span class="o">[</span><span class="n">    1.281014</span><span class="o">]</span><span class="w"> </span><span class="n">sd</span><span class="w"> </span><span class="mi">2</span><span class="err">:</span><span class="mi">0</span><span class="err">:</span><span class="mi">0</span><span class="err">:</span><span class="mi">0</span><span class="err">:</span><span class="w"> </span><span class="o">[</span><span class="n">sda</span><span class="o">]</span><span class="w"> </span><span class="k">Write</span><span class="w"> </span><span class="n">Protect</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">off</span>
<span class="o">[</span><span class="n">    1.281016</span><span class="o">]</span><span class="w"> </span><span class="n">sd</span><span class="w"> </span><span class="mi">2</span><span class="err">:</span><span class="mi">0</span><span class="err">:</span><span class="mi">0</span><span class="err">:</span><span class="mi">0</span><span class="err">:</span><span class="w"> </span><span class="o">[</span><span class="n">sda</span><span class="o">]</span><span class="w"> </span><span class="n">Mode</span><span class="w"> </span><span class="nl">Sense</span><span class="p">:</span><span class="w"> </span><span class="mi">00</span><span class="w"> </span><span class="mi">3</span><span class="n">a</span><span class="w"> </span><span class="mi">00</span><span class="w"> </span><span class="mi">00</span>
<span class="o">[</span><span class="n">    1.281039</span><span class="o">]</span><span class="w"> </span><span class="n">sd</span><span class="w"> </span><span class="mi">2</span><span class="err">:</span><span class="mi">0</span><span class="err">:</span><span class="mi">0</span><span class="err">:</span><span class="mi">0</span><span class="err">:</span><span class="w"> </span><span class="o">[</span><span class="n">sda</span><span class="o">]</span><span class="w"> </span><span class="k">Write</span><span class="w"> </span><span class="nl">cache</span><span class="p">:</span><span class="w"> </span><span class="n">enabled</span><span class="p">,</span><span class="w"> </span><span class="k">read</span><span class="w"> </span><span class="nl">cache</span><span class="p">:</span><span class="w"> </span><span class="n">enabled</span><span class="p">,</span><span class="w"> </span><span class="n">doesn</span><span class="err">&#39;</span><span class="n">t</span><span class="w"> </span><span class="n">support</span><span class="w"> </span><span class="n">DPO</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">FUA</span>
<span class="o">[</span><span class="n">    1.359585</span><span class="o">]</span><span class="w">  </span><span class="nl">sda</span><span class="p">:</span><span class="w"> </span><span class="n">sda1</span><span class="w"> </span><span class="n">sda2</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">sda5</span><span class="w"> </span><span class="n">sda6</span><span class="w"> </span><span class="n">sda7</span><span class="w"> </span><span class="n">sda8</span><span class="w"> </span><span class="o">&gt;</span>
<span class="o">[</span><span class="n">    1.360052</span><span class="o">]</span><span class="w"> </span><span class="n">sd</span><span class="w"> </span><span class="mi">2</span><span class="err">:</span><span class="mi">0</span><span class="err">:</span><span class="mi">0</span><span class="err">:</span><span class="mi">0</span><span class="err">:</span><span class="w"> </span><span class="o">[</span><span class="n">sda</span><span class="o">]</span><span class="w"> </span><span class="n">Attached</span><span class="w"> </span><span class="n">SCSI</span><span class="w"> </span><span class="k">disk</span>
<span class="o">[</span><span class="n">    2.347887</span><span class="o">]</span><span class="w"> </span><span class="n">EXT4</span><span class="o">-</span><span class="n">fs</span><span class="w"> </span><span class="p">(</span><span class="n">sda1</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">mounted</span><span class="w"> </span><span class="n">filesystem</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">ordered</span><span class="w"> </span><span class="k">data</span><span class="w"> </span><span class="n">mode</span><span class="p">.</span><span class="w"> </span><span class="nl">Opts</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="k">null</span><span class="p">)</span>
<span class="o">[</span><span class="n">   22.928440</span><span class="o">]</span><span class="w"> </span><span class="n">Adding</span><span class="w"> </span><span class="mi">3905532</span><span class="n">k</span><span class="w"> </span><span class="n">swap</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">sda6</span><span class="p">.</span><span class="w">  </span><span class="nl">Priority</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="nl">extents</span><span class="p">:</span><span class="mi">1</span><span class="w"> </span><span class="nl">across</span><span class="p">:</span><span class="mi">3905532</span><span class="n">k</span><span class="w"> </span><span class="n">FS</span>
<span class="o">[</span><span class="n">   23.950543</span><span class="o">]</span><span class="w"> </span><span class="n">EXT4</span><span class="o">-</span><span class="n">fs</span><span class="w"> </span><span class="p">(</span><span class="n">sda1</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">re</span><span class="o">-</span><span class="n">mounted</span><span class="p">.</span><span class="w"> </span><span class="nl">Opts</span><span class="p">:</span><span class="w"> </span><span class="n">errors</span><span class="o">=</span><span class="n">remount</span><span class="o">-</span><span class="n">ro</span>
<span class="o">[</span><span class="n">   24.134016</span><span class="o">]</span><span class="w"> </span><span class="n">EXT4</span><span class="o">-</span><span class="n">fs</span><span class="w"> </span><span class="p">(</span><span class="n">sda5</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">mounted</span><span class="w"> </span><span class="n">filesystem</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">ordered</span><span class="w"> </span><span class="k">data</span><span class="w"> </span><span class="n">mode</span><span class="p">.</span><span class="w"> </span><span class="nl">Opts</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="k">null</span><span class="p">)</span>
<span class="o">[</span><span class="n">   24.330762</span><span class="o">]</span><span class="w"> </span><span class="n">EXT4</span><span class="o">-</span><span class="n">fs</span><span class="w"> </span><span class="p">(</span><span class="n">sda7</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">mounted</span><span class="w"> </span><span class="n">filesystem</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">ordered</span><span class="w"> </span><span class="k">data</span><span class="w"> </span><span class="n">mode</span><span class="p">.</span><span class="w"> </span><span class="nl">Opts</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="k">null</span><span class="p">)</span>
<span class="o">[</span><span class="n">   24.561015</span><span class="o">]</span><span class="w"> </span><span class="n">EXT4</span><span class="o">-</span><span class="n">fs</span><span class="w"> </span><span class="p">(</span><span class="n">sda8</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">mounted</span><span class="w"> </span><span class="n">filesystem</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">ordered</span><span class="w"> </span><span class="k">data</span><span class="w"> </span><span class="n">mode</span><span class="p">.</span><span class="w"> </span><span class="nl">Opts</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="k">null</span><span class="p">)</span>
</code></pre></div>

<p><strong>注解</strong> ‘sda’表示第一块 SATA硬盘，‘sdb’表示第二块SATA硬盘。若想查看IDE硬盘搜索‘hda’或‘hdb’关键词。</p>
<h3>3. 只输出dmesg命令的前20行日志</h3>
<p>在‘dmesg’命令后跟随‘head’命令来显示开始几行，‘dmesg | head -20′命令将显示开始的前20行。</p>
<div class="highlight"><pre><span></span><code><span class="o">[</span><span class="n">root@tecmint.com ~</span><span class="o">]</span><span class="err">#</span><span class="w"> </span><span class="n">dmesg</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">head</span><span class="w">  </span><span class="o">-</span><span class="mi">20</span>

<span class="o">[</span><span class="n">    0.000000</span><span class="o">]</span><span class="w"> </span><span class="n">Initializing</span><span class="w"> </span><span class="n">cgroup</span><span class="w"> </span><span class="n">subsys</span><span class="w"> </span><span class="n">cpuset</span>
<span class="o">[</span><span class="n">    0.000000</span><span class="o">]</span><span class="w"> </span><span class="n">Initializing</span><span class="w"> </span><span class="n">cgroup</span><span class="w"> </span><span class="n">subsys</span><span class="w"> </span><span class="n">cpu</span>
<span class="o">[</span><span class="n">    0.000000</span><span class="o">]</span><span class="w"> </span><span class="n">Initializing</span><span class="w"> </span><span class="n">cgroup</span><span class="w"> </span><span class="n">subsys</span><span class="w"> </span><span class="n">cpuacct</span>
<span class="o">[</span><span class="n">    0.000000</span><span class="o">]</span><span class="w"> </span><span class="n">Linux</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="mf">3.11.0</span><span class="o">-</span><span class="mi">13</span><span class="o">-</span><span class="n">generic</span><span class="w"> </span><span class="p">(</span><span class="n">buildd</span><span class="nv">@aatxe</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">gcc</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="mf">4.8.1</span><span class="w"> </span><span class="p">(</span><span class="n">Ubuntu</span><span class="o">/</span><span class="n">Linaro</span><span class="w"> </span><span class="mf">4.8.1</span><span class="o">-</span><span class="mi">10</span><span class="n">ubuntu8</span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="n">#20</span><span class="o">-</span><span class="n">Ubuntu</span><span class="w"> </span><span class="n">SMP</span><span class="w"> </span><span class="n">Wed</span><span class="w"> </span><span class="n">Oct</span><span class="w"> </span><span class="mi">23</span><span class="w"> </span><span class="mi">17</span><span class="err">:</span><span class="mi">26</span><span class="err">:</span><span class="mi">33</span><span class="w"> </span><span class="n">UTC</span><span class="w"> </span><span class="mi">2013</span><span class="w"> </span><span class="p">(</span><span class="n">Ubuntu</span><span class="w"> </span><span class="mf">3.11.0</span><span class="o">-</span><span class="mf">13.20</span><span class="o">-</span><span class="n">generic</span><span class="w"> </span><span class="mf">3.11.6</span><span class="p">)</span>
<span class="o">[</span><span class="n">    0.000000</span><span class="o">]</span><span class="w"> </span><span class="n">KERNEL</span><span class="w"> </span><span class="n">supported</span><span class="w"> </span><span class="nl">cpus</span><span class="p">:</span>
<span class="o">[</span><span class="n">    0.000000</span><span class="o">]</span><span class="w">   </span><span class="n">Intel</span><span class="w"> </span><span class="n">GenuineIntel</span>
<span class="o">[</span><span class="n">    0.000000</span><span class="o">]</span><span class="w">   </span><span class="n">AMD</span><span class="w"> </span><span class="n">AuthenticAMD</span>
<span class="o">[</span><span class="n">    0.000000</span><span class="o">]</span><span class="w">   </span><span class="n">NSC</span><span class="w"> </span><span class="n">Geode</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">NSC</span>
<span class="o">[</span><span class="n">    0.000000</span><span class="o">]</span><span class="w">   </span><span class="n">Cyrix</span><span class="w"> </span><span class="n">CyrixInstead</span>
<span class="o">[</span><span class="n">    0.000000</span><span class="o">]</span><span class="w">   </span><span class="n">Centaur</span><span class="w"> </span><span class="n">CentaurHauls</span>
<span class="o">[</span><span class="n">    0.000000</span><span class="o">]</span><span class="w">   </span><span class="n">Transmeta</span><span class="w"> </span><span class="n">GenuineTMx86</span>
<span class="o">[</span><span class="n">    0.000000</span><span class="o">]</span><span class="w">   </span><span class="n">Transmeta</span><span class="w"> </span><span class="n">TransmetaCPU</span>
<span class="o">[</span><span class="n">    0.000000</span><span class="o">]</span><span class="w">   </span><span class="n">UMC</span><span class="w"> </span><span class="n">UMC</span><span class="w"> </span><span class="n">UMC</span><span class="w"> </span><span class="n">UMC</span>
<span class="o">[</span><span class="n">    0.000000</span><span class="o">]</span><span class="w"> </span><span class="nl">e820</span><span class="p">:</span><span class="w"> </span><span class="n">BIOS</span><span class="o">-</span><span class="n">provided</span><span class="w"> </span><span class="n">physical</span><span class="w"> </span><span class="n">RAM</span><span class="w"> </span><span class="k">map</span><span class="err">:</span>
<span class="o">[</span><span class="n">    0.000000</span><span class="o">]</span><span class="w"> </span><span class="n">BIOS</span><span class="o">-</span><span class="nl">e820</span><span class="p">:</span><span class="w"> </span><span class="o">[</span><span class="n">mem 0x0000000000000000-0x000000000009fbff</span><span class="o">]</span><span class="w"> </span><span class="n">usable</span>
<span class="o">[</span><span class="n">    0.000000</span><span class="o">]</span><span class="w"> </span><span class="n">BIOS</span><span class="o">-</span><span class="nl">e820</span><span class="p">:</span><span class="w"> </span><span class="o">[</span><span class="n">mem 0x00000000000f0000-0x00000000000fffff</span><span class="o">]</span><span class="w"> </span><span class="n">reserved</span>
<span class="o">[</span><span class="n">    0.000000</span><span class="o">]</span><span class="w"> </span><span class="n">BIOS</span><span class="o">-</span><span class="nl">e820</span><span class="p">:</span><span class="w"> </span><span class="o">[</span><span class="n">mem 0x0000000000100000-0x000000007dc08bff</span><span class="o">]</span><span class="w"> </span><span class="n">usable</span>
<span class="o">[</span><span class="n">    0.000000</span><span class="o">]</span><span class="w"> </span><span class="n">BIOS</span><span class="o">-</span><span class="nl">e820</span><span class="p">:</span><span class="w"> </span><span class="o">[</span><span class="n">mem 0x000000007dc08c00-0x000000007dc5cbff</span><span class="o">]</span><span class="w"> </span><span class="n">ACPI</span><span class="w"> </span><span class="n">NVS</span>
<span class="o">[</span><span class="n">    0.000000</span><span class="o">]</span><span class="w"> </span><span class="n">BIOS</span><span class="o">-</span><span class="nl">e820</span><span class="p">:</span><span class="w"> </span><span class="o">[</span><span class="n">mem 0x000000007dc5cc00-0x000000007dc5ebff</span><span class="o">]</span><span class="w"> </span><span class="n">ACPI</span><span class="w"> </span><span class="k">data</span>
<span class="o">[</span><span class="n">    0.000000</span><span class="o">]</span><span class="w"> </span><span class="n">BIOS</span><span class="o">-</span><span class="nl">e820</span><span class="p">:</span><span class="w"> </span><span class="o">[</span><span class="n">mem 0x000000007dc5ec00-0x000000007fffffff</span><span class="o">]</span><span class="w"> </span><span class="n">reserved</span>
</code></pre></div>

<h3>4. 只输出dmesg命令最后20行日志</h3>
<p>在‘dmesg’命令后跟随‘tail’命令（‘ dmesg | tail -20’）来输出‘dmesg’命令的最后20行日志，当你插入可移动设备时它是非常有用的。</p>
<div class="highlight"><pre><span></span><code><span class="p">[</span><span class="s s-Atom">root@tecmint</span><span class="p">.</span><span class="s s-Atom">com</span> <span class="o">~</span><span class="p">]</span><span class="s s-Atom">#</span> <span class="s s-Atom">dmesg</span> <span class="p">|</span> <span class="s s-Atom">tail</span> <span class="o">-</span><span class="mi">20</span>

<span class="s s-Atom">parport0</span><span class="o">:</span> <span class="nv">PC</span><span class="o">-</span><span class="s s-Atom">style</span> <span class="s s-Atom">at</span> <span class="mh">0x378</span><span class="p">,</span> <span class="s s-Atom">irq</span> <span class="mi">7</span> <span class="p">[</span><span class="nv">PCSPP</span><span class="p">,</span><span class="nv">TRISTATE</span><span class="p">]</span>
<span class="s s-Atom">ppdev</span><span class="p">:</span> <span class="nb">user</span><span class="o">-</span><span class="s s-Atom">space</span> <span class="s s-Atom">parallel</span> <span class="s s-Atom">port</span> <span class="s s-Atom">driver</span>
<span class="nv">EXT4</span><span class="o">-</span><span class="nf">fs</span> <span class="p">(</span><span class="s s-Atom">sda1</span><span class="p">)</span><span class="o">:</span> <span class="s s-Atom">mounted</span> <span class="s s-Atom">filesystem</span> <span class="s s-Atom">with</span> <span class="s s-Atom">ordered</span> <span class="s s-Atom">data</span> <span class="s s-Atom">mode</span>
<span class="nv">Adding</span> <span class="mi">2097144</span><span class="s s-Atom">k</span> <span class="s s-Atom">swap</span> <span class="s s-Atom">on</span> <span class="o">/</span><span class="s s-Atom">dev</span><span class="o">/</span><span class="s s-Atom">sda2</span><span class="p">.</span>  <span class="nv">Priority</span><span class="o">:-</span><span class="mi">1</span> <span class="s s-Atom">extents</span><span class="p">:</span><span class="mi">1</span> <span class="s s-Atom">across</span><span class="p">:</span><span class="mi">2097144</span><span class="s s-Atom">k</span>
<span class="s s-Atom">readahead</span><span class="o">-</span><span class="s s-Atom">disable</span><span class="o">-</span><span class="s s-Atom">service</span><span class="p">:</span> <span class="s s-Atom">delaying</span> <span class="s s-Atom">service</span> <span class="s s-Atom">auditd</span>
<span class="s s-Atom">ip_tables</span><span class="o">:</span> <span class="p">(</span><span class="nv">C</span><span class="p">)</span> <span class="mi">2000</span><span class="o">-</span><span class="mi">2006</span> <span class="nv">Netfilter</span> <span class="nv">Core</span> <span class="nv">Team</span>
<span class="s s-Atom">nf_conntrack</span> <span class="s s-Atom">version</span> <span class="mf">0.5.0</span> <span class="p">(</span><span class="mi">16384</span> <span class="s s-Atom">buckets</span><span class="p">,</span> <span class="mi">65536</span> <span class="s s-Atom">max</span><span class="p">)</span>
<span class="nv">NET</span><span class="o">:</span> <span class="nv">Registered</span> <span class="s s-Atom">protocol</span> <span class="s s-Atom">family</span> <span class="mi">10</span>
<span class="s s-Atom">lo</span><span class="p">:</span> <span class="nv">Disabled</span> <span class="nv">Privacy</span> <span class="nv">Extensions</span>
<span class="s s-Atom">e1000</span><span class="o">:</span> <span class="s s-Atom">eth0</span> <span class="nv">NIC</span> <span class="nv">Link</span> <span class="o">is</span> <span class="nv">Up</span> <span class="mi">1000</span> <span class="nv">Mbps</span> <span class="nv">Full</span> <span class="nv">Duplex</span><span class="p">,</span> <span class="nv">Flow</span> <span class="nv">Control</span><span class="o">:</span> <span class="nv">None</span>
<span class="nv">Slow</span> <span class="s s-Atom">work</span> <span class="s s-Atom">thread</span> <span class="s s-Atom">pool</span><span class="p">:</span> <span class="nv">Starting</span> <span class="s s-Atom">up</span>
<span class="nv">Slow</span> <span class="s s-Atom">work</span> <span class="s s-Atom">thread</span> <span class="s s-Atom">pool</span><span class="p">:</span> <span class="nv">Ready</span>
<span class="nv">FS</span><span class="o">-</span><span class="nv">Cache</span><span class="o">:</span> <span class="nv">Loaded</span>
<span class="nv">CacheFiles</span><span class="o">:</span> <span class="nv">Loaded</span>
<span class="nv">CacheFiles</span><span class="o">:</span> <span class="nv">Security</span> <span class="s s-Atom">denies</span> <span class="s s-Atom">permission</span> <span class="s s-Atom">to</span> <span class="s s-Atom">nominate</span> <span class="s s-Atom">security</span> <span class="s s-Atom">context</span><span class="p">:</span> <span class="s s-Atom">error</span> <span class="o">-</span><span class="mi">95</span>
<span class="s s-Atom">eth0</span><span class="o">:</span> <span class="s s-Atom">no</span> <span class="nv">IPv6</span> <span class="s s-Atom">routers</span> <span class="s s-Atom">present</span>
<span class="s s-Atom">type</span><span class="o">=</span><span class="mi">1305</span> <span class="nf">audit</span><span class="p">(</span><span class="mf">1398268784.593</span><span class="o">:</span><span class="mi">18630</span><span class="p">)</span><span class="o">:</span> <span class="s s-Atom">audit_enabled</span><span class="o">=</span><span class="mi">0</span> <span class="s s-Atom">old</span><span class="o">=</span><span class="mi">1</span> <span class="s s-Atom">auid</span><span class="o">=</span><span class="mi">4294967295</span> <span class="s s-Atom">ses</span><span class="o">=</span><span class="mi">4294967295</span> <span class="s s-Atom">res</span><span class="o">=</span><span class="mi">1</span>
<span class="s s-Atom">readahead</span><span class="o">-</span><span class="s s-Atom">collector</span><span class="p">:</span> <span class="s s-Atom">starting</span> <span class="s s-Atom">delayed</span> <span class="s s-Atom">service</span> <span class="s s-Atom">auditd</span>
<span class="s s-Atom">readahead</span><span class="o">-</span><span class="s s-Atom">collector</span><span class="p">:</span> <span class="s s-Atom">sorting</span>
<span class="s s-Atom">readahead</span><span class="o">-</span><span class="s s-Atom">collector</span><span class="p">:</span> <span class="s s-Atom">finished</span>
</code></pre></div>

<h3>5. 搜索包含特定字符串的被检测到的硬件</h3>
<p>由于‘dmesg’命令的输出实在太长了，在其中搜索某个特定的字符串是非常困难的。因此，有必要过滤出一些包含‘<strong>usb</strong>’ ‘<strong>dma</strong>’ ‘<strong>tty</strong>’ ‘<strong>memory</strong>’等字符串的日志行。<a href="http://www.tecmint.com/12-practical-examples-of-linux-grep-command/">grep 命令</a> 的‘<strong>-i</strong>’选项表示忽略大小写。</p>
<div class="highlight"><pre><span></span><code><span class="o">[</span><span class="n">root@tecmint.com log</span><span class="o">]</span><span class="err">#</span><span class="w"> </span><span class="n">dmesg</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">grep</span><span class="w"> </span><span class="o">-</span><span class="n">i</span><span class="w"> </span><span class="n">usb</span>
<span class="o">[</span><span class="n">root@tecmint.com log</span><span class="o">]</span><span class="err">#</span><span class="w"> </span><span class="n">dmesg</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">grep</span><span class="w"> </span><span class="o">-</span><span class="n">i</span><span class="w"> </span><span class="n">dma</span>
<span class="o">[</span><span class="n">root@tecmint.com log</span><span class="o">]</span><span class="err">#</span><span class="w"> </span><span class="n">dmesg</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">grep</span><span class="w"> </span><span class="o">-</span><span class="n">i</span><span class="w"> </span><span class="n">tty</span>
<span class="o">[</span><span class="n">root@tecmint.com log</span><span class="o">]</span><span class="err">#</span><span class="w"> </span><span class="n">dmesg</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">grep</span><span class="w"> </span><span class="o">-</span><span class="n">i</span><span class="w"> </span><span class="n">memory</span>
</code></pre></div>

<h3>输出</h3>
<div class="highlight"><pre><span></span><code><span class="o">[</span><span class="n">    0.000000</span><span class="o">]</span><span class="w"> </span><span class="n">Scanning</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">areas</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">low</span><span class="w"> </span><span class="n">memory</span><span class="w"> </span><span class="n">corruption</span>
<span class="o">[</span><span class="n">    0.000000</span><span class="o">]</span><span class="w"> </span><span class="n">initial</span><span class="w"> </span><span class="n">memory</span><span class="w"> </span><span class="nl">mapped</span><span class="p">:</span><span class="w"> </span><span class="o">[</span><span class="n">mem 0x00000000-0x01ffffff</span><span class="o">]</span>
<span class="o">[</span><span class="n">    0.000000</span><span class="o">]</span><span class="w"> </span><span class="n">Base</span><span class="w"> </span><span class="n">memory</span><span class="w"> </span><span class="n">trampoline</span><span class="w"> </span><span class="k">at</span><span class="w"> </span><span class="o">[</span><span class="n">c009b000</span><span class="o">]</span><span class="w"> </span><span class="mi">9</span><span class="n">b000</span><span class="w"> </span><span class="k">size</span><span class="w"> </span><span class="mi">16384</span>
<span class="o">[</span><span class="n">    0.000000</span><span class="o">]</span><span class="w"> </span><span class="nl">init_memory_mapping</span><span class="p">:</span><span class="w"> </span><span class="o">[</span><span class="n">mem 0x00000000-0x000fffff</span><span class="o">]</span>
<span class="o">[</span><span class="n">    0.000000</span><span class="o">]</span><span class="w"> </span><span class="nl">init_memory_mapping</span><span class="p">:</span><span class="w"> </span><span class="o">[</span><span class="n">mem 0x37800000-0x379fffff</span><span class="o">]</span>
<span class="o">[</span><span class="n">    0.000000</span><span class="o">]</span><span class="w"> </span><span class="nl">init_memory_mapping</span><span class="p">:</span><span class="w"> </span><span class="o">[</span><span class="n">mem 0x34000000-0x377fffff</span><span class="o">]</span>
<span class="o">[</span><span class="n">    0.000000</span><span class="o">]</span><span class="w"> </span><span class="nl">init_memory_mapping</span><span class="p">:</span><span class="w"> </span><span class="o">[</span><span class="n">mem 0x00100000-0x33ffffff</span><span class="o">]</span>
<span class="o">[</span><span class="n">    0.000000</span><span class="o">]</span><span class="w"> </span><span class="nl">init_memory_mapping</span><span class="p">:</span><span class="w"> </span><span class="o">[</span><span class="n">mem 0x37a00000-0x37bfdfff</span><span class="o">]</span>
<span class="o">[</span><span class="n">    0.000000</span><span class="o">]</span><span class="w"> </span><span class="n">Early</span><span class="w"> </span><span class="n">memory</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="n">ranges</span>
<span class="o">[</span><span class="n">    0.000000</span><span class="o">]</span><span class="w"> </span><span class="nl">PM</span><span class="p">:</span><span class="w"> </span><span class="n">Registered</span><span class="w"> </span><span class="n">nosave</span><span class="w"> </span><span class="nl">memory</span><span class="p">:</span><span class="w"> </span><span class="o">[</span><span class="n">mem 0x0009f000-0x000effff</span><span class="o">]</span>
<span class="o">[</span><span class="n">    0.000000</span><span class="o">]</span><span class="w"> </span><span class="nl">PM</span><span class="p">:</span><span class="w"> </span><span class="n">Registered</span><span class="w"> </span><span class="n">nosave</span><span class="w"> </span><span class="nl">memory</span><span class="p">:</span><span class="w"> </span><span class="o">[</span><span class="n">mem 0x000f0000-0x000fffff</span><span class="o">]</span>
<span class="o">[</span><span class="n">    0.000000</span><span class="o">]</span><span class="w"> </span><span class="n">please</span><span class="w"> </span><span class="k">try</span><span class="w"> </span><span class="s1">&#39;cgroup_disable=memory&#39;</span><span class="w"> </span><span class="k">option</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">don</span><span class="err">&#39;</span><span class="n">t</span><span class="w"> </span><span class="n">want</span><span class="w"> </span><span class="n">memory</span><span class="w"> </span><span class="n">cgroups</span>
<span class="o">[</span><span class="n">    0.000000</span><span class="o">]</span><span class="w"> </span><span class="nl">Memory</span><span class="p">:</span><span class="w"> </span><span class="mi">2003288</span><span class="n">K</span><span class="o">/</span><span class="mi">2059928</span><span class="n">K</span><span class="w"> </span><span class="n">available</span><span class="w"> </span><span class="p">(</span><span class="mi">6352</span><span class="n">K</span><span class="w"> </span><span class="n">kernel</span><span class="w"> </span><span class="n">code</span><span class="p">,</span><span class="w"> </span><span class="mi">607</span><span class="n">K</span><span class="w"> </span><span class="n">rwdata</span><span class="p">,</span><span class="w"> </span><span class="mi">2640</span><span class="n">K</span><span class="w"> </span><span class="n">rodata</span><span class="p">,</span><span class="w"> </span><span class="mi">880</span><span class="n">K</span><span class="w"> </span><span class="n">init</span><span class="p">,</span><span class="w"> </span><span class="mi">908</span><span class="n">K</span><span class="w"> </span><span class="n">bss</span><span class="p">,</span><span class="w"> </span><span class="mi">56640</span><span class="n">K</span><span class="w"> </span><span class="n">reserved</span><span class="p">,</span><span class="w"> </span><span class="mi">1146920</span><span class="n">K</span><span class="w"> </span><span class="n">highmem</span><span class="p">)</span>
<span class="o">[</span><span class="n">    0.000000</span><span class="o">]</span><span class="w"> </span><span class="n">virtual</span><span class="w"> </span><span class="n">kernel</span><span class="w"> </span><span class="n">memory</span><span class="w"> </span><span class="nl">layout</span><span class="p">:</span>
<span class="o">[</span><span class="n">    0.004291</span><span class="o">]</span><span class="w"> </span><span class="n">Initializing</span><span class="w"> </span><span class="n">cgroup</span><span class="w"> </span><span class="n">subsys</span><span class="w"> </span><span class="n">memory</span>
<span class="o">[</span><span class="n">    0.004609</span><span class="o">]</span><span class="w"> </span><span class="n">Freeing</span><span class="w"> </span><span class="n">SMP</span><span class="w"> </span><span class="n">alternatives</span><span class="w"> </span><span class="nl">memory</span><span class="p">:</span><span class="w"> </span><span class="mi">28</span><span class="n">K</span><span class="w"> </span><span class="p">(</span><span class="n">c1a3e000</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">c1a45000</span><span class="p">)</span>
<span class="o">[</span><span class="n">    0.899622</span><span class="o">]</span><span class="w"> </span><span class="n">Freeing</span><span class="w"> </span><span class="n">initrd</span><span class="w"> </span><span class="nl">memory</span><span class="p">:</span><span class="w"> </span><span class="mi">23616</span><span class="n">K</span><span class="w"> </span><span class="p">(</span><span class="n">f51d0000</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">f68e0000</span><span class="p">)</span>
<span class="o">[</span><span class="n">    0.899813</span><span class="o">]</span><span class="w"> </span><span class="n">Scanning</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">low</span><span class="w"> </span><span class="n">memory</span><span class="w"> </span><span class="n">corruption</span><span class="w"> </span><span class="k">every</span><span class="w"> </span><span class="mi">60</span><span class="w"> </span><span class="n">seconds</span>
<span class="o">[</span><span class="n">    0.946323</span><span class="o">]</span><span class="w"> </span><span class="n">agpgart</span><span class="o">-</span><span class="n">intel</span><span class="w"> </span><span class="mi">0000</span><span class="err">:</span><span class="mi">00</span><span class="err">:</span><span class="mf">00.0</span><span class="err">:</span><span class="w"> </span><span class="n">detected</span><span class="w"> </span><span class="mi">32768</span><span class="n">K</span><span class="w"> </span><span class="n">stolen</span><span class="w"> </span><span class="n">memory</span>
<span class="o">[</span><span class="n">    1.360318</span><span class="o">]</span><span class="w"> </span><span class="n">Freeing</span><span class="w"> </span><span class="n">unused</span><span class="w"> </span><span class="n">kernel</span><span class="w"> </span><span class="nl">memory</span><span class="p">:</span><span class="w"> </span><span class="mi">880</span><span class="n">K</span><span class="w"> </span><span class="p">(</span><span class="n">c1962000</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">c1a3e000</span><span class="p">)</span>
<span class="o">[</span><span class="n">    1.429066</span><span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="n">drm</span><span class="o">]</span><span class="w"> </span><span class="n">Memory</span><span class="w"> </span><span class="n">usable</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">graphics</span><span class="w"> </span><span class="n">device</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2048</span><span class="n">M</span>
</code></pre></div>

<h3>6. 清空dmesg缓冲区日志</h3>
<p>我们可以使用如下命令来清空dmesg的日志。该命令会清空dmesg环形缓冲区中的日志。但是你依然可以查看存储在‘<strong>/var/log/dmesg</strong>’文件中的日志。你连接任何的设备都会产生dmesg日志输出。</p>
<div class="highlight"><pre><span></span><code><span class="o">[</span><span class="n">root@tecmint.com log</span><span class="o">]</span><span class="err">#</span><span class="w"> </span><span class="n">dmesg</span><span class="w"> </span><span class="o">-</span><span class="n">c</span>
</code></pre></div>

<h3>7. 实时监控dmesg日志输出</h3>
<p>在某些发行版中可以使用命令‘tail -f /var/log/dmesg’来实时监控dmesg的日志输出。</p>
<div class="highlight"><pre><span></span><code><span class="o">[</span><span class="n">root@tecmint.com log</span><span class="o">]</span><span class="err">#</span><span class="w"> </span><span class="n">watch</span><span class="w"> </span><span class="ss">&quot;dmesg | tail -20&quot;</span>
</code></pre></div>

<p><strong>结论</strong>：dmesg命令在系统dmesg记录实时更改或产生的情况下是非常有用的。你可以使用man dmesg来获取更多关于dmesg的信息。</p>
<p>via: <a href="http://www.tecmint.com/dmesg-commands/">http://www.tecmint.com/dmesg-commands/</a></p>
<p>译者：<a href="https://github.com/cvsher">cvsher</a> 校对：<a href="https://github.com/carolinewuyan">Caroline</a></p>
<p>本文由 <a href="https://github.com/LCTT/TranslateProject">LCTT</a> 原创翻译，<a href="http://linux.cn/">Linux中国</a> 荣誉推出</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>