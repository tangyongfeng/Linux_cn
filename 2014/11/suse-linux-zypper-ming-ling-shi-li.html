<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>SUSE Linux – Zypper 命令示例</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Author: Pradeep Kumar Zypper是SUSE Linux中用于安装，升级，卸载，管理仓库、进行各种包查询的命令行接口。本篇将会讨论zypper的几个不同命令的例子。 语法： # zypper [--global-opts] <command>..." />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">linux_cn</a></h1>
                <nav><ul>
                    <li><a href="/category/chuan-shan-jia-zhuan-fang">穿山甲专访</a></li>
                    <li><a href="/category/dai-ma-ying-xiong">代码英雄</a></li>
                    <li><a href="/category/fen-xiang">分享</a></li>
                    <li><a href="/category/guan-dian">观点</a></li>
                    <li><a href="/category/huo-dong">活动</a></li>
                    <li><a href="/category/ji-ke-man-hua">极客漫画</a></li>
                    <li class="active"><a href="/category/ji-zhu">技术</a></li>
                    <li><a href="/category/kai-yuan-zhi-hui">开源智慧</a></li>
                    <li><a href="/category/linux-fa-xing-ban">Linux 发行版</a></li>
                    <li><a href="/category/mei-ri-an-quan-zi-xun">每日安全资讯</a></li>
                    <li><a href="/category/misc">Misc</a></li>
                    <li><a href="/category/qu-kuai-lian">区块链</a></li>
                    <li><a href="/category/rong-qi-yu-yun">容器与云</a></li>
                    <li><a href="/category/ruan-jian-kai-fa">软件开发</a></li>
                    <li><a href="/category/shu-mei-pai">树莓派</a></li>
                    <li><a href="/category/xi-tong-yun-wei">系统运维</a></li>
                    <li><a href="/category/xin-wen">新闻</a></li>
                    <li><a href="/category/ying-he-guan-cha">硬核观察</a></li>
                    <li><a href="/category/zhi-ye-sheng-ya">职业生涯</a></li>
                    <li><a href="/category/zhong-jiang-ming-dan">中奖名单</a></li>
                    <li><a href="/category/zhuo-mian-ying-yong">桌面应用</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2014/11/suse-linux-zypper-ming-ling-shi-li.html" rel="bookmark"
           title="Permalink to SUSE Linux – Zypper 命令示例">SUSE Linux – Zypper 命令示例</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2014-11-10T10:23:00+01:00">
                Published: Mon 10 November 2014
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/linux-fans-from-china.html">linux fans from china</a>
        </address>
<p>In <a href="/category/ji-zhu">技术</a>.</p>

</footer><!-- /.post-info -->      <p>Author: Pradeep Kumar</p>
<p>Zypper是SUSE Linux中用于安装，升级，卸载，管理仓库、进行各种包查询的命令行接口。本篇将会讨论zypper的几个不同命令的例子。</p>
<p><img alt="" src="/data/attachment/album/201411/10/002955t5x2xz82y802mo2o.png"></p>
<p>语法：</p>
<div class="highlight"><pre><span></span><code># zypper [--global-opts] &lt;command&gt; [--command-opts] [command-arguments]
</code></pre></div>

<p>中括号中的部分可以不需要。执行zypper最简单的方法是输入 zypper 及 。</p>
<h3>例子1：列出可用的全局选项和命令</h3>
<p>打开终端，输入zypper并按回车，它会显示所有可用的全局选项和命令。</p>
<div class="highlight"><pre><span></span><code>linux-xa3t:~ # zypper
</code></pre></div>

<h3>例子2：获得zypper的某个命令的帮助</h3>
<p>语法： zypper help [command]</p>
<div class="highlight"><pre><span></span><code><span class="n">linux</span><span class="o">-</span><span class="nl">xa3t</span><span class="p">:</span><span class="o">~</span><span class="w"> </span><span class="err">#</span><span class="w"> </span><span class="n">zypper</span><span class="w"> </span><span class="n">help</span><span class="w"> </span><span class="n">remove</span>
<span class="n">remove</span><span class="w"> </span><span class="p">(</span><span class="n">rm</span><span class="p">)</span><span class="w"> </span><span class="o">[</span><span class="n">options</span><span class="o">]</span><span class="w"> </span><span class="o">&lt;</span><span class="n">capability</span><span class="o">&gt;</span><span class="w"> </span><span class="p">...</span>

<span class="n">Remove</span><span class="w"> </span><span class="n">packages</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">capabilities</span><span class="p">.</span>
<span class="n">A</span><span class="w"> </span><span class="n">capability</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">NAME</span><span class="o">[</span><span class="n">.ARCH</span><span class="o">][</span><span class="n">OP&lt;VERSION&gt;</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">OP</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="o">&lt;</span><span class="p">,</span><span class="w"> </span><span class="o">&lt;=</span><span class="p">,</span><span class="w"> </span><span class="o">=</span><span class="p">,</span><span class="w"> </span><span class="o">&gt;=</span><span class="p">,</span><span class="w"> </span><span class="o">&gt;</span><span class="p">.</span>

<span class="n">Command</span><span class="w"> </span><span class="nl">options</span><span class="p">:</span>
<span class="o">-</span><span class="n">r</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="n">repo</span><span class="w"> </span><span class="o">&lt;</span><span class="k">alias</span><span class="o">|</span><span class="err">#</span><span class="o">|</span><span class="n">URI</span><span class="o">&gt;</span><span class="w"> </span><span class="k">Load</span><span class="w"> </span><span class="k">only</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">repository</span><span class="p">.</span>
<span class="o">-</span><span class="n">t</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="n">type</span><span class="w"> </span><span class="o">&lt;</span><span class="n">type</span><span class="o">&gt;</span><span class="w"> </span><span class="n">Type</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="p">(</span><span class="n">package</span><span class="p">,</span><span class="w"> </span><span class="n">patch</span><span class="p">,</span><span class="w"> </span><span class="n">pattern</span><span class="p">,</span><span class="w"> </span><span class="n">product</span><span class="p">).</span>

<span class="w"> </span><span class="k">Default</span><span class="err">:</span><span class="w"> </span><span class="n">package</span><span class="p">.</span>
<span class="o">-</span><span class="n">n</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="n">name</span><span class="w"> </span><span class="k">Select</span><span class="w"> </span><span class="n">packages</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">plain</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">capability</span><span class="p">.</span>
<span class="o">-</span><span class="n">C</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="n">capability</span><span class="w"> </span><span class="k">Select</span><span class="w"> </span><span class="n">packages</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">capability</span><span class="p">.</span>
<span class="o">--</span><span class="n">debug</span><span class="o">-</span><span class="n">solver</span><span class="w"> </span><span class="k">Create</span><span class="w"> </span><span class="n">solver</span><span class="w"> </span><span class="n">test</span><span class="w"> </span><span class="k">case</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">debugging</span><span class="p">.</span>
<span class="o">-</span><span class="n">R</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="k">no</span><span class="o">-</span><span class="n">force</span><span class="o">-</span><span class="n">resolution</span><span class="w"> </span><span class="n">Do</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">force</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">solver</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">find</span><span class="w"> </span><span class="n">solution</span><span class="p">,</span><span class="n">let</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">ask</span><span class="p">.</span>
<span class="o">--</span><span class="n">force</span><span class="o">-</span><span class="n">resolution</span><span class="w"> </span><span class="n">Force</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">solver</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">find</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">solution</span><span class="w"> </span><span class="p">(</span><span class="n">even</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">aggressive</span><span class="w"> </span><span class="n">one</span><span class="p">).</span>
<span class="o">-</span><span class="n">u</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="n">clean</span><span class="o">-</span><span class="n">deps</span><span class="w"> </span><span class="n">Automatically</span><span class="w"> </span><span class="n">remove</span><span class="w"> </span><span class="n">unneeded</span><span class="w"> </span><span class="n">dependencies</span><span class="p">.</span>
<span class="o">-</span><span class="n">U</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="k">no</span><span class="o">-</span><span class="n">clean</span><span class="o">-</span><span class="n">deps</span><span class="w"> </span><span class="k">No</span><span class="w"> </span><span class="n">automatic</span><span class="w"> </span><span class="n">removal</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">unneeded</span><span class="w"> </span><span class="n">dependencies</span><span class="p">.</span>
<span class="o">-</span><span class="n">D</span><span class="p">,</span><span class="w"> </span><span class="c1">--dry-run Test the removal, do not actually remove.</span>
</code></pre></div>

<h3>例子3：打开zypper shell/会话</h3>
<div class="highlight"><pre><span></span><code>linux-xa3t:~ # zypper sh
zypper&gt;
</code></pre></div>

<p>或</p>
<div class="highlight"><pre><span></span><code>linux-xa3t:~ # zypper shell
zypper&gt;
</code></pre></div>

<h3>例子4：列出已定义的仓库</h3>
<div class="highlight"><pre><span></span><code>linux-xa3t:~ # zypper repos
</code></pre></div>

<p><img alt="" src="/data/attachment/album/201411/10/002958xzbbsh9xrbijrtda.png"></p>
<p>或</p>
<div class="highlight"><pre><span></span><code>linux-xa3t:~ # zypper lr
</code></pre></div>

<h4>4.1) 以表格的形式列出仓库的URI</h4>
<p><img alt="" src="/data/attachment/album/201411/10/002959cexnmqfpmcfhhpt9.png"></p>
<h4>4.2) 以优先级列出仓库</h4>
<div class="highlight"><pre><span></span><code>linux-xa3t:~ # zypper lr -p
</code></pre></div>

<p><img alt="" src="/data/attachment/album/201411/10/003001o89tuy8mjg8f86df.png"></p>
<h3>例子5：刷新仓库</h3>
<div class="highlight"><pre><span></span><code>linux-xa3t:~ # zypper ref
Repository &#39;openSUSE-13.1-Non-Oss&#39; is up to date.
Repository &#39;openSUSE-13.1-Oss&#39; is up to date.
Repository &#39;openSUSE-13.1-Update&#39; is up to date.
Repository &#39;openSUSE-13.1-Update-Non-Oss&#39; is up to date.
All repositories have been refreshed.
</code></pre></div>

<h3>例子6：修改zypper仓库</h3>
<p>zypper仓库可以通过别名、数字或者URI或者通过‘–all、 –remote、 –local、 –medium-type’这些选项修改。</p>
<p>linux-xa3t:~ # zypper mr -d 6 #禁用6号仓库 linux-xa3t:~ # zypper mr -rk -p 70 upd #启用自动书信并为‘upd’仓库设置rpm文件‘缓存’，且设置它的优先级为70 linux-xa3t:~ # zypper mr -Ka #为所有的仓库禁用rpm文件缓存 linux-xa3t:~ # zypper mr -kt #为远程仓库设置rpm文件缓存</p>
<h3>例子7：添加仓库</h3>
<p>语法： zypper addrepo 或者 zypper ar &lt;仓库的URL或者别名&gt;</p>
<div class="highlight"><pre><span></span><code><span class="n">linux</span><span class="o">-</span><span class="nl">xa3t</span><span class="p">:</span><span class="o">~</span><span class="w"> </span><span class="err">#</span><span class="w"> </span><span class="n">zypper</span><span class="w"> </span><span class="n">ar</span><span class="w"> </span><span class="nl">http</span><span class="p">:</span><span class="o">//</span><span class="n">download</span><span class="p">.</span><span class="n">opensuse</span><span class="p">.</span><span class="n">org</span><span class="o">/</span><span class="k">update</span><span class="o">/</span><span class="mf">13.1</span><span class="o">/</span><span class="w"> </span><span class="k">update</span>
<span class="n">Adding</span><span class="w"> </span><span class="n">repository</span><span class="w"> </span><span class="s1">&#39;update&#39;</span><span class="w"> </span><span class="p">.............................................</span><span class="o">[</span><span class="n">done</span><span class="o">]</span>
<span class="n">Repository</span><span class="w"> </span><span class="s1">&#39;update&#39;</span><span class="w"> </span><span class="n">successfully</span><span class="w"> </span><span class="n">added</span>
<span class="nl">Enabled</span><span class="p">:</span><span class="w"> </span><span class="n">Yes</span>
<span class="nl">Autorefresh</span><span class="p">:</span><span class="w"> </span><span class="k">No</span>
<span class="n">GPG</span><span class="w"> </span><span class="k">check</span><span class="err">:</span><span class="w"> </span><span class="n">Yes</span>
<span class="nl">URI</span><span class="p">:</span><span class="w"> </span><span class="nl">http</span><span class="p">:</span><span class="o">//</span><span class="n">download</span><span class="p">.</span><span class="n">opensuse</span><span class="p">.</span><span class="n">org</span><span class="o">/</span><span class="k">update</span><span class="o">/</span><span class="mf">13.1</span><span class="o">/</span>
</code></pre></div>

<h3>例子8：移除仓库</h3>
<p>语法： zypper removerepo &lt;仓库名&gt; &lt;别名&gt;</p>
<p>或者</p>
<p>zypper rr &lt;仓库名&gt; &lt;别名&gt;</p>
<div class="highlight"><pre><span></span><code><span class="n">linux</span><span class="o">-</span><span class="nl">xa3t</span><span class="p">:</span><span class="o">~</span><span class="w"> </span><span class="err">#</span><span class="w"> </span><span class="n">zypper</span><span class="w"> </span><span class="n">rr</span><span class="w"> </span><span class="n">openSUSE</span><span class="o">-</span><span class="mf">13.1</span><span class="o">-</span><span class="mf">1.10</span><span class="w"> </span><span class="n">openSUSE</span><span class="o">-</span><span class="mf">13.1</span><span class="o">-</span><span class="mf">1.10</span>
<span class="n">Removing</span><span class="w"> </span><span class="n">repository</span><span class="w"> </span><span class="s1">&#39;openSUSE-13.1-1.10&#39;</span><span class="w"> </span><span class="p">............................</span><span class="o">[</span><span class="n">done</span><span class="o">]</span>
<span class="n">Repository</span><span class="w"> </span><span class="s1">&#39;openSUSE-13.1-1.10&#39;</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">been</span><span class="w"> </span><span class="n">removed</span><span class="p">.</span>
</code></pre></div>

<h3>例子9：安装软件包</h3>
<p>语法： zypper install &lt;包名&gt; 或者 zypper in &lt;包名&gt;</p>
<div class="highlight"><pre><span></span><code>linux-xa3t:~ # zypper install vlc
</code></pre></div>

<h3>例子10：卸载软件包</h3>
<p>语法： zypper remove &lt;包名&gt; 或者 zypper rm &lt;包名&gt;</p>
<div class="highlight"><pre><span></span><code>linux-xa3t:~ # zypper remove sqlite
</code></pre></div>

<h3>例子11：导出和导入仓库</h3>
<p>导出仓库的语法 : zypper repos –export 或者 zypper lr -e</p>
<div class="highlight"><pre><span></span><code><span class="n">linux</span><span class="o">-</span><span class="n">xa3t</span><span class="p">:</span><span class="o">~</span><span class="w"> </span><span class="c1"># zypper lr --export repo-backup/back.repo</span>
<span class="n">Repositories</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">been</span><span class="w"> </span><span class="n">successfully</span><span class="w"> </span><span class="n">exported</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">repo</span><span class="o">-</span><span class="n">backup</span><span class="o">/</span><span class="n">back</span><span class="o">.</span><span class="n">repo</span><span class="o">.</span>
</code></pre></div>

<p>导入仓库的语法 :</p>
<div class="highlight"><pre><span></span><code>linux-xa3t:~ # zypper ar repo-backup/back.repo
</code></pre></div>

<h3>例子12：更新一个软件包</h3>
<p>语法： zypper update &lt;包名&gt; 或者 zypper up &lt;包名&gt;</p>
<div class="highlight"><pre><span></span><code>linux-xa3t:~ # zypper update bash
</code></pre></div>

<h3>例子13：安装源码包</h3>
<p>语法： zypper source-install &lt;源码包&gt; 或 zypper si &lt;源码包&gt;</p>
<div class="highlight"><pre><span></span><code>linux-xa3t:~ # zypper source-install zypper
</code></pre></div>

<h3>例子14：只安装依赖包</h3>
<p>例子13中的命令会安装和构建特定包的依赖。如果你想要安装源码包就用-D选项</p>
<div class="highlight"><pre><span></span><code><span class="err">#</span><span class="w"> </span><span class="nx">zypper</span><span class="w"> </span><span class="nx">source</span><span class="o">-</span><span class="nx">install</span><span class="w"> </span><span class="o">-</span><span class="nx">D</span><span class="w"> </span><span class="nx">package_name</span>
</code></pre></div>

<p>只安装依赖就使用-d</p>
<div class="highlight"><pre><span></span><code><span class="err">#</span><span class="w"> </span><span class="nx">zypper</span><span class="w"> </span><span class="nx">source</span><span class="o">-</span><span class="nx">install</span><span class="w"> </span><span class="o">-</span><span class="nx">d</span><span class="w"> </span><span class="nx">package_name</span>
</code></pre></div>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>