<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>在Linux下用命令行中玩转音乐库</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Author: '' linux下的命令行可能是对于新手而言最恐怖的经历了。我记得花费若干小时来尝试搞明白终端爆出的错误信息。当然，这是完全值得的！如果现在让我只能挑一个让新手学 …" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">linux_cn</a></h1>
                <nav><ul>
                    <li><a href="/category/chuan-shan-jia-zhuan-fang">穿山甲专访</a></li>
                    <li><a href="/category/dai-ma-ying-xiong">代码英雄</a></li>
                    <li class="active"><a href="/category/fen-xiang">分享</a></li>
                    <li><a href="/category/guan-dian">观点</a></li>
                    <li><a href="/category/huo-dong">活动</a></li>
                    <li><a href="/category/ji-ke-man-hua">极客漫画</a></li>
                    <li><a href="/category/ji-zhu">技术</a></li>
                    <li><a href="/category/kai-yuan-zhi-hui">开源智慧</a></li>
                    <li><a href="/category/linux-fa-xing-ban">Linux 发行版</a></li>
                    <li><a href="/category/mei-ri-an-quan-zi-xun">每日安全资讯</a></li>
                    <li><a href="/category/misc">Misc</a></li>
                    <li><a href="/category/qu-kuai-lian">区块链</a></li>
                    <li><a href="/category/rong-qi-yu-yun">容器与云</a></li>
                    <li><a href="/category/ruan-jian-kai-fa">软件开发</a></li>
                    <li><a href="/category/shu-mei-pai">树莓派</a></li>
                    <li><a href="/category/xi-tong-yun-wei">系统运维</a></li>
                    <li><a href="/category/xin-wen">新闻</a></li>
                    <li><a href="/category/ying-he-guan-cha">硬核观察</a></li>
                    <li><a href="/category/zhi-ye-sheng-ya">职业生涯</a></li>
                    <li><a href="/category/zhong-jiang-ming-dan">中奖名单</a></li>
                    <li><a href="/category/zhuo-mian-ying-yong">桌面应用</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2014/05/zai-linuxxia-yong-ming-ling-xing-zhong-wan-zhuan-yin-le-ku.html" rel="bookmark"
           title="Permalink to 在Linux下用命令行中玩转音乐库">在Linux下用命令行中玩转音乐库</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2014-05-21T21:36:00+02:00">
                Published: Wed 21 May 2014
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/linux-fans-from-china.html">linux fans from china</a>
        </address>
<p>In <a href="/category/fen-xiang">分享</a>.</p>

</footer><!-- /.post-info -->      <p>Author: ''</p>
<p>linux下的命令行可能是对于新手而言最恐怖的经历了。我记得花费若干小时来尝试搞明白终端爆出的错误信息。当然，这是完全值得的！如果现在让我只能挑一个让新手学习学习命令行的原因，那可能就是用命令行来整个管理音乐库。在这个事情上，我喜欢用的软件叫做<a href="https://cmus.github.io/">cmus</a>，是"C* MUsic Player"(C音乐播放器)的简写，它完全由C写成。</p>
<p><img alt="" src="/data/attachment/album/201405/21/214351leriyo2kjxk517oi.png"></p>
<p>cmus是一个内置了音频播放器的强大的音乐文件管理器。用它的基于ncurses的命令行界面，你可以浏览你的音乐库，并从播放列表或队列中播放音乐，这一切都是在命令行下。</p>
<h3>Linux上安装cmus</h3>
<p>首先，你需要按照如下建议设置并安装cmus。</p>
<p>在Ubuntu, Debian 或者Linux Mint中:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>cmus<span class="w"> </span>
</code></pre></div>

<p>在Fedora上，首先<a href="http://xmodulo.com/2013/06/how-to-install-rpm-fusion-on-fedora.html">启用RPM Fusion仓库</a>，接着运行:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>sudo<span class="w"> </span>yum<span class="w"> </span>install<span class="w"> </span>cmus<span class="w"> </span>
</code></pre></div>

<p>在CentOS上，首先<a href="http://xmodulo.com/2013/01/how-to-set-up-rpmforge-repoforge-repository-on-centos.html">启用Repoforge仓库</a>，接着运行:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>sudo<span class="w"> </span>yum<span class="w"> </span>install<span class="w"> </span>cmus<span class="w"> </span>
</code></pre></div>

<p>在Archlinux上:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>sudo<span class="w"> </span>pacman<span class="w"> </span>-S<span class="w"> </span>cmus<span class="w"> </span>
</code></pre></div>

<p>安装完之后，在命令行下如下输入就可运行cums:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>cmus<span class="w"> </span>
</code></pre></div>

<h3>导入音乐文件到 cmus</h3>
<p>第一件要做的事情是导入你的音乐文件到你的库中。这个过程可以看出两个事情：快捷方式受到了vim的命令模式的启发；还有cmus运行的很快。我已经在20秒之内成功地导入了超过1000首歌！而在iTunes或者其他任何图形音乐库软件下试一下导入，我想你会有足够的时间来做一份花生酱三明治 :&gt;。</p>
<p>要在cmus下面导入音乐，输入下面的像vim一样的命令。</p>
<div class="highlight"><pre><span></span><code>:a /path/to/your/music/folder
</code></pre></div>

<p>在我的Xubuntu上，我这么做:</p>
<div class="highlight"><pre><span></span><code>:a /home/adrien/Music/
</code></pre></div>

<p>接下来这个目录下所有的音乐文件会立马按照艺术家或者专辑的方式排列显示。</p>
<p><img alt="" src="/data/attachment/album/201405/21/213606xo754fmi52e21xzz.jpg"></p>
<h3>快速入门</h3>
<p>在开始前，你可能希望记住一些基本快捷方式来开始播放你的音乐。这是cmus的唯一缺点。除非你改变它们，否则默认的快捷方式并不直观，并且你不得不学习它们。简而言之:</p>
<ul>
<li><strong>x</strong> 播放或重播音乐</li>
<li><strong>c</strong> 暂停</li>
<li><strong>b</strong> 播放下一首音乐</li>
<li><strong>z</strong> 播放前一首音乐</li>
<li><strong>s</strong> 激活随机播放</li>
</ul>
<p>记住之后，我们就准备开始了！</p>
<h3>基本使用</h3>
<p>cmus的界面由7个界面组成，你可以按下适当的数字键来访问。比如，启动页面是一个树形界面，你随时可以通过按下“1”来访问。这个界面可以很直观地来使用：通过上下键来导航位于左侧面板的艺术家，按下空格就可以看到特定艺术家的专辑，使用tab键来切换到右侧面板来选择某个歌曲，最后按下回车键来播放音乐。</p>
<p><img alt="" src="/data/attachment/album/201405/21/213609aaf4e9bf4z54fumu.jpg"></p>
<p>如你所见，底部显示了艺术家的名字，专辑，和正在播放歌曲的标题，还有时间和音量。</p>
<p>第二个界面与第一个刚才显示的类似，显示了按照艺术家排列的歌曲列表。</p>
<p><img alt="" src="/data/attachment/album/201405/21/213612ze3sus8l40e2sxel.jpg"></p>
<p>然而，第三个界面更有用些，它显示了目前的播放列表。要在树形视图或者列表视图下增加一首歌曲，只要在选中的歌曲上输入'y'。当你创建了一个完美的歌单之后，用如下的命令行保存下来。</p>
<div class="highlight"><pre><span></span><code>:save /path/to/playlist
</code></pre></div>

<p>用下面命令加载:</p>
<div class="highlight"><pre><span></span><code><span class="p">:</span><span class="nb">load</span><span class="w"> </span><span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">playlist</span>
</code></pre></div>

<p><img alt="" src="/data/attachment/album/201405/21/213614dckjjkkknzftoyn9.jpg"></p>
<p>第四个界面显示的是队列。队列与播放列表的一点不同是，一旦歌曲是按队列播放的，播放结束后就会被移出队列。要把一首歌加入队列，就像把它加到播放列表一样，但是使用快捷方式："e"</p>
<p><img alt="" src="/data/attachment/album/201405/21/213616df7dl2l0h5n97527.jpg"></p>
<p>第五个界面也同样很有用，它是一个轻量级的文件浏览器。当你在你的电脑中查找一首歌曲而不必加入到库中的时候很有用。导航方式也非常标准：用向上或者向下键，回车键用来进入文件夹或者选中一个文件。</p>
<p><img alt="" src="/data/attachment/album/201405/21/213619cuqxxh5rhxr40q6p.jpg"></p>
<p>第六界面是一个库过滤器，用来动态创建播放列表。如它听上去的那样，过滤器会遍历你的库，并且只显示符合相关规则定义的音乐。之后我会描述如何定义你自己的过滤器，但是cmus已经自带了一些。要试一下，只要使用:</p>
<div class="highlight"><pre><span></span><code>:filter [name of the filter]
</code></pre></div>

<p>比如:</p>
<div class="highlight"><pre><span></span><code>:filter classical
</code></pre></div>

<p>除了带有"Classical"标签的音乐，它会隐藏你库中所有的其它音乐。</p>
<p><img alt="" src="/data/attachment/album/201405/21/213621tia1ios8r4fzizhg.jpg"></p>
<p>最后但同样重要的，第七个界面是设置。在这里，你可以定义你的快捷方式和命令。我会在下一部分给你一些例子。</p>
<p><img alt="" src="/data/attachment/album/201405/21/213623ru1g4dk3w3gom7tr.jpg"></p>
<h3>高级用法</h3>
<p>正如承诺那样，你现在已经更加熟悉界面了，我会给你一些小技巧来增强你的体验。</p>
<p>要在界面中搜索任何东西，只要如vim那样使用相同的快捷方式</p>
<div class="highlight"><pre><span></span><code><span class="o">/[</span><span class="n">keyword</span><span class="o">]</span>
</code></pre></div>

<p>还有:</p>
<div class="highlight"><pre><span></span><code>n
</code></pre></div>

<p>来搜索下一处关键字。</p>
<p>要创建一个你的过滤器，使用语法：</p>
<div class="highlight"><pre><span></span><code><span class="err">:</span><span class="n">fset</span><span class="w"> </span><span class="o">[</span><span class="n">name of the new filter</span><span class="o">]=[</span><span class="n">expression</span><span class="o">]</span>
</code></pre></div>

<p>比如，你可以找到所有的旧式摇滚音乐:</p>
<div class="highlight"><pre><span></span><code>:fset oldies=genre=&quot;Rock&quot;&amp;date&lt;1970
</code></pre></div>

<p>要了解更多关于你可以使用的表达式，我建议你仔细阅读文档和已有的过滤器。</p>
<p>要重新播放所有的音乐（不过滤），使用如下命令:</p>
<div class="highlight"><pre><span></span><code>:set replaygain=1
</code></pre></div>

<p>要改变快捷键到不同的键上，进入设置界面并找出现有的绑定表达式。举个例子来说，我想要将播放快捷方式从"x"改到"w",我会翻到下面的行：</p>
<div class="highlight"><pre><span></span><code>common  x       player-play
</code></pre></div>

<p>接着按下回车，并改成下面的表达式</p>
<div class="highlight"><pre><span></span><code>:bind -f common w player-play
</code></pre></div>

<p>总的来说，我真的喜欢cmus。它还有许多本篇中没有提到的技巧，因此在你准备好后，应该认真要读一下<a href="https://github.com/cmus/cmus/blob/master/Doc/cmus.txt">man帮助手册</a>。简而言之，cmus是一款快速的，易于学习，不会乱动你的文件的好软件。如果你喜欢从命令行下管理音乐库的想法，但是还没有成为cmus的忠实粉丝，我建议你可以先试一下一些替代品，如MOC和PyTone，它们同样也很棒。</p>
<p>你认为cmus怎么样？你喜欢它么，或者作为图形界面的替代品？让我在评论区知道你们的想法。</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>