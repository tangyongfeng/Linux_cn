<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>Linux下掌控磁盘分区的九大神器</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Author: Silver Moon 在这篇文章中，我们来了解一些用来检查你的系统分区的一些命令，这些命令将检查每个磁盘的分区情况和其它 …" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">linux_cn</a></h1>
                <nav><ul>
                    <li><a href="/category/chuan-shan-jia-zhuan-fang">穿山甲专访</a></li>
                    <li><a href="/category/dai-ma-ying-xiong">代码英雄</a></li>
                    <li><a href="/category/fen-xiang">分享</a></li>
                    <li><a href="/category/guan-dian">观点</a></li>
                    <li><a href="/category/huo-dong">活动</a></li>
                    <li><a href="/category/ji-ke-man-hua">极客漫画</a></li>
                    <li class="active"><a href="/category/ji-zhu">技术</a></li>
                    <li><a href="/category/kai-yuan-zhi-hui">开源智慧</a></li>
                    <li><a href="/category/linux-fa-xing-ban">Linux 发行版</a></li>
                    <li><a href="/category/mei-ri-an-quan-zi-xun">每日安全资讯</a></li>
                    <li><a href="/category/misc">Misc</a></li>
                    <li><a href="/category/qu-kuai-lian">区块链</a></li>
                    <li><a href="/category/rong-qi-yu-yun">容器与云</a></li>
                    <li><a href="/category/ruan-jian-kai-fa">软件开发</a></li>
                    <li><a href="/category/shu-mei-pai">树莓派</a></li>
                    <li><a href="/category/xi-tong-yun-wei">系统运维</a></li>
                    <li><a href="/category/xin-wen">新闻</a></li>
                    <li><a href="/category/ying-he-guan-cha">硬核观察</a></li>
                    <li><a href="/category/zhi-ye-sheng-ya">职业生涯</a></li>
                    <li><a href="/category/zhong-jiang-ming-dan">中奖名单</a></li>
                    <li><a href="/category/zhuo-mian-ying-yong">桌面应用</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2014/07/linuxxia-zhang-kong-ci-pan-fen-qu-de-jiu-da-shen-qi.html" rel="bookmark"
           title="Permalink to Linux下掌控磁盘分区的九大神器">Linux下掌控磁盘分区的九大神器</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2014-07-13T20:38:51+02:00">
                Published: Sun 13 July 2014
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/linux-fans-from-china.html">linux fans from china</a>
        </address>
<p>In <a href="/category/ji-zhu">技术</a>.</p>

</footer><!-- /.post-info -->      <p>Author: Silver Moon</p>
<p>在这篇文章中，我们来了解一些用来检查你的系统分区的一些命令，这些命令将检查每个磁盘的分区情况和其它细节，例如总空间容量，已用完的空间和文件系统等。</p>
<p>像fdisk，sfdisk和cfdisk命令这样的常规分区工具，不仅可以显示分区信息，还可以修改。</p>
<p><img alt="" src="/data/attachment/album/201407/13/203853yhigl6ohgrwxo76z.jpg"></p>
<h3>1. fdisk</h3>
<p>Fdisk是检查磁盘上分区的最常用命令，fdisk命令可以显示分区和细节，如文件系统类型，但是它并不报告每个分区的字节大小。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>sudo<span class="w"> </span>fdisk<span class="w"> </span>-l

Disk<span class="w"> </span>/dev/sda:<span class="w"> </span><span class="m">500</span>.1<span class="w"> </span>GB,<span class="w"> </span><span class="m">500107862016</span><span class="w"> </span>bytes
<span class="m">255</span><span class="w"> </span>heads,<span class="w"> </span><span class="m">63</span><span class="w"> </span>sectors/track,<span class="w"> </span><span class="m">60801</span><span class="w"> </span>cylinders,<span class="w"> </span>total<span class="w"> </span><span class="m">976773168</span><span class="w"> </span>sectors
<span class="nv">Units</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>sectors<span class="w"> </span>of<span class="w"> </span><span class="m">1</span><span class="w"> </span>*<span class="w"> </span><span class="nv">512</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">512</span><span class="w"> </span>bytes
Sector<span class="w"> </span>size<span class="w"> </span><span class="o">(</span>logical/physical<span class="o">)</span>:<span class="w"> </span><span class="m">512</span><span class="w"> </span>bytes<span class="w"> </span>/<span class="w"> </span><span class="m">512</span><span class="w"> </span>bytes
I/O<span class="w"> </span>size<span class="w"> </span><span class="o">(</span>minimum/optimal<span class="o">)</span>:<span class="w"> </span><span class="m">512</span><span class="w"> </span>bytes<span class="w"> </span>/<span class="w"> </span><span class="m">512</span><span class="w"> </span>bytes
Disk<span class="w"> </span>identifier:<span class="w"> </span>0x30093008

<span class="w">   </span>Device<span class="w"> </span>Boot<span class="w">      </span>Start<span class="w">         </span>End<span class="w">      </span>Blocks<span class="w">   </span>Id<span class="w">  </span>System
/dev/sda1<span class="w">   </span>*<span class="w">          </span><span class="m">63</span><span class="w">   </span><span class="m">146801969</span><span class="w">    </span><span class="m">73400953</span>+<span class="w">   </span><span class="m">7</span><span class="w">  </span>HPFS/NTFS/exFAT
/dev/sda2<span class="w">       </span><span class="m">146802031</span><span class="w">   </span><span class="m">976771071</span><span class="w">   </span><span class="m">414984520</span>+<span class="w">   </span>f<span class="w">  </span>W95<span class="w"> </span>Ext<span class="err">&#39;</span>d<span class="w"> </span><span class="o">(</span>LBA<span class="o">)</span>
/dev/sda5<span class="w">       </span><span class="m">146802033</span><span class="w">   </span><span class="m">351614654</span><span class="w">   </span><span class="m">102406311</span><span class="w">    </span><span class="m">7</span><span class="w">  </span>HPFS/NTFS/exFAT
/dev/sda6<span class="w">       </span><span class="m">351614718</span><span class="w">   </span><span class="m">556427339</span><span class="w">   </span><span class="m">102406311</span><span class="w">   </span><span class="m">83</span><span class="w">  </span>Linux
/dev/sda7<span class="w">       </span><span class="m">556429312</span><span class="w">   </span><span class="m">560427007</span><span class="w">     </span><span class="m">1998848</span><span class="w">   </span><span class="m">82</span><span class="w">  </span>Linux<span class="w"> </span>swap<span class="w"> </span>/<span class="w"> </span>Solaris
/dev/sda8<span class="w">       </span><span class="m">560429056</span><span class="w">   </span><span class="m">976771071</span><span class="w">   </span><span class="m">208171008</span><span class="w">   </span><span class="m">83</span><span class="w">  </span>Linux

Disk<span class="w"> </span>/dev/sdb:<span class="w"> </span><span class="m">4048</span><span class="w"> </span>MB,<span class="w"> </span><span class="m">4048551936</span><span class="w"> </span>bytes
<span class="m">54</span><span class="w"> </span>heads,<span class="w"> </span><span class="m">9</span><span class="w"> </span>sectors/track,<span class="w"> </span><span class="m">16270</span><span class="w"> </span>cylinders,<span class="w"> </span>total<span class="w"> </span><span class="m">7907328</span><span class="w"> </span>sectors
<span class="nv">Units</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>sectors<span class="w"> </span>of<span class="w"> </span><span class="m">1</span><span class="w"> </span>*<span class="w"> </span><span class="nv">512</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">512</span><span class="w"> </span>bytes
Sector<span class="w"> </span>size<span class="w"> </span><span class="o">(</span>logical/physical<span class="o">)</span>:<span class="w"> </span><span class="m">512</span><span class="w"> </span>bytes<span class="w"> </span>/<span class="w"> </span><span class="m">512</span><span class="w"> </span>bytes
I/O<span class="w"> </span>size<span class="w"> </span><span class="o">(</span>minimum/optimal<span class="o">)</span>:<span class="w"> </span><span class="m">512</span><span class="w"> </span>bytes<span class="w"> </span>/<span class="w"> </span><span class="m">512</span><span class="w"> </span>bytes
Disk<span class="w"> </span>identifier:<span class="w"> </span>0x0001135d

<span class="w">   </span>Device<span class="w"> </span>Boot<span class="w">      </span>Start<span class="w">         </span>End<span class="w">      </span>Blocks<span class="w">   </span>Id<span class="w">  </span>System
/dev/sdb1<span class="w">   </span>*<span class="w">        </span><span class="m">2048</span><span class="w">     </span><span class="m">7907327</span><span class="w">     </span><span class="m">3952640</span><span class="w">    </span>b<span class="w">  </span>W95<span class="w"> </span>FAT32
</code></pre></div>

<p>每个设备都单独显示其详细信息：容量大小，扇区数，设备ID及其包含的每个分区。</p>
<h3>2. sfdisk</h3>
<p>Sfdisk是另一种跟fdisk用途相似的实用工具，但具有更多的功能。它能够以MB为单位显示每个分区的大小。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>sudo<span class="w"> </span>sfdisk<span class="w"> </span>-l<span class="w"> </span>-uM

Disk<span class="w"> </span>/dev/sda:<span class="w"> </span><span class="m">60801</span><span class="w"> </span>cylinders,<span class="w"> </span><span class="m">255</span><span class="w"> </span>heads,<span class="w"> </span><span class="m">63</span><span class="w"> </span>sectors/track
Warning:<span class="w"> </span>extended<span class="w"> </span>partition<span class="w"> </span>does<span class="w"> </span>not<span class="w"> </span>start<span class="w"> </span>at<span class="w"> </span>a<span class="w"> </span>cylinder<span class="w"> </span>boundary.
DOS<span class="w"> </span>and<span class="w"> </span>Linux<span class="w"> </span>will<span class="w"> </span>interpret<span class="w"> </span>the<span class="w"> </span>contents<span class="w"> </span>differently.
<span class="nv">Units</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>mebibytes<span class="w"> </span>of<span class="w"> </span><span class="m">1048576</span><span class="w"> </span>bytes,<span class="w"> </span>blocks<span class="w"> </span>of<span class="w"> </span><span class="m">1024</span><span class="w"> </span>bytes,<span class="w"> </span>counting<span class="w"> </span>from<span class="w"> </span><span class="m">0</span>

<span class="w">   </span>Device<span class="w"> </span>Boot<span class="w"> </span>Start<span class="w">   </span>End<span class="w">    </span>MiB<span class="w">    </span><span class="c1">#blocks   Id  System</span>
/dev/sda1<span class="w">   </span>*<span class="w">     </span><span class="m">0</span>+<span class="w"> </span><span class="m">71680</span>-<span class="w"> </span><span class="m">71681</span>-<span class="w">  </span><span class="m">73400953</span>+<span class="w">   </span><span class="m">7</span><span class="w">  </span>HPFS/NTFS/exFAT
/dev/sda2<span class="w">     </span><span class="m">71680</span>+<span class="w"> </span><span class="m">476938</span><span class="w">  </span><span class="m">405259</span>-<span class="w"> </span><span class="m">414984520</span>+<span class="w">   </span>f<span class="w">  </span>W95<span class="w"> </span>Ext<span class="s1">&#39;d (LBA)</span>
<span class="s1">/dev/sda3         0      -      0          0    0  Empty</span>
<span class="s1">/dev/sda4         0      -      0          0    0  Empty</span>
<span class="s1">/dev/sda5     71680+ 171686- 100007- 102406311    7  HPFS/NTFS/exFAT</span>
<span class="s1">/dev/sda6     171686+ 271693- 100007- 102406311   83  Linux</span>
<span class="s1">/dev/sda7     271694  273645   1952    1998848   82  Linux swap / Solaris</span>
<span class="s1">/dev/sda8     273647  476938  203292  208171008   83  Linux</span>

<span class="s1">Disk /dev/sdb: 1020 cylinders, 125 heads, 62 sectors/track</span>
<span class="s1">Warning: The partition table looks like it was made</span>
<span class="s1">  for C/H/S=*/54/9 (instead of 1020/125/62).</span>
<span class="s1">For this listing I&#39;</span>ll<span class="w"> </span>assume<span class="w"> </span>that<span class="w"> </span>geometry.
<span class="nv">Units</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>mebibytes<span class="w"> </span>of<span class="w"> </span><span class="m">1048576</span><span class="w"> </span>bytes,<span class="w"> </span>blocks<span class="w"> </span>of<span class="w"> </span><span class="m">1024</span><span class="w"> </span>bytes,<span class="w"> </span>counting<span class="w"> </span>from<span class="w"> </span><span class="m">0</span>

<span class="w">   </span>Device<span class="w"> </span>Boot<span class="w"> </span>Start<span class="w">   </span>End<span class="w">    </span>MiB<span class="w">    </span><span class="c1">#blocks   Id  System</span>
/dev/sdb1<span class="w">   </span>*<span class="w">     </span><span class="m">1</span><span class="w">   </span><span class="m">3860</span><span class="w">   </span><span class="m">3860</span><span class="w">    </span><span class="m">3952640</span><span class="w">    </span>b<span class="w">  </span>W95<span class="w"> </span>FAT32
<span class="w">                </span>start:<span class="w"> </span><span class="o">(</span>c,h,s<span class="o">)</span><span class="w"> </span>expected<span class="w"> </span><span class="o">(</span><span class="m">4</span>,11,6<span class="o">)</span><span class="w"> </span>found<span class="w"> </span><span class="o">(</span><span class="m">0</span>,32,33<span class="o">)</span>
<span class="w">                </span>end:<span class="w"> </span><span class="o">(</span>c,h,s<span class="o">)</span><span class="w"> </span>expected<span class="w"> </span><span class="o">(</span><span class="m">1023</span>,53,9<span class="o">)</span><span class="w"> </span>found<span class="w"> </span><span class="o">(</span><span class="m">492</span>,53,9<span class="o">)</span>
/dev/sdb2<span class="w">         </span><span class="m">0</span><span class="w">      </span>-<span class="w">      </span><span class="m">0</span><span class="w">          </span><span class="m">0</span><span class="w">    </span><span class="m">0</span><span class="w">  </span>Empty
/dev/sdb3<span class="w">         </span><span class="m">0</span><span class="w">      </span>-<span class="w">      </span><span class="m">0</span><span class="w">          </span><span class="m">0</span><span class="w">    </span><span class="m">0</span><span class="w">  </span>Empty
/dev/sdb4<span class="w">         </span><span class="m">0</span><span class="w">      </span>-<span class="w">      </span><span class="m">0</span><span class="w">          </span><span class="m">0</span><span class="w">    </span><span class="m">0</span><span class="w">  </span>Empty
</code></pre></div>

<h3>3. cfdisk</h3>
<p>Cfdisk是一个基于ncurses（提供字符终端处理库，包括面板和菜单）的带有交互式用户界面的Linux分区编辑器，它可以用来列出现有分区以及创建或修改这些分区。</p>
<p>下面是一个如何使用Cfdisk来列出分区的例子。</p>
<p><img alt="linux cfdisk disk partitions" src="/data/attachment/album/201407/13/203855r5m33disep1mrfma.png"></p>
<p>Cfdisk一次只能列出一个分区，所以如果你需要看某一磁盘的细节，可以把该磁盘的设备名作为Cfdisk的参数。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>sudo<span class="w"> </span>cfdisk<span class="w"> </span>/dev/sdb
</code></pre></div>

<h3>4. parted</h3>
<p>Parted是另一个命令行实用程序，可以列出分区；如果需要的话，也可进行修改。</p>
<p>下面是一个例子，列出了详细的分区信息。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>sudo<span class="w"> </span>parted<span class="w"> </span>-l
Model:<span class="w"> </span>ATA<span class="w"> </span>ST3500418AS<span class="w"> </span><span class="o">(</span>scsi<span class="o">)</span>
Disk<span class="w"> </span>/dev/sda:<span class="w"> </span>500GB
Sector<span class="w"> </span>size<span class="w"> </span><span class="o">(</span>logical/physical<span class="o">)</span>:<span class="w"> </span>512B/512B
Partition<span class="w"> </span>Table:<span class="w"> </span>msdos

Number<span class="w">  </span>Start<span class="w">   </span>End<span class="w">     </span>Size<span class="w">    </span>Type<span class="w">      </span>File<span class="w"> </span>system<span class="w">     </span>Flags
<span class="w"> </span><span class="m">1</span><span class="w">      </span><span class="m">32</span>.3kB<span class="w">  </span><span class="m">75</span>.2GB<span class="w">  </span><span class="m">75</span>.2GB<span class="w">  </span>primary<span class="w">   </span>ntfs<span class="w">            </span>boot
<span class="w"> </span><span class="m">2</span><span class="w">      </span><span class="m">75</span>.2GB<span class="w">  </span>500GB<span class="w">   </span>425GB<span class="w">   </span>extended<span class="w">                  </span>lba
<span class="w"> </span><span class="m">5</span><span class="w">      </span><span class="m">75</span>.2GB<span class="w">  </span>180GB<span class="w">   </span>105GB<span class="w">   </span>logical<span class="w">   </span>ntfs
<span class="w"> </span><span class="m">6</span><span class="w">      </span>180GB<span class="w">   </span>285GB<span class="w">   </span>105GB<span class="w">   </span>logical<span class="w">   </span>ext4
<span class="w"> </span><span class="m">7</span><span class="w">      </span>285GB<span class="w">   </span>287GB<span class="w">   </span>2047MB<span class="w">  </span>logical<span class="w">   </span>linux-swap<span class="o">(</span>v1<span class="o">)</span>
<span class="w"> </span><span class="m">8</span><span class="w">      </span>287GB<span class="w">   </span>500GB<span class="w">   </span>213GB<span class="w">   </span>logical<span class="w">   </span>ext4


Model:<span class="w"> </span>Sony<span class="w"> </span>Storage<span class="w"> </span>Media<span class="w"> </span><span class="o">(</span>scsi<span class="o">)</span>
Disk<span class="w"> </span>/dev/sdb:<span class="w"> </span>4049MB
Sector<span class="w"> </span>size<span class="w"> </span><span class="o">(</span>logical/physical<span class="o">)</span>:<span class="w"> </span>512B/512B
Partition<span class="w"> </span>Table:<span class="w"> </span>msdos

Number<span class="w">  </span>Start<span class="w">   </span>End<span class="w">     </span>Size<span class="w">    </span>Type<span class="w">     </span>File<span class="w"> </span>system<span class="w">  </span>Flags
<span class="w"> </span><span class="m">1</span><span class="w">      </span>1049kB<span class="w">  </span>4049MB<span class="w">  </span>4048MB<span class="w">  </span>primary<span class="w">  </span>fat32<span class="w">        </span>boot
</code></pre></div>

<h3>5. df</h3>
<p>Df是不是一个分区工具，但它打印出挂装文件系统的细节，Df可以列出甚至不是真实的磁盘分区的文件系统。</p>
<p>这里是个简单的例子：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>df<span class="w"> </span>-h
Filesystem<span class="w">      </span>Size<span class="w">  </span>Used<span class="w"> </span>Avail<span class="w"> </span>Use%<span class="w"> </span>Mounted<span class="w"> </span>on
/dev/sda6<span class="w">        </span>97G<span class="w">   </span>43G<span class="w">   </span>49G<span class="w">  </span><span class="m">48</span>%<span class="w"> </span>/
none<span class="w">            </span><span class="m">4</span>.0K<span class="w">     </span><span class="m">0</span><span class="w">  </span><span class="m">4</span>.0K<span class="w">   </span><span class="m">0</span>%<span class="w"> </span>/sys/fs/cgroup
udev<span class="w">            </span><span class="m">3</span>.9G<span class="w">  </span><span class="m">8</span>.0K<span class="w">  </span><span class="m">3</span>.9G<span class="w">   </span><span class="m">1</span>%<span class="w"> </span>/dev
tmpfs<span class="w">           </span>799M<span class="w">  </span><span class="m">1</span>.7M<span class="w">  </span>797M<span class="w">   </span><span class="m">1</span>%<span class="w"> </span>/run
none<span class="w">            </span><span class="m">5</span>.0M<span class="w">     </span><span class="m">0</span><span class="w">  </span><span class="m">5</span>.0M<span class="w">   </span><span class="m">0</span>%<span class="w"> </span>/run/lock
none<span class="w">            </span><span class="m">3</span>.9G<span class="w">   </span>12M<span class="w">  </span><span class="m">3</span>.9G<span class="w">   </span><span class="m">1</span>%<span class="w"> </span>/run/shm
none<span class="w">            </span>100M<span class="w">   </span>20K<span class="w">  </span>100M<span class="w">   </span><span class="m">1</span>%<span class="w"> </span>/run/user
/dev/sda8<span class="w">       </span>196G<span class="w">  </span>154G<span class="w">   </span>33G<span class="w">  </span><span class="m">83</span>%<span class="w"> </span>/media/13f35f59-f023-4d98-b06f-9dfaebefd6c1
/dev/sda5<span class="w">        </span>98G<span class="w">   </span>37G<span class="w">   </span>62G<span class="w">  </span><span class="m">38</span>%<span class="w"> </span>/media/4668484A68483B47
</code></pre></div>

<p>只有以 /dev 开始的文件系统才是实际的设备或分区。</p>
<p>可以使用grep命令来筛选出实际的硬盘分区或文件系统。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>df<span class="w"> </span>-h<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>^/dev
/dev/sda6<span class="w">        </span>97G<span class="w">   </span>43G<span class="w">   </span>49G<span class="w">  </span><span class="m">48</span>%<span class="w"> </span>/
/dev/sda8<span class="w">       </span>196G<span class="w">  </span>154G<span class="w">   </span>33G<span class="w">  </span><span class="m">83</span>%<span class="w"> </span>/media/13f35f59-f023-4d98-b06f-9dfaebefd6c1
/dev/sda5<span class="w">        </span>98G<span class="w">   </span>37G<span class="w">   </span>62G<span class="w">  </span><span class="m">38</span>%<span class="w"> </span>/media/4668484A68483B47
</code></pre></div>

<p>要只显示真正的磁盘分区与分区类型，可以这样使用Df：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>df<span class="w"> </span>-h<span class="w"> </span>--output<span class="o">=</span>source,fstype,size,used,avail,pcent,target<span class="w"> </span>-x<span class="w"> </span>tmpfs<span class="w"> </span>-x<span class="w"> </span>devtmpfs
Filesystem<span class="w">     </span>Type<span class="w">     </span>Size<span class="w">  </span>Used<span class="w"> </span>Avail<span class="w"> </span>Use%<span class="w"> </span>Mounted<span class="w"> </span>on
/dev/sda6<span class="w">      </span>ext4<span class="w">      </span>97G<span class="w">   </span>43G<span class="w">   </span>49G<span class="w">  </span><span class="m">48</span>%<span class="w"> </span>/
/dev/sda8<span class="w">      </span>ext4<span class="w">     </span>196G<span class="w">  </span>154G<span class="w">   </span>33G<span class="w">  </span><span class="m">83</span>%<span class="w"> </span>/media/13f35f59-f023-4d98-b06f-9dfaebefd6c1
/dev/sda5<span class="w">      </span>fuseblk<span class="w">   </span>98G<span class="w">   </span>37G<span class="w">   </span>62G<span class="w">  </span><span class="m">38</span>%<span class="w"> </span>/media/4668484A68483B47
</code></pre></div>

<p>请注意，Df只显示已挂载的文件系统或分区，并不是所有。</p>
<h3>6. pydf</h3>
<p>它是用Python写的Df的改进版本，以易读的方式打印出所有磁盘分区。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>pydf
Filesystem<span class="w"> </span>Size<span class="w"> </span>Used<span class="w"> </span>Avail<span class="w"> </span>Use%<span class="w">             </span>Mounted<span class="w"> </span>on<span class="w">                                 </span>
/dev/sda6<span class="w">   </span>96G<span class="w">  </span>43G<span class="w">   </span>48G<span class="w"> </span><span class="m">44</span>.7<span class="w"> </span><span class="o">[</span><span class="c1">####.....] /                                          </span>
/dev/sda8<span class="w">  </span>195G<span class="w"> </span>153G<span class="w">   </span>32G<span class="w"> </span><span class="m">78</span>.4<span class="w"> </span><span class="o">[</span><span class="c1">#######..] /media/13f35f59-f023-4d98-b06f-9dfaebefd6c1</span>
/dev/sda5<span class="w">   </span>98G<span class="w">  </span>36G<span class="w">   </span>61G<span class="w"> </span><span class="m">37</span>.1<span class="w"> </span><span class="o">[</span><span class="c1">###......] /media/4668484A68483B47</span>
</code></pre></div>

<p>另外，pydf被限制为仅显示已挂载的文件系统。</p>
<h3>7. lsblk</h3>
<p>列出了所有的块存储设备，包括磁盘分区和光盘驱动器。细节包括所有分区/块总大小和挂载点。</p>
<p>它不会报告分区上的已使用和空闲磁盘空间。</p>
<div class="highlight"><pre><span></span><code><span class="err">$</span><span class="w"> </span><span class="n">lsblk</span>
<span class="n">NAME</span><span class="w">   </span><span class="nl">MAJ</span><span class="p">:</span><span class="nf">MIN</span><span class="w"> </span><span class="n">RM</span><span class="w">   </span><span class="k">SIZE</span><span class="w"> </span><span class="n">RO</span><span class="w"> </span><span class="n">TYPE</span><span class="w"> </span><span class="n">MOUNTPOINT</span>
<span class="n">sda</span><span class="w">      </span><span class="mi">8</span><span class="err">:</span><span class="mi">0</span><span class="w">    </span><span class="mi">0</span><span class="w"> </span><span class="mf">465.8</span><span class="n">G</span><span class="w">  </span><span class="mi">0</span><span class="w"> </span><span class="k">disk</span><span class="w"> </span>
<span class="err">├─</span><span class="n">sda1</span><span class="w">   </span><span class="mi">8</span><span class="err">:</span><span class="mi">1</span><span class="w">    </span><span class="mi">0</span><span class="w">    </span><span class="mi">70</span><span class="n">G</span><span class="w">  </span><span class="mi">0</span><span class="w"> </span><span class="n">part</span><span class="w"> </span>
<span class="err">├─</span><span class="n">sda2</span><span class="w">   </span><span class="mi">8</span><span class="err">:</span><span class="mi">2</span><span class="w">    </span><span class="mi">0</span><span class="w">     </span><span class="mi">1</span><span class="n">K</span><span class="w">  </span><span class="mi">0</span><span class="w"> </span><span class="n">part</span><span class="w"> </span>
<span class="err">├─</span><span class="n">sda5</span><span class="w">   </span><span class="mi">8</span><span class="err">:</span><span class="mi">5</span><span class="w">    </span><span class="mi">0</span><span class="w">  </span><span class="mf">97.7</span><span class="n">G</span><span class="w">  </span><span class="mi">0</span><span class="w"> </span><span class="n">part</span><span class="w"> </span><span class="o">/</span><span class="n">media</span><span class="o">/</span><span class="mi">4668484</span><span class="n">A68483B47</span>
<span class="err">├─</span><span class="n">sda6</span><span class="w">   </span><span class="mi">8</span><span class="err">:</span><span class="mi">6</span><span class="w">    </span><span class="mi">0</span><span class="w">  </span><span class="mf">97.7</span><span class="n">G</span><span class="w">  </span><span class="mi">0</span><span class="w"> </span><span class="n">part</span><span class="w"> </span><span class="o">/</span>
<span class="err">├─</span><span class="n">sda7</span><span class="w">   </span><span class="mi">8</span><span class="err">:</span><span class="mi">7</span><span class="w">    </span><span class="mi">0</span><span class="w">   </span><span class="mf">1.9</span><span class="n">G</span><span class="w">  </span><span class="mi">0</span><span class="w"> </span><span class="n">part</span><span class="w"> </span><span class="o">[</span><span class="n">SWAP</span><span class="o">]</span>
<span class="err">└─</span><span class="n">sda8</span><span class="w">   </span><span class="mi">8</span><span class="err">:</span><span class="mi">8</span><span class="w">    </span><span class="mi">0</span><span class="w"> </span><span class="mf">198.5</span><span class="n">G</span><span class="w">  </span><span class="mi">0</span><span class="w"> </span><span class="n">part</span><span class="w"> </span><span class="o">/</span><span class="n">media</span><span class="o">/</span><span class="mi">13</span><span class="n">f35f59</span><span class="o">-</span><span class="n">f023</span><span class="o">-</span><span class="mi">4</span><span class="n">d98</span><span class="o">-</span><span class="n">b06f</span><span class="o">-</span><span class="mi">9</span><span class="n">dfaebefd6c1</span>
<span class="n">sdb</span><span class="w">      </span><span class="mi">8</span><span class="err">:</span><span class="mi">16</span><span class="w">   </span><span class="mi">1</span><span class="w">   </span><span class="mf">3.8</span><span class="n">G</span><span class="w">  </span><span class="mi">0</span><span class="w"> </span><span class="k">disk</span><span class="w"> </span>
<span class="err">└─</span><span class="n">sdb1</span><span class="w">   </span><span class="mi">8</span><span class="err">:</span><span class="mi">17</span><span class="w">   </span><span class="mi">1</span><span class="w">   </span><span class="mf">3.8</span><span class="n">G</span><span class="w">  </span><span class="mi">0</span><span class="w"> </span><span class="n">part</span><span class="w"> </span>
<span class="n">sr0</span><span class="w">     </span><span class="mi">11</span><span class="err">:</span><span class="mi">0</span><span class="w">    </span><span class="mi">1</span><span class="w">  </span><span class="mi">1024</span><span class="n">M</span><span class="w">  </span><span class="mi">0</span><span class="w"> </span><span class="n">rom</span>
</code></pre></div>

<p>如果没有挂载点，这就意味着文件系统未安装，而对于cd/dvd这意味着没有插入光盘。</p>
<p>lsblk能够显示每个设备的更多信息，如标签和型号，更多请查看信息手册。</p>
<h3>8. blkid</h3>
<p>显示块设备（分区和存储介质）属性，例如UUID和文件系统类型，不报告分区空间。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>sudo<span class="w"> </span>blkid
/dev/sda1:<span class="w"> </span><span class="nv">UUID</span><span class="o">=</span><span class="s2">&quot;5E38BE8B38BE6227&quot;</span><span class="w"> </span><span class="nv">TYPE</span><span class="o">=</span><span class="s2">&quot;ntfs&quot;</span><span class="w"> </span>
/dev/sda5:<span class="w"> </span><span class="nv">UUID</span><span class="o">=</span><span class="s2">&quot;4668484A68483B47&quot;</span><span class="w"> </span><span class="nv">TYPE</span><span class="o">=</span><span class="s2">&quot;ntfs&quot;</span><span class="w"> </span>
/dev/sda6:<span class="w"> </span><span class="nv">UUID</span><span class="o">=</span><span class="s2">&quot;6fa5a72a-ba26-4588-a103-74bb6b33a763&quot;</span><span class="w"> </span><span class="nv">TYPE</span><span class="o">=</span><span class="s2">&quot;ext4&quot;</span><span class="w"> </span>
/dev/sda7:<span class="w"> </span><span class="nv">UUID</span><span class="o">=</span><span class="s2">&quot;94443023-34a1-4428-8f65-2fb02e571dae&quot;</span><span class="w"> </span><span class="nv">TYPE</span><span class="o">=</span><span class="s2">&quot;swap&quot;</span><span class="w"> </span>
/dev/sda8:<span class="w"> </span><span class="nv">UUID</span><span class="o">=</span><span class="s2">&quot;13f35f59-f023-4d98-b06f-9dfaebefd6c1&quot;</span><span class="w"> </span><span class="nv">TYPE</span><span class="o">=</span><span class="s2">&quot;ext4&quot;</span><span class="w"> </span>
/dev/sdb1:<span class="w"> </span><span class="nv">UUID</span><span class="o">=</span><span class="s2">&quot;08D1-8024&quot;</span><span class="w"> </span><span class="nv">TYPE</span><span class="o">=</span><span class="s2">&quot;vfat&quot;</span>
</code></pre></div>

<h3>9. hwinfo</h3>
<p>hwinfo是一个通用的硬件信息的工具，可以用来打印出磁盘和分区表，但是输出不再像上面的命令那样打印每个分区的详细信息。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>hwinfo<span class="w"> </span>--block<span class="w"> </span>--short
disk:<span class="w">                                                           </span>
<span class="w">  </span>/dev/sda<span class="w">             </span>ST3500418AS
<span class="w">  </span>/dev/sdb<span class="w">             </span>Sony<span class="w"> </span>Storage<span class="w"> </span>Media
partition:
<span class="w">  </span>/dev/sda1<span class="w">            </span>Partition
<span class="w">  </span>/dev/sda2<span class="w">            </span>Partition
<span class="w">  </span>/dev/sda5<span class="w">            </span>Partition
<span class="w">  </span>/dev/sda6<span class="w">            </span>Partition
<span class="w">  </span>/dev/sda7<span class="w">            </span>Partition
<span class="w">  </span>/dev/sda8<span class="w">            </span>Partition
<span class="w">  </span>/dev/sdb1<span class="w">            </span>Partition
cdrom:
<span class="w">  </span>/dev/sr0<span class="w">             </span>SONY<span class="w"> </span>DVD<span class="w"> </span>RW<span class="w"> </span>DRU-190A
</code></pre></div>

<h3>总结</h3>
<p>parted的输出可以得到简洁而完整的不同分区的概述、其上的文件系统以及总空间。pydf和df它们一样，只是被限制为只显示已挂载文件系统。</p>
<p>fdisk和sfdisk显示完整大量的信息，需要花些时间来解释。cfdisk是一个交互式分区工具，每次显示一个单一的设备。</p>
<p>来尝试下这些命令吧，别忘了在下面评论哟！</p>
<p>（题图来源：http://freegraphicdownload.com/）</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>