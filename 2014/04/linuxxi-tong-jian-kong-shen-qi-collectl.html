<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>Linux系统监控神器--Collectl</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Author: '' 系统资源监控 为使系统良好运转,Linux系统管理员经常需要监测cpu,内存,磁盘,网络等系统信息。Linux上已有iotop,top,free,htop,sar等丰富的常规工具来实现监测功能。今天让我们走进Collectl来了解这个集测试/监控/分析系统性能为一 …" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">linux_cn</a></h1>
                <nav><ul>
                    <li><a href="/category/chuan-shan-jia-zhuan-fang">穿山甲专访</a></li>
                    <li><a href="/category/dai-ma-ying-xiong">代码英雄</a></li>
                    <li><a href="/category/fen-xiang">分享</a></li>
                    <li><a href="/category/guan-dian">观点</a></li>
                    <li><a href="/category/huo-dong">活动</a></li>
                    <li><a href="/category/ji-ke-man-hua">极客漫画</a></li>
                    <li><a href="/category/ji-zhu">技术</a></li>
                    <li><a href="/category/kai-yuan-zhi-hui">开源智慧</a></li>
                    <li><a href="/category/linux-fa-xing-ban">Linux 发行版</a></li>
                    <li><a href="/category/mei-ri-an-quan-zi-xun">每日安全资讯</a></li>
                    <li><a href="/category/misc">Misc</a></li>
                    <li><a href="/category/qu-kuai-lian">区块链</a></li>
                    <li><a href="/category/rong-qi-yu-yun">容器与云</a></li>
                    <li><a href="/category/ruan-jian-kai-fa">软件开发</a></li>
                    <li><a href="/category/shu-mei-pai">树莓派</a></li>
                    <li class="active"><a href="/category/xi-tong-yun-wei">系统运维</a></li>
                    <li><a href="/category/xin-wen">新闻</a></li>
                    <li><a href="/category/ying-he-guan-cha">硬核观察</a></li>
                    <li><a href="/category/zhi-ye-sheng-ya">职业生涯</a></li>
                    <li><a href="/category/zhong-jiang-ming-dan">中奖名单</a></li>
                    <li><a href="/category/zhuo-mian-ying-yong">桌面应用</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2014/04/linuxxi-tong-jian-kong-shen-qi-collectl.html" rel="bookmark"
           title="Permalink to Linux系统监控神器--Collectl">Linux系统监控神器--Collectl</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2014-04-10T15:15:00+02:00">
                Published: Thu 10 April 2014
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/linux-fans-from-china.html">linux fans from china</a>
        </address>
<p>In <a href="/category/xi-tong-yun-wei">系统运维</a>.</p>

</footer><!-- /.post-info -->      <p>Author: ''</p>
<h3>系统资源监控</h3>
<p><img alt="" src="/data/attachment/album/201404/10/151523ivereenrvlay110l.png"></p>
<p>为使系统良好运转,Linux系统管理员经常需要监测cpu,内存,磁盘,网络等系统信息。Linux上已有iotop,top,free,htop,sar等丰富的常规工具来实现监测功能。今天让我们走进Collectl来了解这个集测试/监控/分析系统性能为一体的Linux工具。</p>
<p>Collectl作为一个轻量级的监控工具,在同类工具中是功能最全的。用户可监测不同的复杂系统矩阵值,并可保留数据以做之后的分析。不同于其他只用来监测特定系统参数的工具,Collectl可以同时监测不同的变量,并以合适的方式记录它们。</p>
<p>摘自<a href="http://collectl.sourceforge.net/">Collectl官网</a> ...</p>
<blockquote>
<p>不同于或聚焦于一小组统计数据、采用唯一输出方式,或采用迭代、作为守护进程运行的大部分监测工具,collectl可以同时全部实现。用户可选择各种子系统中的任一系统来监测包括内存,CPU,磁盘,索引节点,无线带宽,lustre,内存,网络,网络文件系统,进程,二次型,slabs,套接口及TCP等信息。</p>
</blockquote>
<p>深入学习前让我们先看以下命令。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>collectl
waiting<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="m">1</span><span class="w"> </span>second<span class="w"> </span>sample...
<span class="c1">#&lt;--------CPU--------&gt;&lt;----------Disks-----------&gt;&lt;----------Network----------&gt;</span>
<span class="c1">#cpu sys inter  ctxsw KBRead  Reads KBWrit Writes   KBIn  PktIn  KBOut  PktOut </span>
<span class="w">   </span><span class="m">0</span><span class="w">   </span><span class="m">0</span><span class="w">   </span><span class="m">864</span><span class="w">   </span><span class="m">1772</span><span class="w">      </span><span class="m">0</span><span class="w">      </span><span class="m">0</span><span class="w">      </span><span class="m">0</span><span class="w">      </span><span class="m">0</span><span class="w">      </span><span class="m">0</span><span class="w">      </span><span class="m">1</span><span class="w">      </span><span class="m">0</span><span class="w">       </span><span class="m">0</span><span class="w"> </span>
<span class="w">   </span><span class="m">5</span><span class="w">   </span><span class="m">2</span><span class="w">  </span><span class="m">1338</span><span class="w">   </span><span class="m">2734</span><span class="w">      </span><span class="m">0</span><span class="w">      </span><span class="m">0</span><span class="w">      </span><span class="m">8</span><span class="w">      </span><span class="m">2</span><span class="w">      </span><span class="m">0</span><span class="w">      </span><span class="m">0</span><span class="w">      </span><span class="m">0</span><span class="w">       </span><span class="m">1</span><span class="w"> </span>
<span class="w">   </span><span class="m">1</span><span class="w">   </span><span class="m">0</span><span class="w">  </span><span class="m">1222</span><span class="w">   </span><span class="m">2647</span><span class="w">      </span><span class="m">0</span><span class="w">      </span><span class="m">0</span><span class="w">     </span><span class="m">92</span><span class="w">      </span><span class="m">3</span><span class="w">      </span><span class="m">0</span><span class="w">      </span><span class="m">2</span><span class="w">      </span><span class="m">0</span><span class="w">       </span><span class="m">1</span><span class="w"> </span>
<span class="w">   </span><span class="m">1</span><span class="w">   </span><span class="m">0</span><span class="w">   </span><span class="m">763</span><span class="w">   </span><span class="m">1722</span><span class="w">      </span><span class="m">0</span><span class="w">      </span><span class="m">0</span><span class="w">     </span><span class="m">80</span><span class="w">      </span><span class="m">3</span><span class="w">      </span><span class="m">0</span><span class="w">      </span><span class="m">1</span><span class="w">      </span><span class="m">0</span><span class="w">       </span><span class="m">2</span>
</code></pre></div>

<p>CPU使用率,磁盘输入输出和网络活动以每秒为单位来加载。对可以理解这些数据的人来说这些信息很容易读懂。这项列表在给定的时间间隔里会持续增加，并可直接形成一项文件跟踪日志。collectl工具提供了各种命令来对这些数据进行记录,查找及做其他处理。</p>
<h3>安装collectl工具</h3>
<p>对Ubuntu/Debian用户来说Collectl是默认资源,所以使用apt命令便可获取。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>collectl
</code></pre></div>

<p>Fedora/CentOS用户使用yum命令便可获取。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>yum<span class="w"> </span>install<span class="w"> </span>collectl
</code></pre></div>

<h3>使用</h3>
<h4>必要的了解 - Collectl子系统</h4>
<p>子系统是可检测到的不同系统资源类型。像CPU,内存,带宽等等都可构成一个子系统。只运行collectl命令将以批处理模式输出CPU,磁盘和网络子系统信息,我们在上文已看到相关内容。</p>
<p>从操作说明可以看到,Collectl可以识别以下子系统。</p>
<div class="highlight"><pre><span></span><code><span class="err">总计子系统</span>

<span class="n">b</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">buddy</span><span class="w"> </span><span class="n">info</span><span class="w"> </span><span class="p">(</span><span class="err">内存片段</span><span class="p">)</span>
<span class="n">c</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">CPU</span>
<span class="n">d</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Disk</span>
<span class="n">f</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">NFS</span><span class="w"> </span><span class="n">V3</span><span class="w"> </span><span class="n">Data</span>
<span class="n">i</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Inode</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">File</span><span class="w"> </span><span class="n">System</span>
<span class="n">j</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Interrupts</span>
<span class="n">l</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Lustre</span>
<span class="n">m</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Memory</span>
<span class="n">n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Networks</span>
<span class="n">s</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Sockets</span>
<span class="n">t</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">TCP</span>
<span class="n">x</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Interconnect</span>
<span class="n">y</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Slabs</span><span class="w"> </span><span class="p">(</span><span class="n">system</span><span class="w"> </span><span class="n">object</span><span class="w"> </span><span class="n">caches</span><span class="p">)</span>

<span class="err">细节子系统</span>

<span class="err">这是一系列的详细信息</span><span class="p">,</span><span class="err">大部分情况下都会由相应的总计数据衍生出来。目前“环境变量”和“进程”</span><span class="mi">2</span><span class="err">类没有相应的总计数据。如果有</span><span class="mi">3</span><span class="err">个磁盘</span><span class="p">,</span><span class="err">选择</span><span class="o">-</span><span class="n">sd</span><span class="p">,</span><span class="err">将只会看到</span><span class="mi">3</span><span class="err">个磁盘组合出的单一信息。如果选择</span><span class="o">-</span><span class="n">sD</span><span class="p">,</span><span class="err">将会分别显示各磁盘信息。</span>

<span class="n">C</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">CPU</span>
<span class="n">D</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Disk</span>
<span class="n">E</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Environmental</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="p">(</span><span class="n">fan</span><span class="p">,</span><span class="w"> </span><span class="n">power</span><span class="p">,</span><span class="w"> </span><span class="n">temp</span><span class="p">),</span><span class="w">  </span><span class="n">via</span><span class="w"> </span><span class="n">ipmitool</span>
<span class="n">F</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">NFS</span><span class="w"> </span><span class="n">Data</span>
<span class="n">J</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Interrupts</span>
<span class="n">L</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Lustre</span><span class="w"> </span><span class="n">OST</span><span class="w"> </span><span class="n">detail</span><span class="w"> </span><span class="n">OR</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">Filesystem</span><span class="w"> </span><span class="n">detail</span>
<span class="n">M</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Memory</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">known</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">numa</span><span class="w"> </span><span class="n">data</span>
<span class="n">N</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Networks</span>
<span class="n">T</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">65</span><span class="w"> </span><span class="n">TCP</span><span class="w"> </span><span class="n">counters</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">available</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">plot</span><span class="w"> </span><span class="n">format</span>
<span class="n">X</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Interconnect</span>
<span class="n">Y</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Slabs</span><span class="w"> </span><span class="p">(</span><span class="n">system</span><span class="w"> </span><span class="n">object</span><span class="w"> </span><span class="n">caches</span><span class="p">)</span>
<span class="n">Z</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Processes</span>
</code></pre></div>

<p>使用“-s”来监测特定的子系统并向其添加子系统的识别项。现在让我们举几个例子。</p>
<h4>1. 监测cpu使用率</h4>
<p>用“-sc”实现CPU总使用率的监测</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>collectl<span class="w"> </span>-sc
waiting<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="m">1</span><span class="w"> </span>second<span class="w"> </span>sample...
<span class="c1">#&lt;--------CPU--------&gt;</span>
<span class="c1">#cpu sys inter  ctxsw </span>
<span class="w">   </span><span class="m">3</span><span class="w">   </span><span class="m">0</span><span class="w">  </span><span class="m">1800</span><span class="w">   </span><span class="m">3729</span><span class="w"> </span>
<span class="w">   </span><span class="m">3</span><span class="w">   </span><span class="m">0</span><span class="w">  </span><span class="m">1767</span><span class="w">   </span><span class="m">3599</span>
</code></pre></div>

<p>使用“-C”观察各个单独的CPU使用情况。结果将会输出多行,分别对应一个CPU。</p>
<div class="highlight"><pre><span></span><code><span class="w">   </span>$<span class="w"> </span><span class="nv">collectl</span><span class="w"> </span><span class="o">-</span><span class="nv">sC</span>
<span class="nv">waiting</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="nv">second</span><span class="w"> </span><span class="nv">sample</span>...

#<span class="w"> </span><span class="nv">SINGLE</span><span class="w"> </span><span class="nv">CPU</span><span class="w"> </span><span class="nv">STATISTICS</span>

#<span class="w">   </span><span class="nv">Cpu</span><span class="w">  </span><span class="nv">User</span><span class="w"> </span><span class="nv">Nice</span><span class="w">  </span><span class="nv">Sys</span><span class="w"> </span><span class="k">Wait</span><span class="w"> </span><span class="nv">IRQ</span><span class="w">  </span><span class="nv">Soft</span><span class="w"> </span><span class="nv">Steal</span><span class="w"> </span><span class="nv">Idle</span>
<span class="w">      </span><span class="mi">0</span><span class="w">     </span><span class="mi">3</span><span class="w">    </span><span class="mi">0</span><span class="w">    </span><span class="mi">0</span><span class="w">    </span><span class="mi">0</span><span class="w">    </span><span class="mi">0</span><span class="w">    </span><span class="mi">0</span><span class="w">     </span><span class="mi">0</span><span class="w">   </span><span class="mi">96</span>
<span class="w">      </span><span class="mi">1</span><span class="w">     </span><span class="mi">3</span><span class="w">    </span><span class="mi">0</span><span class="w">    </span><span class="mi">0</span><span class="w">    </span><span class="mi">0</span><span class="w">    </span><span class="mi">0</span><span class="w">    </span><span class="mi">0</span><span class="w">     </span><span class="mi">0</span><span class="w">   </span><span class="mi">96</span>
<span class="w">      </span><span class="mi">2</span><span class="w">     </span><span class="mi">2</span><span class="w">    </span><span class="mi">0</span><span class="w">    </span><span class="mi">0</span><span class="w">    </span><span class="mi">0</span><span class="w">    </span><span class="mi">0</span><span class="w">    </span><span class="mi">0</span><span class="w">     </span><span class="mi">0</span><span class="w">   </span><span class="mi">97</span>
<span class="w">      </span><span class="mi">3</span><span class="w">     </span><span class="mi">1</span><span class="w">    </span><span class="mi">0</span><span class="w">    </span><span class="mi">0</span><span class="w">    </span><span class="mi">0</span><span class="w">    </span><span class="mi">0</span><span class="w">    </span><span class="mi">0</span><span class="w">     </span><span class="mi">0</span><span class="w">   </span><span class="mi">98</span>
<span class="w">      </span><span class="mi">0</span><span class="w">     </span><span class="mi">2</span><span class="w">    </span><span class="mi">0</span><span class="w">    </span><span class="mi">0</span><span class="w">    </span><span class="mi">0</span><span class="w">    </span><span class="mi">0</span><span class="w">    </span><span class="mi">0</span><span class="w">     </span><span class="mi">0</span><span class="w">   </span><span class="mi">97</span>
<span class="w">      </span><span class="mi">1</span><span class="w">     </span><span class="mi">2</span><span class="w">    </span><span class="mi">0</span><span class="w">    </span><span class="mi">2</span><span class="w">    </span><span class="mi">0</span><span class="w">    </span><span class="mi">0</span><span class="w">    </span><span class="mi">0</span><span class="w">     </span><span class="mi">0</span><span class="w">   </span><span class="mi">95</span>
<span class="w">      </span><span class="mi">2</span><span class="w">     </span><span class="mi">1</span><span class="w">    </span><span class="mi">0</span><span class="w">    </span><span class="mi">0</span><span class="w">    </span><span class="mi">0</span><span class="w">    </span><span class="mi">0</span><span class="w">    </span><span class="mi">0</span><span class="w">     </span><span class="mi">0</span><span class="w">   </span><span class="mi">98</span>
<span class="w">      </span><span class="mi">3</span><span class="w">     </span><span class="mi">4</span><span class="w">    </span><span class="mi">0</span><span class="w">    </span><span class="mi">1</span><span class="w">    </span><span class="mi">0</span><span class="w">    </span><span class="mi">0</span><span class="w">    </span><span class="mi">0</span><span class="w">     </span><span class="mi">0</span><span class="w">   </span><span class="mi">95</span>
</code></pre></div>

<p>如果需要,可以同时使用C和c来获取单项CPU监测数据和汇总数据。</p>
<h4>2. 内存监测</h4>
<p>使用m子系统查看内存。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>collectl<span class="w"> </span>-sm
waiting<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="m">1</span><span class="w"> </span>second<span class="w"> </span>sample...
<span class="c1">#&lt;-----------Memory-----------&gt;</span>
<span class="c1">#Free Buff Cach Inac Slab  Map </span>
<span class="w">   </span>2G<span class="w"> </span>220M<span class="w">   </span>1G<span class="w">   </span>1G<span class="w"> </span>210M<span class="w">   </span>3G<span class="w"> </span>
<span class="w">   </span>2G<span class="w"> </span>220M<span class="w">   </span>1G<span class="w">   </span>1G<span class="w"> </span>210M<span class="w">   </span>3G<span class="w"> </span>
<span class="w">   </span>2G<span class="w"> </span>220M<span class="w">   </span>1G<span class="w">   </span>1G<span class="w"> </span>210M<span class="w">   </span>3G
</code></pre></div>

<p>不难解释。 M用来查看更多内存的详细信息。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>collectl<span class="w"> </span>-sM
waiting<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="m">1</span><span class="w"> </span>second<span class="w"> </span>sample...

<span class="c1"># MEMORY STATISTICS </span>

<span class="c1"># Node    Total     Used     Free     Slab   Mapped     Anon   Locked    Inact Hit%</span>
<span class="w">     </span><span class="m">0</span><span class="w">    </span>7975M<span class="w">    </span>5939M<span class="w">    </span>2036M<span class="w">  </span>215720K<span class="w">  </span>372184K<span class="w">        </span><span class="m">0</span><span class="w">    </span>6652K<span class="w">    </span>1434M<span class="w">    </span><span class="m">0</span>
<span class="w">     </span><span class="m">0</span><span class="w">    </span>7975M<span class="w">    </span>5939M<span class="w">    </span>2036M<span class="w">  </span>215720K<span class="w">  </span>372072K<span class="w">        </span><span class="m">0</span><span class="w">    </span>6652K<span class="w">    </span>1433M<span class="w">    </span><span class="m">0</span>
</code></pre></div>

<p>这类似于免费报告吗？</p>
<h4>3. 查看磁盘使用情况</h4>
<p>d和D可以查看磁盘使用的概况和详细情况。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>collectl<span class="w"> </span>-sd
waiting<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="m">1</span><span class="w"> </span>second<span class="w"> </span>sample...
<span class="c1">#&lt;----------Disks-----------&gt;</span>
<span class="c1">#KBRead  Reads KBWrit Writes </span>
<span class="w">      </span><span class="m">4</span><span class="w">      </span><span class="m">1</span><span class="w">    </span><span class="m">136</span><span class="w">     </span><span class="m">24</span><span class="w"> </span>
<span class="w">      </span><span class="m">0</span><span class="w">      </span><span class="m">0</span><span class="w">     </span><span class="m">80</span><span class="w">     </span><span class="m">13</span>

$<span class="w"> </span>collectl<span class="w"> </span>-sD
waiting<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="m">1</span><span class="w"> </span>second<span class="w"> </span>sample...

<span class="c1"># DISK STATISTICS (/sec)</span>
<span class="c1">#          &lt;---------reads---------&gt;&lt;---------writes---------&gt;&lt;--------averages--------&gt; Pct</span>
<span class="c1">#Name       KBytes Merged  IOs Size  KBytes Merged  IOs Size  RWSize  QLen  Wait SvcTim Util</span>
sda<span class="w">              </span><span class="m">0</span><span class="w">      </span><span class="m">0</span><span class="w">    </span><span class="m">0</span><span class="w">    </span><span class="m">0</span><span class="w">       </span><span class="m">0</span><span class="w">      </span><span class="m">0</span><span class="w">    </span><span class="m">0</span><span class="w">    </span><span class="m">0</span><span class="w">       </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">      </span><span class="m">0</span><span class="w">    </span><span class="m">0</span>
sda<span class="w">              </span><span class="m">0</span><span class="w">      </span><span class="m">0</span><span class="w">    </span><span class="m">0</span><span class="w">    </span><span class="m">0</span><span class="w">       </span><span class="m">0</span><span class="w">      </span><span class="m">0</span><span class="w">    </span><span class="m">0</span><span class="w">    </span><span class="m">0</span><span class="w">       </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">      </span><span class="m">0</span><span class="w">    </span><span class="m">0</span>
sda<span class="w">              </span><span class="m">1</span><span class="w">      </span><span class="m">0</span><span class="w">    </span><span class="m">2</span><span class="w">    </span><span class="m">1</span><span class="w">      </span><span class="m">17</span><span class="w">      </span><span class="m">1</span><span class="w">    </span><span class="m">5</span><span class="w">    </span><span class="m">3</span><span class="w">       </span><span class="m">2</span><span class="w">     </span><span class="m">2</span><span class="w">     </span><span class="m">6</span><span class="w">      </span><span class="m">2</span><span class="w">    </span><span class="m">1</span>
sda<span class="w">              </span><span class="m">0</span><span class="w">      </span><span class="m">0</span><span class="w">    </span><span class="m">0</span><span class="w">    </span><span class="m">0</span><span class="w">      </span><span class="m">92</span><span class="w">     </span><span class="m">11</span><span class="w">    </span><span class="m">5</span><span class="w">   </span><span class="m">18</span><span class="w">      </span><span class="m">18</span><span class="w">     </span><span class="m">1</span><span class="w">    </span><span class="m">12</span><span class="w">     </span><span class="m">12</span><span class="w">    </span><span class="m">5</span>
</code></pre></div>

<p>“--verbose”命令可以用来查看附加信息。和D命令不同,它将概况扩展,包含了更多信息。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>collectl<span class="w"> </span>-sd<span class="w"> </span>--verbose
</code></pre></div>

<h4>4. 同时报告多系统情况</h4>
<p>如果想要同时得到CPU,内存和磁盘报告,那么同时使用子命令组合来实现。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>collectl<span class="w"> </span>-scmd
waiting<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="m">1</span><span class="w"> </span>second<span class="w"> </span>sample...
<span class="c1">#&lt;--------CPU--------&gt;&lt;-----------Memory-----------&gt;&lt;----------Disks-----------&gt;</span>
<span class="c1">#cpu sys inter  ctxsw Free Buff Cach Inac Slab  Map KBRead  Reads KBWrit Writes </span>
<span class="w">   </span><span class="m">4</span><span class="w">   </span><span class="m">0</span><span class="w">  </span><span class="m">2187</span><span class="w">   </span><span class="m">4334</span><span class="w">   </span>1G<span class="w"> </span>221M<span class="w">   </span>1G<span class="w">   </span>1G<span class="w"> </span>210M<span class="w">   </span>3G<span class="w">      </span><span class="m">0</span><span class="w">      </span><span class="m">0</span><span class="w">      </span><span class="m">0</span><span class="w">      </span><span class="m">0</span><span class="w"> </span>
<span class="w">   </span><span class="m">3</span><span class="w">   </span><span class="m">0</span><span class="w">  </span><span class="m">1896</span><span class="w">   </span><span class="m">4065</span><span class="w">   </span>1G<span class="w"> </span>221M<span class="w">   </span>1G<span class="w">   </span>1G<span class="w"> </span>210M<span class="w">   </span>3G<span class="w">      </span><span class="m">0</span><span class="w">      </span><span class="m">0</span><span class="w">     </span><span class="m">20</span><span class="w">      </span><span class="m">5</span>
</code></pre></div>

<h4>5. 显示统计时间</h4>
<p>若要将每行的监测信息和时间一同显示,使用T选项。通过在“-o”参数来指定。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>collectl<span class="w"> </span>-scmd<span class="w"> </span>-oT
waiting<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="m">1</span><span class="w"> </span>second<span class="w"> </span>sample...
<span class="c1">#         &lt;--------CPU--------&gt;&lt;-----------Memory-----------&gt;&lt;----------Disks-----------&gt;</span>
<span class="c1">#Time     cpu sys inter  ctxsw Free Buff Cach Inac Slab  Map KBRead  Reads KBWrit Writes </span>
<span class="m">12</span>:03:05<span class="w">    </span><span class="m">3</span><span class="w">   </span><span class="m">0</span><span class="w">  </span><span class="m">1961</span><span class="w">   </span><span class="m">4013</span><span class="w">   </span>1G<span class="w"> </span>225M<span class="w">   </span>1G<span class="w">   </span>1G<span class="w"> </span>212M<span class="w">   </span>3G<span class="w">      </span><span class="m">0</span><span class="w">      </span><span class="m">0</span><span class="w">      </span><span class="m">0</span><span class="w">      </span><span class="m">0</span><span class="w"> </span>
<span class="m">12</span>:03:06<span class="w">    </span><span class="m">3</span><span class="w">   </span><span class="m">0</span><span class="w">  </span><span class="m">1884</span><span class="w">   </span><span class="m">3810</span><span class="w">   </span>1G<span class="w"> </span>225M<span class="w">   </span>1G<span class="w">   </span>1G<span class="w"> </span>212M<span class="w">   </span>3G<span class="w">      </span><span class="m">0</span><span class="w">      </span><span class="m">0</span><span class="w">      </span><span class="m">0</span><span class="w">      </span><span class="m">0</span><span class="w"> </span>
<span class="m">12</span>:03:07<span class="w">    </span><span class="m">3</span><span class="w">   </span><span class="m">0</span><span class="w">  </span><span class="m">2011</span><span class="w">   </span><span class="m">4060</span><span class="w">   </span>1G<span class="w"> </span>225M<span class="w">   </span>1G<span class="w">   </span>1G<span class="w"> </span>212M<span class="w">   </span>3G<span class="w">      </span><span class="m">0</span><span class="w">      </span><span class="m">0</span><span class="w">      </span><span class="m">0</span><span class="w">      </span><span class="m">0</span>
</code></pre></div>

<p>使用“-oTm”可将时间换成毫秒显示。</p>
<h4>6. 改变样本计数</h4>
<p>collectl报告的每行都是一份快照或样本,它通常设定定期间隔如1秒来取样。i可用来设置时间间隔,c用来设置样本计数。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>collectl<span class="w"> </span>-c1<span class="w"> </span>-sm
waiting<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="m">1</span><span class="w"> </span>second<span class="w"> </span>sample...
<span class="c1">#&lt;-----------Memory-----------&gt;</span>
<span class="c1">#Free Buff Cach Inac Slab  Map </span>
<span class="w">   </span>1G<span class="w"> </span>261M<span class="w">   </span>1G<span class="w">   </span>1G<span class="w"> </span>228M<span class="w">   </span>3G
</code></pre></div>

<p>使用i命令可改变更新时间间隔。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>collectl<span class="w"> </span>-sm<span class="w"> </span>-i2
waiting<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="m">2</span><span class="w"> </span>second<span class="w"> </span>sample...
<span class="c1">#&lt;-----------Memory-----------&gt;</span>
<span class="c1">#Free Buff Cach Inac Slab  Map </span>
<span class="w">   </span>1G<span class="w"> </span>261M<span class="w">   </span>1G<span class="w">   </span>1G<span class="w"> </span>229M<span class="w">   </span>3G
</code></pre></div>

<p>上面的命令设定每2秒收集一次内存信息。</p>
<h4>7. 像iotop一样使用collectl</h4>
<p>top命令将collectl像iostat/top工具一样进行智能统计。列表会持续更新,且可以使用不同字段实现排序。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>collectl<span class="w"> </span>--top<span class="w"> </span>iokb
</code></pre></div>

<p>输出如下</p>
<div class="highlight"><pre><span></span><code><span class="gh">#</span> TOP PROCESSES sorted by iokb (counters are /sec) 09:44:57
<span class="gh">#</span> PID  User     PR  PPID THRD S   VSZ   RSS CP  SysT  UsrT Pct  AccuTime  RKB  WKB MajF MinF Command
 3104  enlighte 20  2683    3 S  938M   33M  0  0.00  0.00   0  00:09.16    0    4    0    0 /usr/bin/ktorrent 
    1  root     20     0    0 S   26M    3M  2  0.00  0.00   0  00:01.30    0    0    0    0 /sbin/init 
    2  root     20     0    0 S     0     0  3  0.00  0.00   0  00:00.00    0    0    0    0 kthreadd 
    3  root     20     2    0 S     0     0  0  0.00  0.00   0  00:00.02    0    0    0    0 ksoftirqd/0 
    4  root     20     2    0 S     0     0  0  0.00  0.00   0  00:00.00    0    0    0    0 kworker/0:0 
    5  root      0     2    0 S     0     0  0  0.00  0.00   0  00:00.00    0    0    0    0 kworker/0:0H 
    7  root     RT     2    0 S     0     0  0  0.00  0.00   0  00:00.08    0    0    0    0 migration/0 
    8  root     20     2    0 S     0     0  2  0.00  0.00   0  00:00.00    0    0    0    0 rcu_bh 
    9  root     20     2    0 S     0     0  0  0.00  0.00   0  00:00.00    0    0    0    0 rcuob/0
</code></pre></div>

<p>上面的输出很像top命令,并且它以磁盘数量降序排列进程。</p>
<p>若只想显示上面的5项进程,可用以下命令实现</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>collectl<span class="w"> </span>--top<span class="w"> </span>iokb,5
</code></pre></div>

<p>若想学习上面的列表里哪些字段可以排序,使用如下命令</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>collectl<span class="w"> </span>--showtopopts

下面是应用于进程或数据的最高排序类型列表。某些情况下你可能会使用某一字段进行排序,但它并非显示的一部分。

TOP<span class="w"> </span>PROCESS<span class="w"> </span>SORT<span class="w"> </span>FIELDS
进程排序字段

Memory
<span class="w">  </span>vsz<span class="w">    </span>virtual<span class="w"> </span>memory
<span class="w">  </span>rss<span class="w">    </span>resident<span class="w"> </span><span class="o">(</span>physical<span class="o">)</span><span class="w"> </span>memory

Time
<span class="w">  </span>syst<span class="w">   </span>system<span class="w"> </span><span class="nb">time</span>
<span class="w">  </span>usrt<span class="w">   </span>user<span class="w"> </span><span class="nb">time</span>
<span class="w">  </span><span class="nb">time</span><span class="w">   </span>total<span class="w"> </span><span class="nb">time</span>
<span class="w">  </span>accum<span class="w">  </span>accumulated<span class="w"> </span><span class="nb">time</span>

I/O
<span class="w">  </span>rkb<span class="w">    </span>KB<span class="w"> </span><span class="nb">read</span>
<span class="w">  </span>wkb<span class="w">    </span>KB<span class="w"> </span>written
<span class="w">  </span>iokb<span class="w">   </span>total<span class="w"> </span>I/O<span class="w"> </span>KB

<span class="w">  </span>rkbc<span class="w">   </span>KB<span class="w"> </span><span class="nb">read</span><span class="w"> </span>from<span class="w"> </span>pagecache
<span class="w">  </span>wkbc<span class="w">   </span>KB<span class="w"> </span>written<span class="w"> </span>to<span class="w"> </span>pagecache
<span class="w">  </span>iokbc<span class="w">  </span>total<span class="w"> </span>pagecacge<span class="w"> </span>I/O
<span class="w">  </span>ioall<span class="w">  </span>total<span class="w"> </span>I/O<span class="w"> </span>KB<span class="w"> </span><span class="o">(</span>iokb+iokbc<span class="o">)</span>

<span class="w">  </span>rsys<span class="w">   </span><span class="nb">read</span><span class="w"> </span>system<span class="w"> </span>calls
<span class="w">  </span>wsys<span class="w">   </span>write<span class="w"> </span>system<span class="w"> </span>calls
<span class="w">  </span>iosys<span class="w">  </span>total<span class="w"> </span>system<span class="w"> </span>calls

<span class="w">  </span>iocncl<span class="w"> </span>Cancelled<span class="w"> </span>write<span class="w"> </span>bytes

Page<span class="w"> </span>Faults
<span class="w">  </span>majf<span class="w">   </span>major<span class="w"> </span>page<span class="w"> </span>faults
<span class="w">  </span>minf<span class="w">   </span>minor<span class="w"> </span>page<span class="w"> </span>faults
<span class="w">  </span>flt<span class="w">    </span>total<span class="w"> </span>page<span class="w"> </span>faults

Context<span class="w"> </span>Switches
<span class="w">  </span>vctx<span class="w">   </span>volunary<span class="w"> </span>context<span class="w"> </span>switches
<span class="w">  </span>nctx<span class="w">   </span>non-voluntary<span class="w"> </span>context<span class="w"> </span>switches

Miscellaneous<span class="w"> </span><span class="o">(</span>best<span class="w"> </span>when<span class="w"> </span>used<span class="w"> </span>with<span class="w"> </span>--procfilt<span class="o">)</span>
<span class="w">  </span>cpu<span class="w">    </span>cpu<span class="w"> </span>number
<span class="w">  </span>pid<span class="w">    </span>process<span class="w"> </span>pid
<span class="w">  </span>thread<span class="w"> </span>total<span class="w"> </span>process<span class="w"> </span>threads<span class="w"> </span><span class="o">(</span>not<span class="w"> </span>counting<span class="w"> </span>main<span class="o">)</span>

TOP<span class="w"> </span>SLAB<span class="w"> </span>SORT<span class="w"> </span>FIELDS

<span class="w">  </span>numobj<span class="w">    </span>total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>slab<span class="w"> </span>objects
<span class="w">  </span>actobj<span class="w">    </span>active<span class="w"> </span>slab<span class="w"> </span>objects
<span class="w">  </span>objsize<span class="w">   </span>sizes<span class="w"> </span>of<span class="w"> </span>slab<span class="w"> </span>objects
<span class="w">  </span>numslab<span class="w">   </span>number<span class="w"> </span>of<span class="w"> </span>slabs
<span class="w">  </span>objslab<span class="w">   </span>number<span class="w"> </span>of<span class="w"> </span>objects<span class="w"> </span><span class="k">in</span><span class="w"> </span>a<span class="w"> </span>slab
<span class="w">  </span>totsize<span class="w">   </span>total<span class="w"> </span>memory<span class="w"> </span>sizes<span class="w"> </span>taken<span class="w"> </span>by<span class="w"> </span>slabs
<span class="w">  </span>totchg<span class="w">    </span>change<span class="w"> </span><span class="k">in</span><span class="w"> </span>memory<span class="w"> </span>sizes
<span class="w">  </span>totpct<span class="w">    </span>percent<span class="w"> </span>change<span class="w"> </span><span class="k">in</span><span class="w"> </span>memory<span class="w"> </span>sizes
<span class="w">  </span>name<span class="w">      </span>slab<span class="w"> </span>names
</code></pre></div>

<h4>8. 像top一样使用collectl</h4>
<p>为使collectl像top,我们只需以CPU使用率排序输出进程。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>collectl<span class="w"> </span>--top
</code></pre></div>

<p>输出如下</p>
<div class="highlight"><pre><span></span><code># TOP PROCESSES sorted by time (counters are /sec) 14:08:46
# PID  User     PR  PPID THRD S   VSZ   RSS CP  SysT  UsrT Pct  AccuTime  RKB  WKB MajF MinF Command
 9471  enlighte 20  9102    0 R   63M   22M  3  0.03  0.10  13  00:00.81    0    0    0    3 /usr/bin/perl 
 3076  enlighte 20  2683    2 S  521M   40M  2  0.00  0.03   3  00:55.14    0    0    0    2 /usr/bin/yakuake 
 3877  enlighte 20  3356   41 S    1G  218M  1  0.00  0.03   3  10:10.50    0    0    0    0 /opt/google/chrome/chrome 
 4625  enlighte 20  2895   36 S    1G  241M  2  0.00  0.02   2  08:24.39    0    0    0   12 /usr/lib/firefox/firefox 
 5638  enlighte 20  3356    3 S    1G  265M  1  0.00  0.02   2  09:55.04    0    0    0    2 /opt/google/chrome/chrome 
 1186  root     20  1152    4 S  502M   76M  0  0.00  0.01   1  03:02.96    0    0    0    0 /usr/bin/X 
 1334  www-data 20  1329    0 S   87M    1M  2  0.00  0.01   1  00:00.85    0    0    0    0 nginx:
</code></pre></div>

<p>上面的命令也可用于显示子系统信息。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>collectl<span class="w"> </span>--top<span class="w"> </span>-scm
</code></pre></div>

<h4>9. 像ps一样列出进程</h4>
<p>为像ps命令一样列出所有进程且没有后续更新,用“c”命令让其计数至1. $ collectl -c1 -sZ -i:1</p>
<p>上面的命令将会列出类似“ps -e”命令的所有进程。“procfilt”用于从所有进程中过滤出特定的进程信息。“procopts”用于指定另一组微调进程列表显示的命令。</p>
<h4>10. 像vmstat一样使用collectl</h4>
<p>Collectl有内置命令来完成像vmstat一样的功能。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>collectl<span class="w"> </span>--vmstat
waiting<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="m">1</span><span class="w"> </span>second<span class="w"> </span>sample...
<span class="c1">#procs ---------------memory (KB)--------------- --swaps-- -----io---- --system-- ----cpu-----</span>
<span class="c1"># r  b   swpd   free   buff  cache  inact active   si   so    bi    bo   in    cs us sy  id wa</span>
<span class="w">  </span><span class="m">1</span><span class="w">  </span><span class="m">0</span><span class="w">      </span><span class="m">0</span><span class="w">  </span>1733M<span class="w">   </span>242M<span class="w">  </span>1922M<span class="w">  </span>1137M<span class="w">   </span>710M<span class="w">    </span><span class="m">0</span><span class="w">    </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">   </span><span class="m">108</span><span class="w"> </span><span class="m">1982</span><span class="w">  </span><span class="m">3918</span><span class="w">  </span><span class="m">2</span><span class="w">  </span><span class="m">0</span><span class="w">  </span><span class="m">95</span><span class="w">  </span><span class="m">1</span>
<span class="w">  </span><span class="m">1</span><span class="w">  </span><span class="m">0</span><span class="w">      </span><span class="m">0</span><span class="w">  </span>1733M<span class="w">   </span>242M<span class="w">  </span>1922M<span class="w">  </span>1137M<span class="w">   </span>710M<span class="w">    </span><span class="m">0</span><span class="w">    </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w"> </span><span class="m">1906</span><span class="w">  </span><span class="m">3886</span><span class="w">  </span><span class="m">1</span><span class="w">  </span><span class="m">0</span><span class="w">  </span><span class="m">98</span><span class="w">  </span><span class="m">0</span>
<span class="w">  </span><span class="m">1</span><span class="w">  </span><span class="m">0</span><span class="w">      </span><span class="m">0</span><span class="w">  </span>1733M<span class="w">   </span>242M<span class="w">  </span>1922M<span class="w">  </span>1137M<span class="w">   </span>710M<span class="w">    </span><span class="m">0</span><span class="w">    </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w"> </span><span class="m">1739</span><span class="w">  </span><span class="m">3480</span><span class="w">  </span><span class="m">3</span><span class="w">  </span><span class="m">0</span><span class="w">  </span><span class="m">96</span><span class="w">  </span><span class="m">0</span>
</code></pre></div>

<h4>11. 子系统的详细信息</h4>
<p>下面的命令以一秒为间隔，统计5次CPU信息并和时间一起显示出详细信息（冗长）。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>collectl<span class="w"> </span>-sc<span class="w"> </span>-c5<span class="w"> </span>-i1<span class="w"> </span>--verbose<span class="w"> </span>-oT
waiting<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="m">1</span><span class="w"> </span>second<span class="w"> </span>sample...

<span class="c1"># CPU SUMMARY (INTR, CTXSW &amp; PROC /sec)</span>
<span class="c1">#Time      User  Nice   Sys  Wait   IRQ  Soft Steal  Idle  CPUs  Intr  Ctxsw  Proc  RunQ   Run   Avg1  Avg5 Avg15 RunT BlkT</span>
<span class="m">14</span>:22:10<span class="w">     </span><span class="m">11</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">    </span><span class="m">87</span><span class="w">     </span><span class="m">4</span><span class="w">  </span><span class="m">1312</span><span class="w">   </span><span class="m">2691</span><span class="w">     </span><span class="m">0</span><span class="w">   </span><span class="m">866</span><span class="w">     </span><span class="m">1</span><span class="w">   </span><span class="m">0</span>.78<span class="w">  </span><span class="m">0</span>.86<span class="w">  </span><span class="m">0</span>.78<span class="w">    </span><span class="m">1</span><span class="w">    </span><span class="m">0</span>
<span class="m">14</span>:22:11<span class="w">     </span><span class="m">15</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">    </span><span class="m">84</span><span class="w">     </span><span class="m">4</span><span class="w">  </span><span class="m">1283</span><span class="w">   </span><span class="m">2496</span><span class="w">     </span><span class="m">0</span><span class="w">   </span><span class="m">866</span><span class="w">     </span><span class="m">1</span><span class="w">   </span><span class="m">0</span>.78<span class="w">  </span><span class="m">0</span>.86<span class="w">  </span><span class="m">0</span>.78<span class="w">    </span><span class="m">1</span><span class="w">    </span><span class="m">0</span>
<span class="m">14</span>:22:12<span class="w">     </span><span class="m">17</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">    </span><span class="m">82</span><span class="w">     </span><span class="m">4</span><span class="w">  </span><span class="m">1342</span><span class="w">   </span><span class="m">2658</span><span class="w">     </span><span class="m">0</span><span class="w">   </span><span class="m">866</span><span class="w">     </span><span class="m">0</span><span class="w">   </span><span class="m">0</span>.78<span class="w">  </span><span class="m">0</span>.86<span class="w">  </span><span class="m">0</span>.78<span class="w">    </span><span class="m">0</span><span class="w">    </span><span class="m">0</span>
<span class="m">14</span>:22:13<span class="w">     </span><span class="m">15</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">    </span><span class="m">84</span><span class="w">     </span><span class="m">4</span><span class="w">  </span><span class="m">1241</span><span class="w">   </span><span class="m">2429</span><span class="w">     </span><span class="m">0</span><span class="w">   </span><span class="m">866</span><span class="w">     </span><span class="m">1</span><span class="w">   </span><span class="m">0</span>.78<span class="w">  </span><span class="m">0</span>.86<span class="w">  </span><span class="m">0</span>.78<span class="w">    </span><span class="m">1</span><span class="w">    </span><span class="m">0</span>
<span class="m">14</span>:22:14<span class="w">     </span><span class="m">11</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">    </span><span class="m">88</span><span class="w">     </span><span class="m">4</span><span class="w">  </span><span class="m">1270</span><span class="w">   </span><span class="m">2488</span><span class="w">     </span><span class="m">0</span><span class="w">   </span><span class="m">866</span><span class="w">     </span><span class="m">0</span><span class="w">   </span><span class="m">0</span>.80<span class="w">  </span><span class="m">0</span>.87<span class="w">  </span><span class="m">0</span>.78<span class="w">    </span><span class="m">0</span><span class="w">    </span><span class="m">0</span>
</code></pre></div>

<p>改变"-s"变量查看不同的子系统。</p>
<h3>总结</h3>
<p>本文的介绍不过是对collectl这个强大工具的一些浅见。本文本希望展示它有多灵活,其实通过以上的讨论让我们了解了包括记录及回寻捕获的数据,以多种文件格式导出数据并将数据转换为可被广泛的工具分析的格式等等功能的实现。</p>
<p>collectl提供的另一大功能便是像服务一样运行,对远程Linux机器或完整的服务器集群提供远程监控,其表现堪称完美。</p>
<p>Collectl同另一批可用于处理分析收集数据的名为<a href="http://collectl-utils.sourceforge.net/">Collectl实用工具</a> (colmux, colgui, colplot)的功能相契合。如果有机会,我们在之后的文章中会介绍它们。</p>
<p>为更详细的了解Collectl工具,请登录它的主页来学习更多的功能。笔者建议查看<a href="http://collectl.sourceforge.net/FAQ-collectl.html">FAQs</a>来快速了解collectl,读取<a href="http://collectl.sourceforge.net/Documentation.html">collectl文档</a>获取深层次的例子。<a href="http://collectl.sourceforge.net/Matrix.html">等价命令表</a>也可定位至更多的像sar,iostat,netstat,top等和collectl功能部分等价的常用工具。</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>