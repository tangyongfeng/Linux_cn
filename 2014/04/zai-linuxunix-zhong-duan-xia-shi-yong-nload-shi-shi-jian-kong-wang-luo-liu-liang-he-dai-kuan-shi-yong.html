<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>在 Linux/UNIX 终端下使用 nload 实时监控网络流量和带宽使用</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Author: '' 如果你想在命令行界面监控网络吞吐量，nload 应用程序是个不错的选择。它是一个实时监控网络流量和带宽使用的控制 …" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">linux_cn</a></h1>
                <nav><ul>
                    <li><a href="/category/chuan-shan-jia-zhuan-fang">穿山甲专访</a></li>
                    <li><a href="/category/dai-ma-ying-xiong">代码英雄</a></li>
                    <li><a href="/category/fen-xiang">分享</a></li>
                    <li><a href="/category/guan-dian">观点</a></li>
                    <li><a href="/category/huo-dong">活动</a></li>
                    <li><a href="/category/ji-ke-man-hua">极客漫画</a></li>
                    <li><a href="/category/ji-zhu">技术</a></li>
                    <li><a href="/category/kai-yuan-zhi-hui">开源智慧</a></li>
                    <li><a href="/category/linux-fa-xing-ban">Linux 发行版</a></li>
                    <li><a href="/category/mei-ri-an-quan-zi-xun">每日安全资讯</a></li>
                    <li><a href="/category/misc">Misc</a></li>
                    <li><a href="/category/qu-kuai-lian">区块链</a></li>
                    <li><a href="/category/rong-qi-yu-yun">容器与云</a></li>
                    <li><a href="/category/ruan-jian-kai-fa">软件开发</a></li>
                    <li><a href="/category/shu-mei-pai">树莓派</a></li>
                    <li class="active"><a href="/category/xi-tong-yun-wei">系统运维</a></li>
                    <li><a href="/category/xin-wen">新闻</a></li>
                    <li><a href="/category/ying-he-guan-cha">硬核观察</a></li>
                    <li><a href="/category/zhi-ye-sheng-ya">职业生涯</a></li>
                    <li><a href="/category/zhong-jiang-ming-dan">中奖名单</a></li>
                    <li><a href="/category/zhuo-mian-ying-yong">桌面应用</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2014/04/zai-linuxunix-zhong-duan-xia-shi-yong-nload-shi-shi-jian-kong-wang-luo-liu-liang-he-dai-kuan-shi-yong.html" rel="bookmark"
           title="Permalink to 在 Linux/UNIX 终端下使用 nload 实时监控网络流量和带宽使用">在 Linux/UNIX 终端下使用 nload 实时监控网络流量和带宽使用</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2014-04-18T13:35:51+02:00">
                Published: Fri 18 April 2014
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/linux-fans-from-china.html">linux fans from china</a>
        </address>
<p>In <a href="/category/xi-tong-yun-wei">系统运维</a>.</p>

</footer><!-- /.post-info -->      <p>Author: ''</p>
<p>如果你想在命令行界面监控网络吞吐量，nload 应用程序是个不错的选择。它是一个实时监控网络流量和带宽使用的控制台应用程序，使用两个图表可视化地展示接收和发送的流量，并提供诸如数据交换总量、最小/最大网络带宽使用量等附加信息。</p>
<h3>安装</h3>
<h4>在 CentOS/RHEL/Red Hat/Fedora Linux 上安装 nload</h4>
<p>首先在 CentOS 或者基于 RHEL 的操作系统上<a href="http://www.cyberciti.biz/faq/fedora-sl-centos-redhat6-enable-epel-repo/">启用 EPEL 仓库</a>，然后键入 <a href="http://www.cyberciti.biz/faq/rhel-centos-fedora-linux-yum-command-howto/">yum 命令</a>安装 nload：</p>
<div class="highlight"><pre><span></span><code><span class="c1"># yum install nload</span>
</code></pre></div>

<h4>在 Debian 或者 Ubuntu Linux 上安装 nload</h4>
<p>键入 <a href="http://www.cyberciti.biz/tips/linux-debian-package-management-cheat-sheet.html">apt-get 命令</a>：</p>
<div class="highlight"><pre><span></span><code><span class="o">$</span><span class="w"> </span><span class="n">sudo</span><span class="w"> </span><span class="n">apt</span><span class="o">-</span><span class="n">get</span><span class="w"> </span><span class="n">install</span><span class="w"> </span><span class="n">nload</span>
</code></pre></div>

<h4>在 FreeBSD 操作系统上安装 nload</h4>
<p>通过 port 安装 nload，键入：</p>
<div class="highlight"><pre><span></span><code><span class="c1"># cd /usr/ports/net/nload/ &amp;amp;&amp;amp; make install clean</span>
</code></pre></div>

<p>或者添加包</p>
<div class="highlight"><pre><span></span><code><span class="c1"># pkg install net/nload</span>
</code></pre></div>

<h4>在 OpenBSD 操作系统上安装 nload</h4>
<p>键入下列命令：</p>
<div class="highlight"><pre><span></span><code><span class="o">$</span><span class="w"> </span><span class="n">sudo</span><span class="w"> </span><span class="n">pkg_add</span><span class="w"> </span><span class="o">-</span><span class="n">i</span><span class="w"> </span><span class="n">nload</span>
</code></pre></div>

<h4>在类 Unix 操作系统上从源代码安装 nload</h4>
<p>首先，使用 wget 或者 curl 命令获取源代码：</p>
<div class="highlight"><pre><span></span><code><span class="o">$</span><span class="w"> </span><span class="n">cd</span><span class="w"> </span><span class="o">/</span><span class="n">tmp</span>
<span class="o">$</span><span class="w"> </span><span class="n">wget</span><span class="w"> </span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">roland</span><span class="o">-</span><span class="n">riegel</span><span class="o">.</span><span class="n">de</span><span class="o">/</span><span class="n">nload</span><span class="o">/</span><span class="n">nload</span><span class="o">-</span><span class="mf">0.7</span><span class="o">.</span><span class="mf">4.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span>
</code></pre></div>

<p><a href="http://www.cyberciti.biz/faq/tar-extract-linux/">使用 tar 命令解压缩名为 nload-0.7.4.tar.gz 的 tar 包</a>，键入：</p>
<div class="highlight"><pre><span></span><code><span class="o">$</span><span class="w"> </span><span class="n">tar</span><span class="w"> </span><span class="n">xvf</span><span class="w"> </span><span class="n">nload</span><span class="o">-</span><span class="mf">0.7</span><span class="o">.</span><span class="mf">4.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span>
</code></pre></div>

<p>使用 cd 命令进入 nload 源代码所在目录：</p>
<div class="highlight"><pre><span></span><code><span class="o">$</span><span class="w"> </span><span class="n">cd</span><span class="w"> </span><span class="n">nload</span><span class="o">*</span>
</code></pre></div>

<p>然后键入 ./configure 为你的操作系统配置安装包：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>sh<span class="w"> </span>./configure
</code></pre></div>

<p>或者</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>./configure
</code></pre></div>

<p>运行 configure 命令需要一点时间。完成后，使用 make 命令编译 nload：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>make
</code></pre></div>

<p>最后，键入 make install 命令以 root 用户身份安装 nload 应用程序和相关文件：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>sudo<span class="w"> </span>make<span class="w"> </span>install
</code></pre></div>

<p>或者</p>
<div class="highlight"><pre><span></span><code># make install
</code></pre></div>

<h3>使用</h3>
<p>如何使用 nload 显示当前网络使用量呢？</p>
<p>基本语法是：</p>
<div class="highlight"><pre><span></span><code><span class="n">nload</span>
<span class="n">nload</span><span class="w"> </span><span class="n">device</span>
<span class="n">nload</span><span class="w"> </span><span class="o">[</span><span class="n">options</span><span class="o">]</span><span class="w"> </span><span class="n">device1</span><span class="w"> </span><span class="n">device2</span>
</code></pre></div>

<p>键入下列命令：</p>
<div class="highlight"><pre><span></span><code><span class="o">$</span><span class="w"> </span><span class="n">nload</span>
<span class="o">$</span><span class="w"> </span><span class="n">nload</span><span class="w"> </span><span class="n">eth0</span>
<span class="o">$</span><span class="w"> </span><span class="n">nload</span><span class="w"> </span><span class="n">em0</span><span class="w"> </span><span class="n">em2</span>
</code></pre></div>

<p>会得到输出：</p>
<p><img alt="Fig. 01: nload command in action" src="/data/attachment/album/201404/18/133553oc7ggu5ho5j75goj.jpg"></p>
<p><em>图01: 使用 nload 命令</em></p>
<h4>操控 nload 应用程序</h4>
<p>nload 命令一旦执行就会开始监控网络设备，你可以使用下列快捷键操控 nload 应用程序。</p>
<ol>
<li>你可以按键盘上的 ← → 或者 Enter/Tab 键在设备间切换。</li>
<li>按 F2 显示选项窗口。</li>
<li>按 F5 将当前设置保存到用户配置文件。</li>
<li>按 F6 从配置文件重新加载设置。</li>
<li>按 q 或者 Ctrl+C 退出 nload。</li>
</ol>
<h4>设置显示刷新间隔</h4>
<p>默认每 100 毫秒刷新一次显示数值，下面的例子将时间间隔设置成 500 毫秒：</p>
<div class="highlight"><pre><span></span><code><span class="o">$</span><span class="w"> </span><span class="n">nload</span><span class="w"> </span><span class="o">-</span><span class="n">t</span><span class="w"> </span><span class="p">{</span><span class="n">interval_number_in_millisec</span><span class="p">}</span>
<span class="o">$</span><span class="w"> </span><span class="n">nload</span><span class="w"> </span><span class="o">-</span><span class="n">t</span><span class="w"> </span><span class="mi">500</span>
</code></pre></div>

<p>输出：</p>
<p><img alt="Animated gif 01 - nload command in action" src="/data/attachment/album/201404/18/133554o1q91yym98zpmamd.gif"></p>
<p>GIF 动画 01 - 使用 nload 命令</p>
<h4>设置流量数值显示的单位</h4>
<p>语法如下：</p>
<div class="highlight"><pre><span></span><code><span class="o">$</span><span class="w"> </span><span class="n">nload</span><span class="w"> </span><span class="o">-</span><span class="n">u</span><span class="w"> </span><span class="n">h</span><span class="o">|</span><span class="n">H</span><span class="o">|</span><span class="n">b</span><span class="o">|</span><span class="n">B</span><span class="o">|</span><span class="n">k</span><span class="o">|</span><span class="n">K</span><span class="o">|</span><span class="n">m</span><span class="o">|</span><span class="n">M</span><span class="o">|</span><span class="n">g</span><span class="o">|</span><span class="n">G</span>
<span class="o">$</span><span class="w"> </span><span class="n">nload</span><span class="w"> </span><span class="o">-</span><span class="n">U</span><span class="w"> </span><span class="n">h</span><span class="o">|</span><span class="n">H</span><span class="o">|</span><span class="n">b</span><span class="o">|</span><span class="n">B</span><span class="o">|</span><span class="n">k</span><span class="o">|</span><span class="n">K</span><span class="o">|</span><span class="n">m</span><span class="o">|</span><span class="n">M</span><span class="o">|</span><span class="n">g</span><span class="o">|</span><span class="n">G</span>
<span class="o">$</span><span class="w"> </span><span class="n">nload</span><span class="w"> </span><span class="o">-</span><span class="n">u</span><span class="w"> </span><span class="n">h</span>
<span class="o">$</span><span class="w"> </span><span class="n">nload</span><span class="w"> </span><span class="o">-</span><span class="n">u</span><span class="w"> </span><span class="n">G</span>
<span class="o">$</span><span class="w"> </span><span class="n">nload</span><span class="w"> </span><span class="o">-</span><span class="n">U</span><span class="w"> </span><span class="n">G</span>
</code></pre></div>

<p>释义：</p>
<ul>
<li>小写选项 -u: h 意为自动格式化为人类易读的单位，b 意为 Bit/s，k 意为 kBit/s，m 意为 MBit/s，g 意为 GBit/s。大写字母意为使用 Byte 替代 Bit。默认为 k。</li>
<li>大写选项 -U 与小写选项 -u 非常相似，不同之处在于它展示的是数据量，比如 Bit, kByte, GBit 等等。（没有 "/s"）。默认值是 M。</li>
</ul>
<h3>结论</h3>
<p>我觉得 nload 是一个稳定可靠的应用程序，如果你喜欢 nload，你可能也想试试 Linux 和其他类 Unix 操作系统环境下的 vnstat 与 iftop 工具。</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>