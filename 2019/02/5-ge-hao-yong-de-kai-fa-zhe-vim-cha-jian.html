<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>5 个好用的开发者 Vim 插件</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Author: Ricardo Gerardi 通过这 5 个插件扩展 Vim 功能来提升你的编码效率。 我用 Vim 已经超过 20 年了，两年前我决定把它作为我的首要文本 …" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">linux_cn</a></h1>
                <nav><ul>
                    <li><a href="/category/chuan-shan-jia-zhuan-fang">穿山甲专访</a></li>
                    <li><a href="/category/dai-ma-ying-xiong">代码英雄</a></li>
                    <li><a href="/category/fen-xiang">分享</a></li>
                    <li><a href="/category/guan-dian">观点</a></li>
                    <li><a href="/category/huo-dong">活动</a></li>
                    <li><a href="/category/ji-ke-man-hua">极客漫画</a></li>
                    <li><a href="/category/ji-zhu">技术</a></li>
                    <li><a href="/category/kai-yuan-zhi-hui">开源智慧</a></li>
                    <li><a href="/category/linux-fa-xing-ban">Linux 发行版</a></li>
                    <li><a href="/category/mei-ri-an-quan-zi-xun">每日安全资讯</a></li>
                    <li><a href="/category/misc">Misc</a></li>
                    <li><a href="/category/qu-kuai-lian">区块链</a></li>
                    <li><a href="/category/rong-qi-yu-yun">容器与云</a></li>
                    <li class="active"><a href="/category/ruan-jian-kai-fa">软件开发</a></li>
                    <li><a href="/category/shu-mei-pai">树莓派</a></li>
                    <li><a href="/category/xi-tong-yun-wei">系统运维</a></li>
                    <li><a href="/category/xin-wen">新闻</a></li>
                    <li><a href="/category/ying-he-guan-cha">硬核观察</a></li>
                    <li><a href="/category/zhi-ye-sheng-ya">职业生涯</a></li>
                    <li><a href="/category/zhong-jiang-ming-dan">中奖名单</a></li>
                    <li><a href="/category/zhuo-mian-ying-yong">桌面应用</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2019/02/5-ge-hao-yong-de-kai-fa-zhe-vim-cha-jian.html" rel="bookmark"
           title="Permalink to 5 个好用的开发者 Vim 插件">5 个好用的开发者 Vim 插件</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2019-02-23T11:11:55+01:00">
                Published: Sat 23 February 2019
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/linux-fans-from-china.html">linux fans from china</a>
        </address>
<p>In <a href="/category/ruan-jian-kai-fa">软件开发</a>.</p>

</footer><!-- /.post-info -->      <p>Author: Ricardo Gerardi</p>
<blockquote>
<p>通过这 5 个插件扩展 Vim 功能来提升你的编码效率。</p>
</blockquote>
<p><img alt="" src="/data/attachment/album/201902/23/111135wos7r6mssyzrtoxl.jpg"></p>
<p>我用 Vim 已经超过 20 年了，两年前我决定把它作为我的首要文本编辑器。我用 Vim 来编写代码、配置文件、博客文章及其它任意可以用纯文本表达的东西。Vim 有很多超级棒的功能，一旦你适合了它，你的工作会变得非常高效。</p>
<p>在日常编辑工作中，我更倾向于使用 Vim 稳定的原生功能，但开源社区对 Vim 开发了大量的插件，可以扩展 Vim 的功能、改进你的工作流程和提升工作效率。</p>
<p>以下列举 5 个非常好用的可以用于编写任意编程语言的插件。</p>
<h3>1、Auto Pairs</h3>
<p><a href="https://www.vim.org/scripts/script.php?script_id=3599">Auto Pairs</a> 插件可以帮助你插入和删除成对的文字，如花括号、圆括号或引号。这在编写代码时非常有用，因为很多编程语言都有成对标记的语法，就像圆括号用于函数调用，或引号用于字符串定义。</p>
<p>Auto Pairs 最基本的功能是在你输入一个左括号时会自动补全对应的另一半括号。比如，你输入了一个 <code>[</code>，它会自动帮你补充另一半 <code>]</code>。相反，如果你用退格键删除开头的一半括号，Auto Pairs 会删除另一半。</p>
<p>如果你设置了自动缩进，当你按下回车键时 Auto Pairs 会在恰当的缩进位置补全另一半括号，这比你找到放置另一半的位置并选择一个正确的括号要省劲多了。</p>
<p>例如下面这段代码：</p>
<div class="highlight"><pre><span></span><code><span class="n">package</span> <span class="n">main</span>

<span class="kn">import</span> <span class="s2">&quot;fmt&quot;</span>

<span class="n">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">x</span> <span class="o">:=</span> <span class="n">true</span>
    <span class="n">items</span> <span class="o">:=</span> <span class="p">[]</span><span class="n">string</span><span class="p">{</span><span class="s2">&quot;tv&quot;</span><span class="p">,</span> <span class="s2">&quot;pc&quot;</span><span class="p">,</span> <span class="s2">&quot;tablet&quot;</span><span class="p">}</span>

    <span class="k">if</span> <span class="n">x</span> <span class="p">{</span> 
        <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">i</span> <span class="o">:=</span> <span class="nb">range</span> <span class="n">items</span>
    <span class="p">}</span> 
<span class="p">}</span>
</code></pre></div>

<p>在 <code>items</code> 后面输入一个左花括号按下回车会产生下面的结果：</p>
<div class="highlight"><pre><span></span><code><span class="n">package</span> <span class="n">main</span>

<span class="kn">import</span> <span class="s2">&quot;fmt&quot;</span>

<span class="n">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">x</span> <span class="o">:=</span> <span class="n">true</span>
    <span class="n">items</span> <span class="o">:=</span> <span class="p">[]</span><span class="n">string</span><span class="p">{</span><span class="s2">&quot;tv&quot;</span><span class="p">,</span> <span class="s2">&quot;pc&quot;</span><span class="p">,</span> <span class="s2">&quot;tablet&quot;</span><span class="p">}</span>

    <span class="k">if</span> <span class="n">x</span> <span class="p">{</span>
        <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">i</span> <span class="o">:=</span> <span class="nb">range</span> <span class="n">items</span>  <span class="p">{</span>
            <span class="o">|</span> <span class="p">(</span><span class="n">cursor</span> <span class="n">here</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p>Auto Pairs 提供了大量其它选项（你可以在 <a href="https://github.com/jiangmiao/auto-pairs">GitHub</a> 上找到），但最基本的功能已经很让人省时间了。</p>
<h3>2、NERD Commenter</h3>
<p><a href="https://github.com/scrooloose/nerdcommenter">NERD Commenter</a> 插件给 Vim 增加了代码注释的功能，类似在 <ruby> IDE <rt>  integrated development environment </rt></ruby> 中注释功能。有了这个插件，你可以一键注释单行或多行代码。</p>
<p>NERD Commenter 可以与标准的 Vim <a href="http://vim.wikia.com/wiki/Filetype.vim">filetype</a> 插件配合，所以它能理解一些编程语言并使用合适的方式来注释代码。</p>
<p>最易上手的方法是按 <code>Leader+Space</code> 组合键来切换注释当前行。Vim 默认的 Leader 键是 <code>\</code>。</p>
<p>在<ruby> 可视化模式 <rt>  Visual mode </rt></ruby>中，你可以选择多行一并注释。NERD Commenter 也可以按计数注释，所以你可以加个数量 n 来注释 n 行。</p>
<p>还有个有用的特性 “Sexy Comment” 可以用 <code>Leader+cs</code> 来触发，它的块注释风格更漂亮一些。例如下面这段代码：</p>
<div class="highlight"><pre><span></span><code><span class="n">package</span> <span class="n">main</span>

<span class="kn">import</span> <span class="s2">&quot;fmt&quot;</span>

<span class="n">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">x</span> <span class="o">:=</span> <span class="n">true</span>
    <span class="n">items</span> <span class="o">:=</span> <span class="p">[]</span><span class="n">string</span><span class="p">{</span><span class="s2">&quot;tv&quot;</span><span class="p">,</span> <span class="s2">&quot;pc&quot;</span><span class="p">,</span> <span class="s2">&quot;tablet&quot;</span><span class="p">}</span>

    <span class="k">if</span> <span class="n">x</span> <span class="p">{</span>
        <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">i</span> <span class="o">:=</span> <span class="nb">range</span> <span class="n">items</span> <span class="p">{</span>
            <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p>选择 <code>main</code> 函数中的所有行然后按下 <code>Leader+cs</code> 会出来以下注释效果：</p>
<div class="highlight"><pre><span></span><code><span class="n">package</span> <span class="n">main</span>

<span class="kn">import</span> <span class="s2">&quot;fmt&quot;</span>

<span class="n">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
<span class="o">/*</span>
 <span class="o">*</span>    <span class="n">x</span> <span class="o">:=</span> <span class="n">true</span>
 <span class="o">*</span>    <span class="n">items</span> <span class="o">:=</span> <span class="p">[]</span><span class="n">string</span><span class="p">{</span><span class="s2">&quot;tv&quot;</span><span class="p">,</span> <span class="s2">&quot;pc&quot;</span><span class="p">,</span> <span class="s2">&quot;tablet&quot;</span><span class="p">}</span>
 <span class="o">*</span>
 <span class="o">*</span>    <span class="k">if</span> <span class="n">x</span> <span class="p">{</span>
 <span class="o">*</span>        <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">i</span> <span class="o">:=</span> <span class="nb">range</span> <span class="n">items</span> <span class="p">{</span>
 <span class="o">*</span>            <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
 <span class="o">*</span>        <span class="p">}</span>
 <span class="o">*</span>    <span class="p">}</span>
 <span class="o">*/</span>
<span class="p">}</span>
</code></pre></div>

<p>因为这些行都是在一个块中注释的，你可以用 <code>Leader+Space</code> 组合键一次去掉这里所有的注释。</p>
<p>NERD Commenter 是任何使用 Vim 写代码的开发者都必装的插件。</p>
<h3>3、VIM Surround</h3>
<p><a href="https://www.vim.org/scripts/script.php?script_id=1697">Vim Surround</a> 插件可以帮你“环绕”现有文本插入成对的符号（如括号或双引号）或标签（如 HTML 或 XML 标签）。它和 Auto Pairs 有点儿类似，但是用于处理已有文本，在编辑文本时更有用。</p>
<p>比如你有以下一个句子：</p>
<div class="highlight"><pre><span></span><code>&quot;Vim plugins are awesome !&quot;
</code></pre></div>

<p>当你的光标处于引起来的句中任何位置时，你可以用 <code>ds"</code> 组合键删除句子两端的双引号。</p>
<div class="highlight"><pre><span></span><code>Vim plugins are awesome !
</code></pre></div>

<p>你也可以用 <code>cs"'</code> 把双端的双引号换成单引号：</p>
<div class="highlight"><pre><span></span><code>&#39;Vim plugins are awesome !&#39;
</code></pre></div>

<p>或者再用 <code>cs'[</code> 替换成中括号：</p>
<div class="highlight"><pre><span></span><code>[ Vim plugins are awesome ! ]
</code></pre></div>

<p>它对编辑 HTML 或 XML 文本中的<ruby> 标签 <rt>  tag </rt></ruby>尤其在行。假如你有以下一行 HTML 代码：</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;p&gt;</span>Vim<span class="w"> </span>plugins<span class="w"> </span>are<span class="w"> </span>awesome<span class="w"> </span>!<span class="nt">&lt;/p&gt;</span>
</code></pre></div>

<p>当光标在 “awesome” 这个单词的任何位置时，你可以按 <code>ysiw&lt;em&gt;</code> 直接给它加上着重标签（<code>&lt;em&gt;</code>）：</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;p&gt;</span>Vim<span class="w"> </span>plugins<span class="w"> </span>are<span class="w"> </span><span class="nt">&lt;em&gt;</span>awesome<span class="nt">&lt;/em&gt;</span><span class="w"> </span>!<span class="nt">&lt;/p&gt;</span>
</code></pre></div>

<p>注意它聪明地加上了 <code>&lt;/em&gt;</code> 闭合标签。</p>
<p>Vim Surround 也可以用 <code>ySS</code> 缩进文本并加上标签。比如你有以下文本：</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;p&gt;</span>Vim<span class="w"> </span>plugins<span class="w"> </span>are<span class="w"> </span><span class="nt">&lt;em&gt;</span>awesome<span class="nt">&lt;/em&gt;</span><span class="w"> </span>!<span class="nt">&lt;/p&gt;</span>
</code></pre></div>

<p>你可以用 <code>ySS&lt;div class="normal"&gt;</code> 加上 <code>div</code> 标签，注意生成的段落是自动缩进的。</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;normal&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;p&gt;</span>Vim<span class="w"> </span>plugins<span class="w"> </span>are<span class="w"> </span><span class="nt">&lt;em&gt;</span>awesome<span class="nt">&lt;/em&gt;</span><span class="w"> </span>!<span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</code></pre></div>

<p>Vim Surround 有很多其它选项，你可以参照 <a href="https://github.com/tpope/vim-surround">GitHub</a> 上的说明尝试它们。</p>
<h3>4、Vim Gitgutter</h3>
<p><a href="https://github.com/airblade/vim-gitgutter">Vim Gitgutter</a> 插件对使用 Git 作为版本控制工具的人来说非常有用。它会在 Vim 的行号列旁显示 <code>git diff</code> 的差异标记。假设你有如下已提交过的代码：</p>
<div class="highlight"><pre><span></span><code>  <span class="mi">1</span> <span class="n">package</span> <span class="n">main</span>
  <span class="mi">2</span>
  <span class="mi">3</span> <span class="kn">import</span> <span class="s2">&quot;fmt&quot;</span>
  <span class="mi">4</span>
  <span class="mi">5</span> <span class="n">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="mi">6</span>     <span class="n">x</span> <span class="o">:=</span> <span class="n">true</span>
  <span class="mi">7</span>     <span class="n">items</span> <span class="o">:=</span> <span class="p">[]</span><span class="n">string</span><span class="p">{</span><span class="s2">&quot;tv&quot;</span><span class="p">,</span> <span class="s2">&quot;pc&quot;</span><span class="p">,</span> <span class="s2">&quot;tablet&quot;</span><span class="p">}</span>
  <span class="mi">8</span>
  <span class="mi">9</span>     <span class="k">if</span> <span class="n">x</span> <span class="p">{</span>
 <span class="mi">10</span>         <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">i</span> <span class="o">:=</span> <span class="nb">range</span> <span class="n">items</span> <span class="p">{</span>
 <span class="mi">11</span>             <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
 <span class="mi">12</span>         <span class="p">}</span>
 <span class="mi">13</span>     <span class="p">}</span>
 <span class="mi">14</span> <span class="p">}</span>
</code></pre></div>

<p>当你做出一些修改后，Vim Gitgutter 会显示如下标记：</p>
<div class="highlight"><pre><span></span><code>    <span class="mi">1</span> <span class="n">package</span> <span class="n">main</span>
    <span class="mi">2</span>
    <span class="mi">3</span> <span class="kn">import</span> <span class="s2">&quot;fmt&quot;</span>
    <span class="mi">4</span>
<span class="n">_</span>   <span class="mi">5</span> <span class="n">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="mi">6</span>     <span class="n">items</span> <span class="o">:=</span> <span class="p">[]</span><span class="n">string</span><span class="p">{</span><span class="s2">&quot;tv&quot;</span><span class="p">,</span> <span class="s2">&quot;pc&quot;</span><span class="p">,</span> <span class="s2">&quot;tablet&quot;</span><span class="p">}</span>
    <span class="mi">7</span>
<span class="o">~</span>   <span class="mi">8</span>     <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">items</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="p">{</span>
    <span class="mi">9</span>         <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">i</span> <span class="o">:=</span> <span class="nb">range</span> <span class="n">items</span> <span class="p">{</span>
   <span class="mi">10</span>             <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="o">+</span>  <span class="mi">11</span>             <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s2">&quot;------&quot;</span><span class="p">)</span>
   <span class="mi">12</span>         <span class="p">}</span>
   <span class="mi">13</span>     <span class="p">}</span>
   <span class="mi">14</span> <span class="p">}</span>
</code></pre></div>

<p><code>_</code> 标记表示在第 5 行和第 6 行之间删除了一行。<code>~</code> 表示第 8 行有修改，<code>+</code> 表示新增了第 11 行。</p>
<p>另外，Vim Gitgutter 允许你用 <code>[c</code> 和 <code>]c</code> 在多个有修改的块之间跳转，甚至可以用 <code>Leader+hs</code> 来暂存某个变更集。</p>
<p>这个插件提供了对变更的即时视觉反馈，如果你用 Git 的话，有了它简直是如虎添翼。</p>
<h3>5、VIM Fugitive</h3>
<p><a href="https://www.vim.org/scripts/script.php?script_id=2975">Vim Fugitive</a> 是另一个将 Git 工作流集成到 Vim 中的超棒插件。它对 Git 做了一些封装，可以让你在 Vim 里直接执行 Git 命令并将结果集成在 Vim 界面里。这个插件有超多的特性，更多信息请访问它的 <a href="https://github.com/tpope/vim-fugitive">GitHub</a> 项目页面。</p>
<p>这里有一个使用 Vim Fugitive 的基础 Git 工作流示例。设想我们已经对下面的 Go 代码做出修改，你可以用 <code>:Gblame</code> 调用 <code>git blame</code> 来查看每行最后的提交信息：</p>
<div class="highlight"><pre><span></span><code><span class="n">e9949066</span> <span class="p">(</span><span class="n">Ricardo</span> <span class="n">Gerardi</span>   <span class="mi">2018</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">05</span> <span class="mi">18</span><span class="p">:</span><span class="mi">17</span><span class="p">:</span><span class="mi">19</span> <span class="o">-</span><span class="mi">0500</span><span class="p">)</span><span class="err">│</span>    <span class="mi">1</span> <span class="n">package</span> <span class="n">main</span>
<span class="n">e9949066</span> <span class="p">(</span><span class="n">Ricardo</span> <span class="n">Gerardi</span>   <span class="mi">2018</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">05</span> <span class="mi">18</span><span class="p">:</span><span class="mi">17</span><span class="p">:</span><span class="mi">19</span> <span class="o">-</span><span class="mi">0500</span><span class="p">)</span><span class="err">│</span>    <span class="mi">2</span>
<span class="n">e9949066</span> <span class="p">(</span><span class="n">Ricardo</span> <span class="n">Gerardi</span>   <span class="mi">2018</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">05</span> <span class="mi">18</span><span class="p">:</span><span class="mi">17</span><span class="p">:</span><span class="mi">19</span> <span class="o">-</span><span class="mi">0500</span><span class="p">)</span><span class="err">│</span>    <span class="mi">3</span> <span class="kn">import</span> <span class="s2">&quot;fmt&quot;</span>
<span class="n">e9949066</span> <span class="p">(</span><span class="n">Ricardo</span> <span class="n">Gerardi</span>   <span class="mi">2018</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">05</span> <span class="mi">18</span><span class="p">:</span><span class="mi">17</span><span class="p">:</span><span class="mi">19</span> <span class="o">-</span><span class="mi">0500</span><span class="p">)</span><span class="err">│</span>    <span class="mi">4</span>
<span class="n">e9949066</span> <span class="p">(</span><span class="n">Ricardo</span> <span class="n">Gerardi</span>   <span class="mi">2018</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">05</span> <span class="mi">18</span><span class="p">:</span><span class="mi">17</span><span class="p">:</span><span class="mi">19</span> <span class="o">-</span><span class="mi">0500</span><span class="p">)</span><span class="err">│</span><span class="n">_</span>   <span class="mi">5</span> <span class="n">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
<span class="n">e9949066</span> <span class="p">(</span><span class="n">Ricardo</span> <span class="n">Gerardi</span>   <span class="mi">2018</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">05</span> <span class="mi">18</span><span class="p">:</span><span class="mi">17</span><span class="p">:</span><span class="mi">19</span> <span class="o">-</span><span class="mi">0500</span><span class="p">)</span><span class="err">│</span>    <span class="mi">6</span>     <span class="n">items</span> <span class="o">:=</span> <span class="p">[]</span><span class="n">string</span><span class="p">{</span><span class="s2">&quot;tv&quot;</span><span class="p">,</span> <span class="s2">&quot;pc&quot;</span><span class="p">,</span> <span class="s2">&quot;tablet&quot;</span><span class="p">}</span>
<span class="n">e9949066</span> <span class="p">(</span><span class="n">Ricardo</span> <span class="n">Gerardi</span>   <span class="mi">2018</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">05</span> <span class="mi">18</span><span class="p">:</span><span class="mi">17</span><span class="p">:</span><span class="mi">19</span> <span class="o">-</span><span class="mi">0500</span><span class="p">)</span><span class="err">│</span>    <span class="mi">7</span>
<span class="mi">00000000</span> <span class="p">(</span><span class="n">Not</span> <span class="n">Committed</span> <span class="n">Yet</span> <span class="mi">2018</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">05</span> <span class="mi">18</span><span class="p">:</span><span class="mi">55</span><span class="p">:</span><span class="mi">00</span> <span class="o">-</span><span class="mi">0500</span><span class="p">)</span><span class="err">│</span><span class="o">~</span>   <span class="mi">8</span>     <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">items</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="p">{</span>
<span class="n">e9949066</span> <span class="p">(</span><span class="n">Ricardo</span> <span class="n">Gerardi</span>   <span class="mi">2018</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">05</span> <span class="mi">18</span><span class="p">:</span><span class="mi">17</span><span class="p">:</span><span class="mi">19</span> <span class="o">-</span><span class="mi">0500</span><span class="p">)</span><span class="err">│</span>    <span class="mi">9</span>         <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">i</span> <span class="o">:=</span> <span class="nb">range</span> <span class="n">items</span> <span class="p">{</span>
<span class="n">e9949066</span> <span class="p">(</span><span class="n">Ricardo</span> <span class="n">Gerardi</span>   <span class="mi">2018</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">05</span> <span class="mi">18</span><span class="p">:</span><span class="mi">17</span><span class="p">:</span><span class="mi">19</span> <span class="o">-</span><span class="mi">0500</span><span class="p">)</span><span class="err">│</span>   <span class="mi">10</span>             <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="mi">00000000</span> <span class="p">(</span><span class="n">Not</span> <span class="n">Committed</span> <span class="n">Yet</span> <span class="mi">2018</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">05</span> <span class="mi">18</span><span class="p">:</span><span class="mi">55</span><span class="p">:</span><span class="mi">00</span> <span class="o">-</span><span class="mi">0500</span><span class="p">)</span><span class="err">│</span><span class="o">+</span>  <span class="mi">11</span>             <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s2">&quot;------&quot;</span><span class="p">)</span>
<span class="n">e9949066</span> <span class="p">(</span><span class="n">Ricardo</span> <span class="n">Gerardi</span>   <span class="mi">2018</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">05</span> <span class="mi">18</span><span class="p">:</span><span class="mi">17</span><span class="p">:</span><span class="mi">19</span> <span class="o">-</span><span class="mi">0500</span><span class="p">)</span><span class="err">│</span>   <span class="mi">12</span>         <span class="p">}</span>
<span class="n">e9949066</span> <span class="p">(</span><span class="n">Ricardo</span> <span class="n">Gerardi</span>   <span class="mi">2018</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">05</span> <span class="mi">18</span><span class="p">:</span><span class="mi">17</span><span class="p">:</span><span class="mi">19</span> <span class="o">-</span><span class="mi">0500</span><span class="p">)</span><span class="err">│</span>   <span class="mi">13</span>     <span class="p">}</span>
<span class="n">e9949066</span> <span class="p">(</span><span class="n">Ricardo</span> <span class="n">Gerardi</span>   <span class="mi">2018</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">05</span> <span class="mi">18</span><span class="p">:</span><span class="mi">17</span><span class="p">:</span><span class="mi">19</span> <span class="o">-</span><span class="mi">0500</span><span class="p">)</span><span class="err">│</span>   <span class="mi">14</span> <span class="p">}</span>
</code></pre></div>

<p>可以看到第 8 行和第 11 行显示还未提交。用 <code>:Gstatus</code> 命令检查仓库当前的状态：</p>
<div class="highlight"><pre><span></span><code>  <span class="mi">1</span> <span class="c1"># On branch master</span>
  <span class="mi">2</span> <span class="c1"># Your branch is up to date with &#39;origin/master&#39;.</span>
  <span class="mi">3</span> <span class="c1">#</span>
  <span class="mi">4</span> <span class="c1"># Changes not staged for commit:</span>
  <span class="mi">5</span> <span class="c1">#   (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)</span>
  <span class="mi">6</span> <span class="c1">#   (use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working directory)</span>
  <span class="mi">7</span> <span class="c1">#</span>
  <span class="mi">8</span> <span class="c1">#       modified:   vim-5plugins/examples/test1.go</span>
  <span class="mi">9</span> <span class="c1">#</span>
 <span class="mi">10</span> <span class="n">no</span> <span class="n">changes</span> <span class="n">added</span> <span class="n">to</span> <span class="n">commit</span> <span class="p">(</span><span class="n">use</span> <span class="s2">&quot;git add&quot;</span> <span class="ow">and</span><span class="o">/</span><span class="ow">or</span> <span class="s2">&quot;git commit -a&quot;</span><span class="p">)</span>
<span class="o">--------------------------------------------------------------------------------------------------------</span>
    <span class="mi">1</span> <span class="n">package</span> <span class="n">main</span>
    <span class="mi">2</span>
    <span class="mi">3</span> <span class="kn">import</span> <span class="s2">&quot;fmt&quot;</span>
    <span class="mi">4</span>
<span class="n">_</span>   <span class="mi">5</span> <span class="n">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="mi">6</span>     <span class="n">items</span> <span class="o">:=</span> <span class="p">[]</span><span class="n">string</span><span class="p">{</span><span class="s2">&quot;tv&quot;</span><span class="p">,</span> <span class="s2">&quot;pc&quot;</span><span class="p">,</span> <span class="s2">&quot;tablet&quot;</span><span class="p">}</span>
    <span class="mi">7</span>
<span class="o">~</span>   <span class="mi">8</span>     <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">items</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="p">{</span>
    <span class="mi">9</span>         <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">i</span> <span class="o">:=</span> <span class="nb">range</span> <span class="n">items</span> <span class="p">{</span>
   <span class="mi">10</span>             <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="o">+</span>  <span class="mi">11</span>             <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s2">&quot;------&quot;</span><span class="p">)</span>
   <span class="mi">12</span>         <span class="p">}</span>
   <span class="mi">13</span>     <span class="p">}</span>
   <span class="mi">14</span> <span class="p">}</span>
</code></pre></div>

<p>Vim Fugitive 在分割的窗口里显示 <code>git status</code> 的输出结果。你可以在该行按下 <code>-</code> 键用该文件的名字暂存这个文件的提交，再按一次 <code>-</code> 可以取消暂存。这个信息会随着你的操作自动更新：</p>
<div class="highlight"><pre><span></span><code>  <span class="mi">1</span> <span class="c1"># On branch master</span>
  <span class="mi">2</span> <span class="c1"># Your branch is up to date with &#39;origin/master&#39;.</span>
  <span class="mi">3</span> <span class="c1">#</span>
  <span class="mi">4</span> <span class="c1"># Changes to be committed:</span>
  <span class="mi">5</span> <span class="c1">#   (use &quot;git reset HEAD &lt;file&gt;...&quot; to unstage)</span>
  <span class="mi">6</span> <span class="c1">#</span>
  <span class="mi">7</span> <span class="c1">#       modified:   vim-5plugins/examples/test1.go</span>
  <span class="mi">8</span> <span class="c1">#</span>
<span class="o">--------------------------------------------------------------------------------------------------------</span>
    <span class="mi">1</span> <span class="n">package</span> <span class="n">main</span>
    <span class="mi">2</span>
    <span class="mi">3</span> <span class="kn">import</span> <span class="s2">&quot;fmt&quot;</span>
    <span class="mi">4</span>
<span class="n">_</span>   <span class="mi">5</span> <span class="n">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="mi">6</span>     <span class="n">items</span> <span class="o">:=</span> <span class="p">[]</span><span class="n">string</span><span class="p">{</span><span class="s2">&quot;tv&quot;</span><span class="p">,</span> <span class="s2">&quot;pc&quot;</span><span class="p">,</span> <span class="s2">&quot;tablet&quot;</span><span class="p">}</span>
    <span class="mi">7</span>
<span class="o">~</span>   <span class="mi">8</span>     <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">items</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="p">{</span>
    <span class="mi">9</span>         <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">i</span> <span class="o">:=</span> <span class="nb">range</span> <span class="n">items</span> <span class="p">{</span>
   <span class="mi">10</span>             <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="o">+</span>  <span class="mi">11</span>             <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s2">&quot;------&quot;</span><span class="p">)</span>
   <span class="mi">12</span>         <span class="p">}</span>
   <span class="mi">13</span>     <span class="p">}</span>
   <span class="mi">14</span> <span class="p">}</span>
</code></pre></div>

<p>现在你可以用 <code>:Gcommit</code> 来提交修改了。Vim Fugitive 会打开另一个分割窗口让你输入提交信息：</p>
<div class="highlight"><pre><span></span><code><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="n">vim</span><span class="o">-</span><span class="mi">5</span><span class="nl">plugins</span><span class="p">:</span><span class="w"> </span><span class="n">Updated</span><span class="w"> </span><span class="n">test1</span><span class="p">.</span><span class="k">go</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="k">file</span>
<span class="w">  </span><span class="mi">2</span><span class="w"> </span><span class="err">#</span><span class="w"> </span><span class="n">Please</span><span class="w"> </span><span class="n">enter</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">commit</span><span class="w"> </span><span class="n">message</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="n">changes</span><span class="p">.</span><span class="w"> </span><span class="n">Lines</span><span class="w"> </span><span class="n">starting</span>
<span class="w">  </span><span class="mi">3</span><span class="w"> </span><span class="err">#</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="s1">&#39;#&#39;</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">ignored</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">empty</span><span class="w"> </span><span class="n">message</span><span class="w"> </span><span class="n">aborts</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">commit</span><span class="p">.</span>
<span class="w">  </span><span class="mi">4</span><span class="w"> </span><span class="err">#</span>
<span class="w">  </span><span class="mi">5</span><span class="w"> </span><span class="err">#</span><span class="w"> </span><span class="k">On</span><span class="w"> </span><span class="n">branch</span><span class="w"> </span><span class="n">master</span>
<span class="w">  </span><span class="mi">6</span><span class="w"> </span><span class="err">#</span><span class="w"> </span><span class="n">Your</span><span class="w"> </span><span class="n">branch</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nc">date</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="s1">&#39;origin/master&#39;</span><span class="p">.</span>
<span class="w">  </span><span class="mi">7</span><span class="w"> </span><span class="err">#</span>
<span class="w">  </span><span class="mi">8</span><span class="w"> </span><span class="err">#</span><span class="w"> </span><span class="n">Changes</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="nl">committed</span><span class="p">:</span>
<span class="w">  </span><span class="mi">9</span><span class="w"> </span><span class="err">#</span><span class="w">       </span><span class="nl">modified</span><span class="p">:</span><span class="w">   </span><span class="n">vim</span><span class="o">-</span><span class="mi">5</span><span class="n">plugins</span><span class="o">/</span><span class="n">examples</span><span class="o">/</span><span class="n">test1</span><span class="p">.</span><span class="k">go</span>
<span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="err">#</span>
</code></pre></div>

<p>按 <code>:wq</code> 保存文件完成提交：</p>
<div class="highlight"><pre><span></span><code><span class="p">[</span><span class="n">master</span><span class="w"> </span><span class="n">c3bf80f</span><span class="p">]</span><span class="w"> </span><span class="n">vim</span><span class="mi">-5</span><span class="n">plugins</span><span class="o">:</span><span class="w"> </span><span class="n">Updated</span><span class="w"> </span><span class="n">test1</span><span class="p">.</span><span class="n">go</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">file</span>
<span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">changed</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="n">insertions</span><span class="p">(</span><span class="o">+</span><span class="p">),</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="n">deletions</span><span class="p">(</span><span class="o">-</span><span class="p">)</span>
<span class="n">Press</span><span class="w"> </span><span class="n">ENTER</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="k">continue</span>
</code></pre></div>

<p>然后你可以再用 <code>:Gstatus</code> 检查结果并用 <code>:Gpush</code> 把新的提交推送到远程。</p>
<div class="highlight"><pre><span></span><code>  1 # On branch master
  2 # Your branch is ahead of &#39;origin/master&#39; by 1 commit.
  3 #   (use &quot;git push&quot; to publish your local commits)
  4 #
  5 nothing to commit, working tree clean
</code></pre></div>

<p>Vim Fugitive 的 GitHub 项目主页有很多屏幕录像展示了它的更多功能和工作流，如果你喜欢它并想多学一些，快去看看吧。</p>
<h3>接下来？</h3>
<p>这些 Vim 插件都是程序开发者的神器！还有另外两类开发者常用的插件：自动完成插件和语法检查插件。它些大都是和具体的编程语言相关的，以后我会在一些文章中介绍它们。</p>
<p>你在写代码时是否用到一些其它 Vim 插件？请在评论区留言分享。</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>