<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>如何列出 Ubuntu 和 Debian 上已安装的软件包</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Author: Abhishek Prakash 当你安装了 Ubuntu 并想好好用一用。但在将来某个时候，你肯定会遇到忘记曾经安装了那些软件包。 这个是完全正常。没 …" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">linux_cn</a></h1>
                <nav><ul>
                    <li><a href="/category/chuan-shan-jia-zhuan-fang">穿山甲专访</a></li>
                    <li><a href="/category/dai-ma-ying-xiong">代码英雄</a></li>
                    <li><a href="/category/fen-xiang">分享</a></li>
                    <li><a href="/category/guan-dian">观点</a></li>
                    <li><a href="/category/huo-dong">活动</a></li>
                    <li><a href="/category/ji-ke-man-hua">极客漫画</a></li>
                    <li class="active"><a href="/category/ji-zhu">技术</a></li>
                    <li><a href="/category/kai-yuan-zhi-hui">开源智慧</a></li>
                    <li><a href="/category/linux-fa-xing-ban">Linux 发行版</a></li>
                    <li><a href="/category/mei-ri-an-quan-zi-xun">每日安全资讯</a></li>
                    <li><a href="/category/misc">Misc</a></li>
                    <li><a href="/category/qu-kuai-lian">区块链</a></li>
                    <li><a href="/category/rong-qi-yu-yun">容器与云</a></li>
                    <li><a href="/category/ruan-jian-kai-fa">软件开发</a></li>
                    <li><a href="/category/shu-mei-pai">树莓派</a></li>
                    <li><a href="/category/xi-tong-yun-wei">系统运维</a></li>
                    <li><a href="/category/xin-wen">新闻</a></li>
                    <li><a href="/category/ying-he-guan-cha">硬核观察</a></li>
                    <li><a href="/category/zhi-ye-sheng-ya">职业生涯</a></li>
                    <li><a href="/category/zhong-jiang-ming-dan">中奖名单</a></li>
                    <li><a href="/category/zhuo-mian-ying-yong">桌面应用</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2019/02/ru-he-lie-chu-ubuntu-he-debian-shang-yi-an-zhuang-de-ruan-jian-bao.html" rel="bookmark"
           title="Permalink to 如何列出 Ubuntu 和 Debian 上已安装的软件包">如何列出 Ubuntu 和 Debian 上已安装的软件包</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2019-02-23T00:27:16+01:00">
                Published: Sat 23 February 2019
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/linux-fans-from-china.html">linux fans from china</a>
        </address>
<p>In <a href="/category/ji-zhu">技术</a>.</p>

</footer><!-- /.post-info -->      <p>Author: Abhishek Prakash</p>
<p>当你安装了 <a href="https://itsfoss.com/getting-started-with-ubuntu/">Ubuntu 并想好好用一用</a>。但在将来某个时候，你肯定会遇到忘记曾经安装了那些软件包。</p>
<p>这个是完全正常。没有人要求你把系统里所有已安装的软件包都记住。但是问题是，如何才能知道已经安装了哪些软件包？如何查看安装过的软件包呢？</p>
<h3>列出 Ubuntu 和 Debian 上已安装的软件包</h3>
<p><img alt="列出已安装的软件包" src="/data/attachment/album/201902/23/002719ttc6co3jl0iitjor.png"></p>
<p>如果你经常用 <a href="https://itsfoss.com/apt-command-guide/">apt 命令</a>，你可能觉得会有个命令像 <code>apt</code> 一样可以列出已安装的软件包。不算全错。</p>
<p><a href="https://itsfoss.com/apt-get-linux-guide/">apt-get 命令</a> 没有类似列出已安装软件包的简单的选项，但是 <code>apt</code> 有一个这样的命令：</p>
<div class="highlight"><pre><span></span><code>apt list --installed
</code></pre></div>

<p>这个会显示使用 <code>apt</code> 命令安装的所有的软件包。同时也会包含由于依赖而被安装的软件包。也就是说不仅会包含你曾经安装的程序，而且会包含大量库文件和间接安装的软件包。</p>
<p><img alt="用 atp 命令列出显示已安装的软件包" src="/data/attachment/album/201902/23/002724dct7sn5wtttgkc35.png"></p>
<p><em>用 atp 命令列出显示已安装的软件包</em></p>
<p>由于列出出来的已安装的软件包太多，用 <code>grep</code> 过滤特定的软件包是一个比较好的办法。</p>
<div class="highlight"><pre><span></span><code>apt list --installed | grep program_name
</code></pre></div>

<p>如上命令也可以检索出使用 .deb 软件包文件安装的软件。是不是很酷？</p>
<p>如果你阅读过 <a href="https://itsfoss.com/apt-vs-apt-get-difference/">apt 与 apt-get 对比</a>的文章，你可能已经知道 <code>apt</code> 和 <code>apt-get</code> 命令都是基于 <a href="https://wiki.debian.org/dpkg">dpkg</a>。也就是说用 <code>dpkg</code> 命令可以列出 Debian 系统的所有已经安装的软件包。</p>
<div class="highlight"><pre><span></span><code>dpkg-query -l
</code></pre></div>

<p>你可以用 <code>grep</code> 命令检索指定的软件包。</p>
<p><img alt="用 dpkg 命令列出显示已经安装的软件包" src="/data/attachment/album/201902/23/002725iiapkipkki3uzmip.png">!</p>
<p><em>用 dpkg 命令列出显示已经安装的软件包</em></p>
<p>现在你可以搞定列出 Debian 的软件包管理器安装的应用了。那 Snap 和 Flatpak 这个两种应用呢？如何列出它们？因为它们不能被 <code>apt</code> 和 <code>dpkg</code> 访问。</p>
<p>显示系统里所有已经安装的 <a href="https://itsfoss.com/use-snap-packages-ubuntu-16-04/">Snap 软件包</a>，可以这个命令：</p>
<div class="highlight"><pre><span></span><code>snap list
</code></pre></div>

<p>Snap 可以用绿色勾号标出哪个应用来自经过认证的发布者。</p>
<p><img alt="列出已经安装的 Snap 软件包" src="/data/attachment/album/201902/23/002725dncxucx4juejjzic.png"></p>
<p><em>列出已经安装的 Snap 软件包</em></p>
<p>显示系统里所有已安装的 <a href="https://itsfoss.com/flatpak-guide/">Flatpak 软件包</a>，可以用这个命令：</p>
<div class="highlight"><pre><span></span><code>flatpak list
</code></pre></div>

<p>让我来个汇总：</p>
<p>用 <code>apt</code> 命令显示已安装软件包：</p>
<div class="highlight"><pre><span></span><code>apt list –installed
</code></pre></div>

<p>用 <code>dpkg</code> 命令显示已安装软件包:</p>
<div class="highlight"><pre><span></span><code>dpkg-query -l
</code></pre></div>

<p>列出系统里 Snap 已安装软件包:</p>
<div class="highlight"><pre><span></span><code>snap list
</code></pre></div>

<p>列出系统里 Flatpak 已安装软件包:</p>
<div class="highlight"><pre><span></span><code>flatpak list
</code></pre></div>

<h3>显示最近安装的软件包</h3>
<p>现在你已经看过以字母顺序列出的已经安装软件包了。如何显示最近已经安装的软件包?</p>
<p>幸运的是，Linux 系统保存了所有发生事件的日志。你可以参考最近安装软件包的日志。</p>
<p>有两个方法可以来做。用 <code>dpkg</code> 命令的日志或者 <code>apt</code> 命令的日志。</p>
<p>你仅仅需要用 <code>grep</code> 命令过滤已经安装的软件包日志。</p>
<div class="highlight"><pre><span></span><code><span class="n">grep</span><span class="w"> </span><span class="s2">&quot; install &quot;</span><span class="w"> </span><span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="nb">log</span><span class="o">/</span><span class="n">dpkg</span><span class="o">.</span><span class="n">log</span>
</code></pre></div>

<p>这会显示所有的软件安装包，其中包括最近安装的过程中所依赖的软件包。</p>
<div class="highlight"><pre><span></span><code><span class="mf">2019</span><span class="o">-</span><span class="mf">02</span><span class="o">-</span><span class="mf">12</span><span class="w"> </span><span class="mf">12</span><span class="p">:</span><span class="mf">41</span><span class="p">:</span><span class="mf">42</span><span class="w"> </span><span class="n">install</span><span class="w"> </span><span class="n">ubuntu</span><span class="o">-</span><span class="n">make</span><span class="p">:</span><span class="n">all</span><span class="w"> </span><span class="mf">16.11.1</span><span class="n">ubuntu1</span>
<span class="mf">2019</span><span class="o">-</span><span class="mf">02</span><span class="o">-</span><span class="mf">13</span><span class="w"> </span><span class="mf">21</span><span class="p">:</span><span class="mf">03</span><span class="p">:</span><span class="mf">02</span><span class="w"> </span><span class="n">install</span><span class="w"> </span><span class="n">xdg</span><span class="o">-</span><span class="n">desktop</span><span class="o">-</span><span class="n">portal</span><span class="p">:</span><span class="n">amd64</span><span class="w"> </span><span class="mf">0.11</span><span class="o">-</span><span class="mf">1</span>
<span class="mf">2019</span><span class="o">-</span><span class="mf">02</span><span class="o">-</span><span class="mf">13</span><span class="w"> </span><span class="mf">21</span><span class="p">:</span><span class="mf">03</span><span class="p">:</span><span class="mf">02</span><span class="w"> </span><span class="n">install</span><span class="w"> </span><span class="n">libostree</span><span class="o">-</span><span class="mf">1</span><span class="o">-</span><span class="mf">1</span><span class="p">:</span><span class="n">amd64</span><span class="w"> </span><span class="mf">2018.8</span><span class="o">-</span><span class="mf">0</span><span class="n">ubuntu0</span><span class="mf">.1</span>
<span class="mf">2019</span><span class="o">-</span><span class="mf">02</span><span class="o">-</span><span class="mf">13</span><span class="w"> </span><span class="mf">21</span><span class="p">:</span><span class="mf">03</span><span class="p">:</span><span class="mf">02</span><span class="w"> </span><span class="n">install</span><span class="w"> </span><span class="n">flatpak</span><span class="p">:</span><span class="n">amd64</span><span class="w"> </span><span class="mf">1.0.6</span><span class="o">-</span><span class="mf">0</span><span class="n">ubuntu0</span><span class="mf">.1</span>
<span class="mf">2019</span><span class="o">-</span><span class="mf">02</span><span class="o">-</span><span class="mf">13</span><span class="w"> </span><span class="mf">21</span><span class="p">:</span><span class="mf">03</span><span class="p">:</span><span class="mf">02</span><span class="w"> </span><span class="n">install</span><span class="w"> </span><span class="n">xdg</span><span class="o">-</span><span class="n">desktop</span><span class="o">-</span><span class="n">portal</span><span class="o">-</span><span class="n">gtk</span><span class="p">:</span><span class="n">amd64</span><span class="w"> </span><span class="mf">0.11</span><span class="o">-</span><span class="mf">1</span>
<span class="mf">2019</span><span class="o">-</span><span class="mf">02</span><span class="o">-</span><span class="mf">14</span><span class="w"> </span><span class="mf">11</span><span class="p">:</span><span class="mf">49</span><span class="p">:</span><span class="mf">10</span><span class="w"> </span><span class="n">install</span><span class="w"> </span><span class="n">qml</span><span class="o">-</span><span class="n">module</span><span class="o">-</span><span class="n">qtquick</span><span class="o">-</span><span class="n">window2</span><span class="p">:</span><span class="n">amd64</span><span class="w"> </span><span class="mf">5.9.5</span><span class="o">-</span><span class="mf">0</span><span class="n">ubuntu1</span><span class="mf">.1</span>
<span class="mf">2019</span><span class="o">-</span><span class="mf">02</span><span class="o">-</span><span class="mf">14</span><span class="w"> </span><span class="mf">11</span><span class="p">:</span><span class="mf">49</span><span class="p">:</span><span class="mf">10</span><span class="w"> </span><span class="n">install</span><span class="w"> </span><span class="n">qml</span><span class="o">-</span><span class="n">module</span><span class="o">-</span><span class="n">qtquick2</span><span class="p">:</span><span class="n">amd64</span><span class="w"> </span><span class="mf">5.9.5</span><span class="o">-</span><span class="mf">0</span><span class="n">ubuntu1</span><span class="mf">.1</span>
<span class="mf">2019</span><span class="o">-</span><span class="mf">02</span><span class="o">-</span><span class="mf">14</span><span class="w"> </span><span class="mf">11</span><span class="p">:</span><span class="mf">49</span><span class="p">:</span><span class="mf">10</span><span class="w"> </span><span class="n">install</span><span class="w"> </span><span class="n">qml</span><span class="o">-</span><span class="n">module</span><span class="o">-</span><span class="n">qtgraphicaleffects</span><span class="p">:</span><span class="n">amd64</span><span class="w"> </span><span class="mf">5.9.5</span><span class="o">-</span><span class="mf">0</span><span class="n">ubuntu1</span>
</code></pre></div>

<p>你也可以查看 <code>apt</code> 历史命令日志。这个仅会显示用 <code>apt</code> 命令安装的的程序。但不会显示被依赖安装的软件包，详细的日志在日志里可以看到。有时你只是想看看对吧？</p>
<div class="highlight"><pre><span></span><code><span class="n">grep</span><span class="w"> </span><span class="s2">&quot; install &quot;</span><span class="w"> </span><span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="nb">log</span><span class="o">/</span><span class="n">apt</span><span class="o">/</span><span class="n">history</span><span class="o">.</span><span class="n">log</span>
</code></pre></div>

<p>具体的显示如下：</p>
<div class="highlight"><pre><span></span><code><span class="n">Commandline</span><span class="o">:</span><span class="w"> </span><span class="n">apt</span><span class="w"> </span><span class="n">install</span><span class="w"> </span><span class="n">pinta</span>
<span class="n">Commandline</span><span class="o">:</span><span class="w"> </span><span class="n">apt</span><span class="w"> </span><span class="n">install</span><span class="w"> </span><span class="n">pinta</span>
<span class="n">Commandline</span><span class="o">:</span><span class="w"> </span><span class="n">apt</span><span class="w"> </span><span class="n">install</span><span class="w"> </span><span class="n">tmux</span>
<span class="n">Commandline</span><span class="o">:</span><span class="w"> </span><span class="n">apt</span><span class="w"> </span><span class="n">install</span><span class="w"> </span><span class="n">terminator</span>
<span class="n">Commandline</span><span class="o">:</span><span class="w"> </span><span class="n">apt</span><span class="w"> </span><span class="n">install</span><span class="w"> </span><span class="n">moreutils</span>
<span class="n">Commandline</span><span class="o">:</span><span class="w"> </span><span class="n">apt</span><span class="w"> </span><span class="n">install</span><span class="w"> </span><span class="n">ubuntu</span><span class="o">-</span><span class="n">make</span>
<span class="n">Commandline</span><span class="o">:</span><span class="w"> </span><span class="n">apt</span><span class="w"> </span><span class="n">install</span><span class="w"> </span><span class="n">flatpak</span>
<span class="n">Commandline</span><span class="o">:</span><span class="w"> </span><span class="n">apt</span><span class="w"> </span><span class="n">install</span><span class="w"> </span><span class="n">cool</span><span class="o">-</span><span class="n">retro</span><span class="o">-</span><span class="n">term</span>
<span class="n">Commandline</span><span class="o">:</span><span class="w"> </span><span class="n">apt</span><span class="w"> </span><span class="n">install</span><span class="w"> </span><span class="n">ubuntu</span><span class="o">-</span><span class="n">software</span>
</code></pre></div>

<p><img alt="显示最近已安装的软件包" src="/data/attachment/album/201902/23/002730nzduq4gzgjpwwwwu.png"></p>
<p><em>显示最近已安装的软件包</em></p>
<p><code>apt</code> 的历史日志非常有用。因为他显示了什么时候执行了 <code>apt</code> 命令，哪个用户执行的命令以及安装的软件包名。</p>
<h3>小技巧：在软件中心显示已安装的程序包名</h3>
<p>如果你觉得终端和命令行交互不友好，还有一个方法可以查看系统的程序名。</p>
<p>可以打开软件中心，然后点击已安装标签。你可以看到系统上已经安装的程序包名</p>
<p><img alt="Ubuntu 软件中心显示已安装的软件包" src="/data/attachment/album/201902/23/002730fjz656pwe1kzlljw.png"></p>
<p><em>在软件中心显示已安装的软件包</em></p>
<p>这个不会显示库和其他命令行的东西，有可能你也不想看到它们，因为你的大量交互都是在 GUI。此外，你也可以用 Synaptic 软件包管理器。</p>
<h3>结束语</h3>
<p>我希望这个简易的教程可以帮你查看 Ubuntu 和基于 Debian 的发行版的已安装软件包。</p>
<p>如果你对本文有什么问题或建议，请在下面留言。</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>