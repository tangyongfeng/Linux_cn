<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>Vim 可视化模式入门</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Author: Susan Lauber 可视化模式使得在 Vim 中高亮显示和操作文本变得更加容易。 Ansible 剧本文件是 YAML 格式的文本文件，经常与它们打交道 …" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">linux_cn</a></h1>
                <nav><ul>
                    <li><a href="/category/chuan-shan-jia-zhuan-fang">穿山甲专访</a></li>
                    <li><a href="/category/dai-ma-ying-xiong">代码英雄</a></li>
                    <li><a href="/category/fen-xiang">分享</a></li>
                    <li><a href="/category/guan-dian">观点</a></li>
                    <li><a href="/category/huo-dong">活动</a></li>
                    <li><a href="/category/ji-ke-man-hua">极客漫画</a></li>
                    <li class="active"><a href="/category/ji-zhu">技术</a></li>
                    <li><a href="/category/kai-yuan-zhi-hui">开源智慧</a></li>
                    <li><a href="/category/linux-fa-xing-ban">Linux 发行版</a></li>
                    <li><a href="/category/mei-ri-an-quan-zi-xun">每日安全资讯</a></li>
                    <li><a href="/category/misc">Misc</a></li>
                    <li><a href="/category/qu-kuai-lian">区块链</a></li>
                    <li><a href="/category/rong-qi-yu-yun">容器与云</a></li>
                    <li><a href="/category/ruan-jian-kai-fa">软件开发</a></li>
                    <li><a href="/category/shu-mei-pai">树莓派</a></li>
                    <li><a href="/category/xi-tong-yun-wei">系统运维</a></li>
                    <li><a href="/category/xin-wen">新闻</a></li>
                    <li><a href="/category/ying-he-guan-cha">硬核观察</a></li>
                    <li><a href="/category/zhi-ye-sheng-ya">职业生涯</a></li>
                    <li><a href="/category/zhong-jiang-ming-dan">中奖名单</a></li>
                    <li><a href="/category/zhuo-mian-ying-yong">桌面应用</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2019/03/vim-ke-shi-hua-mo-shi-ru-men.html" rel="bookmark"
           title="Permalink to Vim 可视化模式入门">Vim 可视化模式入门</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2019-03-05T07:29:16+01:00">
                Published: Tue 05 March 2019
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/linux-fans-from-china.html">linux fans from china</a>
        </address>
<p>In <a href="/category/ji-zhu">技术</a>.</p>

</footer><!-- /.post-info -->      <p>Author: Susan Lauber</p>
<blockquote>
<p>可视化模式使得在 Vim 中高亮显示和操作文本变得更加容易。</p>
</blockquote>
<p><img alt="" src="/data/attachment/album/201903/05/072920nj49tttutz0h3hdt.png"></p>
<p>Ansible 剧本文件是 YAML 格式的文本文件，经常与它们打交道的人通过他们偏爱的编辑器和扩展插件以使格式化更容易。</p>
<p>当我使用大多数 Linux 发行版中提供的默认编辑器来教学 Ansible 时，我经常使用 Vim 的可视化模式。它可以让我在屏幕上高亮显示我的操作 —— 我要编辑什么以及我正在做的文本处理任务，以便使我的学生更容易学习。</p>
<h3>Vim 的可视化模式</h3>
<p>使用 Vim 编辑文本时，可视化模式对于识别要操作的文本块非常有用。</p>
<p>Vim 的可视模式有三个模式：字符、行和块。进入每种模式的按键是：</p>
<ul>
<li>字符模式: <code>v</code> （小写）</li>
<li>行模式: <code>V</code> （大写）</li>
<li>块模式: <code>Ctrl+v</code></li>
</ul>
<p>下面是使用每种模式简化工作的一些方法。</p>
<h3>字符模式</h3>
<p>字符模式可以高亮显示段落中的一个句子或句子中的一个短语，然后，可以使用任何 Vim 编辑命令删除、复制、更改/修改可视化模式识别的文本。</p>
<h4>移动一个句子</h4>
<p>要将句子从一个地方移动到另一个地方，首先打开文件并将光标移动到要移动的句子的第一个字符。</p>
<p><img alt="" src="/data/attachment/album/201903/05/072921kucslglcg8vvmlqz.png"></p>
<ul>
<li>按下 <code>v</code> 键进入可视化字符模式。单词 <code>VISUAL</code> 将出现在屏幕底部。</li>
<li>使用箭头来高亮显示所需的文本。你可以使用其他导航命令，例如 <code>w</code> 高亮显示至下一个单词的开头，<code>$</code> 来包含该行的其余部分。</li>
<li>在文本高亮显示后，按下 <code>d</code> 删除文本。</li>
<li>如果你删除得太多或不够，按下 <code>u</code> 撤销并重新开始。</li>
<li>将光标移动到新位置，然后按 <code>p</code> 粘贴文本。</li>
</ul>
<h4>改变一个短语</h4>
<p>你还可以高亮显示要替换的一段文本。</p>
<p><img alt="" src="/data/attachment/album/201903/05/072921l8y97c49y4yh0440.png"></p>
<ul>
<li>将光标放在要更改的第一个字符处。</li>
<li>按下 <code>v</code> 进入可视化字符模式。</li>
<li>使用导航命令（如箭头键）高亮显示该部分。</li>
<li>按下 <code>c</code> 可更改高亮显示的文本。</li>
<li>高亮显示的文本将消失，你将处于插入模式，你可以在其中添加新文本。</li>
<li>输入新文本后，按下 <code>Esc</code> 返回命令模式并保存你的工作。</li>
</ul>
<p><img alt="" src="/data/attachment/album/201903/05/072921kuoo3y7ah6o76z37.png"></p>
<h3>行模式</h3>
<p>使用 Ansible 剧本时，任务的顺序很重要。使用可视化行模式将 Ansible 任务移动到该剧本文件中的其他位置。</p>
<h4>操纵多行文本</h4>
<p><img alt="" src="/data/attachment/album/201903/05/072922g95coemsmrqrqv1g.png"></p>
<ul>
<li>将光标放在要操作的文本的第一行或最后一行的任何位置。</li>
<li>按下 <code>Shift+V</code> 进入行模式。单词 <code>VISUAL LINE</code> 将出现在屏幕底部。</li>
<li>使用导航命令（如箭头键）高亮显示多行文本。</li>
<li>高亮显示所需文本后，使用命令来操作它。按下 <code>d</code> 删除，然后将光标移动到新位置，按下 <code>p</code> 粘贴文本。</li>
<li>如果要复制该 Ansible 任务，可以使用 <code>y</code>（yank）来代替 <code>d</code>（delete）。</li>
</ul>
<h4>缩进一组行</h4>
<p>使用 Ansible 剧本或 YAML 文件时，缩进很重要。高亮显示的块可以使用 <code>&gt;</code> 和 <code>&lt;</code> 键向右或向左移动。</p>
<p><img alt="" src="/data/attachment/album/201903/05/072922igy72g6gmwfmwffg.png"></p>
<ul>
<li>按下 <code>&gt;</code> 增加所有行的缩进。</li>
<li>按下 <code>&lt;</code> 减少所有行的缩进。</li>
</ul>
<p>尝试其他 Vim 命令将它们应用于高亮显示的文本。</p>
<h3>块模式</h3>
<p>可视化块模式对于操作特定的表格数据文件非常有用，但它作为验证 Ansible 剧本文件缩进的工具也很有帮助。</p>
<p>Ansible 任务是个项目列表，在 YAML 中，每个列表项都以一个破折号跟上一个空格开头。破折号必须在同一列中对齐，以达到相同的缩进级别。仅凭肉眼很难看出这一点。缩进 Ansible 任务中的其他行也很重要。</p>
<h4>验证任务列表缩进相同</h4>
<p><img alt="" src="/data/attachment/album/201903/05/072923yl4ltqq647llaql6.png"></p>
<ul>
<li>将光标放在列表项的第一个字符上。</li>
<li>按下 <code>Ctrl+v</code> 进入可视化块模式。单词 <code>VISUAL BLOCK</code> 将出现在屏幕底部。</li>
<li>使用箭头键高亮显示单个字符列。你可以验证每个任务的缩进量是否相同。</li>
<li>使用箭头键向右或向左展开块，以检查其它缩进是否正确。</li>
</ul>
<p><img alt="" src="/data/attachment/album/201903/05/072923rsjsahtiiipp5sah.png"></p>
<p>尽管我对其它 Vim 编辑快捷方式很熟悉，但我仍然喜欢使用可视化模式来整理我想要出来处理的文本。当我在讲演过程中演示其它概念时，我的学生将会在这个“对他们而言很新”的文本编辑器中看到一个可以高亮文本并可以点击删除的工具。</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>