<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>Emoji-Log：编写 Git 提交信息的新方法</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Author: Ahmad Awais 使用 Emoji-Log 为你的提交添加上下文。 我是一名全职的开源开发人员，我喜欢称自己为“开源者”。我从事开源软件工作已经 …" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">linux_cn</a></h1>
                <nav><ul>
                    <li><a href="/category/chuan-shan-jia-zhuan-fang">穿山甲专访</a></li>
                    <li><a href="/category/dai-ma-ying-xiong">代码英雄</a></li>
                    <li><a href="/category/fen-xiang">分享</a></li>
                    <li><a href="/category/guan-dian">观点</a></li>
                    <li><a href="/category/huo-dong">活动</a></li>
                    <li><a href="/category/ji-ke-man-hua">极客漫画</a></li>
                    <li class="active"><a href="/category/ji-zhu">技术</a></li>
                    <li><a href="/category/kai-yuan-zhi-hui">开源智慧</a></li>
                    <li><a href="/category/linux-fa-xing-ban">Linux 发行版</a></li>
                    <li><a href="/category/mei-ri-an-quan-zi-xun">每日安全资讯</a></li>
                    <li><a href="/category/misc">Misc</a></li>
                    <li><a href="/category/qu-kuai-lian">区块链</a></li>
                    <li><a href="/category/rong-qi-yu-yun">容器与云</a></li>
                    <li><a href="/category/ruan-jian-kai-fa">软件开发</a></li>
                    <li><a href="/category/shu-mei-pai">树莓派</a></li>
                    <li><a href="/category/xi-tong-yun-wei">系统运维</a></li>
                    <li><a href="/category/xin-wen">新闻</a></li>
                    <li><a href="/category/ying-he-guan-cha">硬核观察</a></li>
                    <li><a href="/category/zhi-ye-sheng-ya">职业生涯</a></li>
                    <li><a href="/category/zhong-jiang-ming-dan">中奖名单</a></li>
                    <li><a href="/category/zhuo-mian-ying-yong">桌面应用</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2019/03/emoji-logbian-xie-git-ti-jiao-xin-xi-de-xin-fang-fa.html" rel="bookmark"
           title="Permalink to Emoji-Log：编写 Git 提交信息的新方法">Emoji-Log：编写 Git 提交信息的新方法</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2019-03-17T23:33:00+01:00">
                Published: Sun 17 March 2019
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/linux-fans-from-china.html">linux fans from china</a>
        </address>
<p>In <a href="/category/ji-zhu">技术</a>.</p>

</footer><!-- /.post-info -->      <p>Author: Ahmad Awais</p>
<blockquote>
<p>使用 Emoji-Log 为你的提交添加上下文。</p>
</blockquote>
<p><img alt="" src="/data/attachment/album/201903/17/233342fg3bqmjyc72mkcbg.jpg"></p>
<p>我是一名全职的开源开发人员，我喜欢称自己为“开源者”。我从事开源软件工作已经超过十年，并<a href="https://github.com/ahmadawais">构建了数以百计的</a>开源软件应用程序。</p>
<p>同时我也是“<ruby> 避免重复工作 <rt>  Don’t Repeat Yourself </rt></ruby>”（DRY）哲学的忠实粉丝，并且我相信编写更好的 Git 提交消息是 DRY 的一个重要组成部分。它们具有足够的上下文关联，可以作为你开源软件的变更日志。我编写的众多工作流之一是 <a href="https://github.com/ahmadawais/Emoji-Log/">Emoji-Log</a>，它是一个简单易用的开源 Git 提交日志标准。它通过使用表情符号来创建更好的 Git 提交消息，从而改善了开发人员的体验（DX）。</p>
<p>我使用 Emoji-Log 构建了 <a href="https://github.com/ahmadawais/VSCode-Tips-Tricks">VSCode Tips &amp; Tricks 仓库</a> 和我的 ? <a href="https://github.com/ahmadawais/shades-of-purple-vscode/commits/master">紫色 VSCode 主题仓库</a>，以及一个看起来很漂亮的<a href="https://github.com/ahmadawais/shades-of-purple-vscode/blob/master/CHANGELOG.md">自动变更日志</a>。</p>
<h3>Emoji-Log 的哲学</h3>
<p>我喜欢（很多）表情符号，我很喜欢它们。编程、代码、极客/书呆子、开源……所有这一切本质上都很枯燥，有时甚至很无聊。表情符号帮助我添加颜色和情感。想要将感受添加到这个 2D 的、平板的、基于文本的代码世界并没有错。</p>
<p>相比于<a href="https://gitmoji.carloscuesta.me/">数百个表情符号</a>，我学会的更好办法是让类别较小和普遍性。以下是指导使用 Emoji-Log 编写提交信息的原则：</p>
<ul>
<li><strong>必要的</strong><ul>
<li>Git 提交信息是必要的。</li>
<li>像下订单一样编写提交信息。<ul>
<li>例如，使用 ✅ <strong>Add</strong> 而不是 ❌ <strong>Added</strong></li>
<li>例如，使用 ✅ <strong>Create</strong> 而不是 ❌ <strong>Creating</strong></li>
</ul>
</li>
</ul>
</li>
<li><strong>规则</strong><ul>
<li>少数类别易于记忆。</li>
<li>不多也不少<ul>
<li>例如 <strong>? NEW</strong> 、 <strong>? IMPROVE</strong> 、 <strong>? FIX</strong> 、 <strong>? DOC</strong> 、 <strong>? RELEASE</strong> 、 <strong>✅ TEST</strong></li>
</ul>
</li>
</ul>
</li>
<li><strong>行为</strong><ul>
<li>让 Git 的提交基于你所采取的操作</li>
<li>使用像 <a href="https://VSCode.pro">VSCode</a> 这样的编辑器来提交带有提交信息的正确文件。</li>
</ul>
</li>
</ul>
<h3>编写提交信息</h3>
<p>仅使用以下 Git 提交信息。简单而小巧的占地面积是 Emoji-Log 的核心。</p>
<ul>
<li><strong>? NEW: 必要的信息</strong><ul>
<li>当你添加一些全新的东西时使用。<ul>
<li>例如 <strong>? NEW: 添加 Git 忽略的文件</strong></li>
</ul>
</li>
</ul>
</li>
<li><strong>? IMPROVE: 必要的信息</strong><ul>
<li>用于改进/增强代码段，如重构等。<ul>
<li>例如 <strong>? IMPROVE: 远程 IP API 函数</strong></li>
</ul>
</li>
</ul>
</li>
<li><strong>? FIX: 必要的信息</strong><ul>
<li>修复 bug 时使用，不用解释了吧？<ul>
<li>例如 <strong>? FIX: Case converter</strong></li>
</ul>
</li>
</ul>
</li>
<li><strong>? DOC: 必要的信息</strong><ul>
<li>添加文档时使用，比如 README.md 甚至是内联文档。<ul>
<li>例如 <strong>? DOC: API 接口教程</strong></li>
</ul>
</li>
</ul>
</li>
<li><strong>? RELEASE: 必要的信息</strong><ul>
<li>发布新版本时使用。例如， <strong>? RELEASE: Version 2.0.0</strong></li>
</ul>
</li>
<li><strong>✅ TEST: 必要的信息</strong><ul>
<li>发布新版本时使用。<ul>
<li>例如 <strong>✅ TEST: 模拟用户登录/注销</strong></li>
</ul>
</li>
</ul>
</li>
</ul>
<p>就这些了，不多不少。</p>
<h3>Emoji-Log 函数</h3>
<p>为了快速构建原型，我写了以下函数，你可以将它们添加到 <code>.bashrc</code> 或者 <code>.zshrc</code> 文件中以快速使用 Emoji-Log。</p>
<div class="highlight"><pre><span></span><code><span class="cp">#.# Better Git Logs.</span>

<span class="cp">### Using EMOJI-LOG (https:</span><span class="c1">//github.com/ahmadawais/Emoji-Log).</span>

<span class="cp"># Git Commit, Add all and Push — in one step.</span>

<span class="n">function</span><span class="w"> </span><span class="nf">gcap</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">git</span><span class="w"> </span><span class="n">add</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">git</span><span class="w"> </span><span class="n">commit</span><span class="w"> </span><span class="o">-</span><span class="n">m</span><span class="w"> </span><span class="s">&quot;$*&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">git</span><span class="w"> </span><span class="n">push</span>
<span class="p">}</span>

<span class="cp"># NEW.</span>
<span class="n">function</span><span class="w"> </span><span class="nf">gnew</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">gcap</span><span class="w"> </span><span class="s">&quot;? NEW: $@&quot;</span>
<span class="p">}</span>

<span class="cp"># IMPROVE.</span>
<span class="n">function</span><span class="w"> </span><span class="nf">gimp</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">gcap</span><span class="w"> </span><span class="s">&quot;? IMPROVE: $@&quot;</span>
<span class="p">}</span>

<span class="cp"># FIX.</span>
<span class="n">function</span><span class="w"> </span><span class="nf">gfix</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">gcap</span><span class="w"> </span><span class="s">&quot;? FIX: $@&quot;</span>
<span class="p">}</span>

<span class="cp"># RELEASE.</span>
<span class="n">function</span><span class="w"> </span><span class="nf">grlz</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">gcap</span><span class="w"> </span><span class="s">&quot;? RELEASE: $@&quot;</span>
<span class="p">}</span>

<span class="cp"># DOC.</span>
<span class="n">function</span><span class="w"> </span><span class="nf">gdoc</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">gcap</span><span class="w"> </span><span class="s">&quot;? DOC: $@&quot;</span>
<span class="p">}</span>

<span class="cp"># TEST.</span>
<span class="n">function</span><span class="w"> </span><span class="nf">gtst</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">gcap</span><span class="w"> </span><span class="s">&quot;✅ TEST: $@&quot;</span>
<span class="p">}</span>
</code></pre></div>

<p>要为 <a href="https://en.wikipedia.org/wiki/Friendly_interactive_shell">fish shell</a> 安装这些函数，运行以下命令：</p>
<div class="highlight"><pre><span></span><code><span class="k">function</span><span class="w"> </span><span class="nf">gcap</span><span class="p">;</span><span class="w"> </span><span class="n">git</span><span class="w"> </span><span class="s">add</span><span class="w"> </span><span class="s">.</span><span class="p">;</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="s">git</span><span class="w"> </span><span class="s">commit</span><span class="w"> </span><span class="o">-</span><span class="n">m</span><span class="w"> </span><span class="s">&quot;$argv&quot;</span><span class="p">;</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="s">git</span><span class="w"> </span><span class="s">push</span><span class="p">;</span><span class="w"> </span><span class="k">end</span><span class="p">;</span>
<span class="k">function</span><span class="w"> </span><span class="nf">gnew</span><span class="p">;</span><span class="w"> </span><span class="n">gcap</span><span class="w"> </span><span class="s">&quot;?</span><span class="w"> </span><span class="s">NEW:</span><span class="w"> </span><span class="s">$argv&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">end</span>
<span class="k">function</span><span class="w"> </span><span class="nf">gimp</span><span class="p">;</span><span class="w"> </span><span class="n">gcap</span><span class="w"> </span><span class="s">&quot;?</span><span class="w"> </span><span class="s">IMPROVE:</span><span class="w"> </span><span class="s">$argv&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">end</span><span class="p">;</span>
<span class="k">function</span><span class="w"> </span><span class="nf">gfix</span><span class="p">;</span><span class="w"> </span><span class="n">gcap</span><span class="w"> </span><span class="s">&quot;?</span><span class="w"> </span><span class="s">FIX:</span><span class="w"> </span><span class="s">$argv&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">end</span><span class="p">;</span>
<span class="k">function</span><span class="w"> </span><span class="nf">grlz</span><span class="p">;</span><span class="w"> </span><span class="n">gcap</span><span class="w"> </span><span class="s">&quot;?</span><span class="w"> </span><span class="s">RELEASE:</span><span class="w"> </span><span class="s">$argv&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">end</span><span class="p">;</span>
<span class="k">function</span><span class="w"> </span><span class="nf">gdoc</span><span class="p">;</span><span class="w"> </span><span class="n">gcap</span><span class="w"> </span><span class="s">&quot;?</span><span class="w"> </span><span class="s">DOC:</span><span class="w"> </span><span class="s">$argv&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">end</span><span class="p">;</span>
<span class="k">function</span><span class="w"> </span><span class="nf">gtst</span><span class="p">;</span><span class="w"> </span><span class="n">gcap</span><span class="w"> </span><span class="s">&quot;✅</span><span class="w"> </span><span class="s">TEST:</span><span class="w"> </span><span class="s">$argv&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">end</span><span class="p">;</span>
<span class="n">funcsave</span><span class="w"> </span><span class="s">gcap</span>
<span class="n">funcsave</span><span class="w"> </span><span class="s">gnew</span>
<span class="n">funcsave</span><span class="w"> </span><span class="s">gimp</span>
<span class="n">funcsave</span><span class="w"> </span><span class="s">gfix</span>
<span class="n">funcsave</span><span class="w"> </span><span class="s">grlz</span>
<span class="n">funcsave</span><span class="w"> </span><span class="s">gdoc</span>
<span class="n">funcsave</span><span class="w"> </span><span class="s">gtst</span>
</code></pre></div>

<p>如果你愿意，可以将这些别名直接粘贴到 <code>~/.gitconfig</code> 文件：</p>
<div class="highlight"><pre><span></span><code><span class="err">#</span><span class="w"> </span><span class="nt">Git</span><span class="w"> </span><span class="nt">Commit</span><span class="o">,</span><span class="w"> </span><span class="nt">Add</span><span class="w"> </span><span class="nt">all</span><span class="w"> </span><span class="nt">and</span><span class="w"> </span><span class="nt">Push</span><span class="w"> </span><span class="err">—</span><span class="w"> </span><span class="nt">in</span><span class="w"> </span><span class="nt">one</span><span class="w"> </span><span class="nt">step</span><span class="o">.</span>
<span class="nt">cap</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;!f() { git add .; git commit -m \&quot;$@\&quot;; git push; }; f&quot;</span>

<span class="err">#</span><span class="w"> </span><span class="nt">NEW</span><span class="o">.</span>
<span class="nt">new</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;!f() { git cap \&quot;? NEW: $@\&quot;; }; f&quot;</span>
<span class="err">#</span><span class="w"> </span><span class="nt">IMPROVE</span><span class="o">.</span>
<span class="nt">imp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;!f() { git cap \&quot;? IMPROVE: $@\&quot;; }; f&quot;</span>
<span class="err">#</span><span class="w"> </span><span class="nt">FIX</span><span class="o">.</span>
<span class="nt">fix</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;!f() { git cap \&quot;? FIX: $@\&quot;; }; f&quot;</span>
<span class="err">#</span><span class="w"> </span><span class="nt">RELEASE</span><span class="o">.</span>
<span class="nt">rlz</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;!f() { git cap \&quot;? RELEASE: $@\&quot;; }; f&quot;</span>
<span class="err">#</span><span class="w"> </span><span class="nt">DOC</span><span class="o">.</span>
<span class="nt">doc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;!f() { git cap \&quot;? DOC: $@\&quot;; }; f&quot;</span>
<span class="err">#</span><span class="w"> </span><span class="nt">TEST</span><span class="o">.</span>
<span class="nt">tst</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;!f() { git cap \&quot;✅ TEST: $@\&quot;; }; f&quot;</span>
</code></pre></div>

<h3>Emoji-Log 例子</h3>
<p>这里列出了一些使用 Emoji-Log 的仓库：</p>
<ul>
<li><a href="https://github.com/ahmadawais/create-guten-block/commits/">Create-guten-block toolkit</a></li>
<li><a href="https://github.com/ahmadawais/shades-of-purple-vscode/commits/">VSCode Shades of Purple theme</a></li>
<li><a href="https://github.com/ahmadawais">Ahmad Awais' GitHub repos</a> （我的最新的仓库）</li>
<li><a href="https://github.com/CaptainCore/captaincore-cli/commits/">CaptainCore CLI</a> （WordPress 管理工具）</li>
<li><a href="https://github.com/CaptainCore/captaincore-gui/commits/">CaptainCore GUI</a> （WordPress 插件）</li>
</ul>
<p>你呢？如果你的仓库使用 Emoji-Log，请将这个 <a href="https://on.ahmda.ws/rOMZ/c">Emoji-Log 徽章</a>放到你的 README 中，并给我发送一个<a href="https://github.com/ahmadawais/Emoji-Log/pulls">拉取请求</a>，以让我可以将你的仓库列在这里。</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>