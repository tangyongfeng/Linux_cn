<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>试试动态窗口管理器 dwm 吧</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Author: Adam Šamalík 如果你崇尚效率和极简主义，并且正在为你的 Linux 桌面寻找新的窗口管理器，那么你应该尝试一下 动态窗口管理器 …" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">linux_cn</a></h1>
                <nav><ul>
                    <li><a href="/category/chuan-shan-jia-zhuan-fang">穿山甲专访</a></li>
                    <li><a href="/category/dai-ma-ying-xiong">代码英雄</a></li>
                    <li><a href="/category/fen-xiang">分享</a></li>
                    <li><a href="/category/guan-dian">观点</a></li>
                    <li><a href="/category/huo-dong">活动</a></li>
                    <li><a href="/category/ji-ke-man-hua">极客漫画</a></li>
                    <li><a href="/category/ji-zhu">技术</a></li>
                    <li><a href="/category/kai-yuan-zhi-hui">开源智慧</a></li>
                    <li><a href="/category/linux-fa-xing-ban">Linux 发行版</a></li>
                    <li><a href="/category/mei-ri-an-quan-zi-xun">每日安全资讯</a></li>
                    <li><a href="/category/misc">Misc</a></li>
                    <li><a href="/category/qu-kuai-lian">区块链</a></li>
                    <li><a href="/category/rong-qi-yu-yun">容器与云</a></li>
                    <li><a href="/category/ruan-jian-kai-fa">软件开发</a></li>
                    <li><a href="/category/shu-mei-pai">树莓派</a></li>
                    <li><a href="/category/xi-tong-yun-wei">系统运维</a></li>
                    <li><a href="/category/xin-wen">新闻</a></li>
                    <li><a href="/category/ying-he-guan-cha">硬核观察</a></li>
                    <li><a href="/category/zhi-ye-sheng-ya">职业生涯</a></li>
                    <li><a href="/category/zhong-jiang-ming-dan">中奖名单</a></li>
                    <li class="active"><a href="/category/zhuo-mian-ying-yong">桌面应用</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2019/08/shi-shi-dong-tai-chuang-kou-guan-li-qi-dwm-ba.html" rel="bookmark"
           title="Permalink to 试试动态窗口管理器 dwm 吧">试试动态窗口管理器 dwm 吧</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2019-08-16T18:29:09+02:00">
                Published: Fri 16 August 2019
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/linux-fans-from-china.html">linux fans from china</a>
        </address>
<p>In <a href="/category/zhuo-mian-ying-yong">桌面应用</a>.</p>

</footer><!-- /.post-info -->      <p>Author: Adam Šamalík</p>
<p><img alt="" src="/data/attachment/album/201908/16/182917m5zy54vvy5zwbeyp.png"></p>
<p>如果你崇尚效率和极简主义，并且正在为你的 Linux 桌面寻找新的窗口管理器，那么你应该尝试一下<ruby> 动态窗口管理器 <rt>  dynamic window manager </rt></ruby> dwm。以不到 2000 标准行的代码写就的 dwm，是一个速度极快而功能强大，且可高度定制的窗口管理器。</p>
<p>你可以在平铺、单片和浮动布局之间动态选择，使用标签将窗口组织到多个工作区，并使用键盘快捷键快速导航。本文将帮助你开始使用 dwm。</p>
<h3>安装</h3>
<p>要在 Fedora 上安装 dwm，运行：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>sudo<span class="w"> </span>dnf<span class="w"> </span>install<span class="w"> </span>dwm<span class="w"> </span>dwm-user
</code></pre></div>

<p><code>dwm</code> 包会安装窗口管理器本身，<code>dwm-user</code> 包显著简化了配置，本文稍后将对此进行说明。</p>
<p>此外，为了能够在需要时锁定屏幕，我们还将安装 <code>slock</code>，这是一个简单的 X 显示锁屏。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>sudo<span class="w"> </span>dnf<span class="w"> </span>install<span class="w"> </span>slock
</code></pre></div>

<p>当然，你可以根据你的个人喜好使用其它的锁屏。</p>
<h3>快速入门</h3>
<p>要启动 dwm，在登录屏选择 “dwm-user” 选项。</p>
<p><img alt="" src="/data/attachment/album/201908/16/182929bc33e3pbrpx3ey4r.png"></p>
<p>登录后，你将看到一个非常简单的桌面。事实上，顶部唯一的一个面板列出了代表工作空间的 9 个标签和一个代表窗户布局的 <code>[]=</code> 符号。</p>
<h4>启动应用</h4>
<p>在查看布局之前，首先启动一些应用程序，以便你可以随时使用布局。可以通过按 <code>Alt+p</code> 并键入应用程序的名称，然后回车来启动应用程序。还有一个快捷键 <code>Alt+Shift+Enter</code> 用于打开终端。</p>
<p>现在有一些应用程序正在运行了，请查看布局。</p>
<h4>布局</h4>
<p>默认情况下有三种布局：平铺布局，单片布局和浮动布局。</p>
<p>平铺布局由条形图上的 <code>[]=</code> 表示，它将窗口组织为两个主要区域：左侧为主区域，右侧为堆叠区。你可以按 <code>Alt+t</code> 激活平铺布局。</p>
<p><img alt="" src="/data/attachment/album/201908/16/182940dt6go8b2k66qt9q1.png"></p>
<p>平铺布局背后的想法是，主窗口放在主区域中，同时仍然可以看到堆叠区中的其他窗口。你可以根据需要在它们之间快速切换。</p>
<p>要在两个区域之间交换窗口，请将鼠标悬停在堆叠区中的一个窗口上，然后按 <code>Alt+Enter</code> 将其与主区域中的窗口交换。</p>
<p><img alt="" src="/data/attachment/album/201908/16/182952rv2xc7k2o8tcz7oo.png"></p>
<p>单片布局由顶部栏上的 <code>[N]</code> 表示，可以使你的主窗口占据整个屏幕。你可以按 <code>Alt+m</code> 切换到它。</p>
<p>最后，浮动布局可让你自由移动和调整窗口大小。它的快捷方式是 <code>Alt+f</code>，顶栏上的符号是 <code>&gt;&lt;&gt;</code>。</p>
<h4>工作区和标签</h4>
<p>每个窗口都分配了一个顶部栏中列出的标签（1-9）。要查看特定标签，请使用鼠标单击其编号或按 <code>Alt+1..9</code>。你甚至可以使用鼠标右键单击其编号，一次查看多个标签。</p>
<p>通过使用鼠标突出显示后，并按 <code>Alt+Shift+1..9</code>，窗口可以在不同标签之间移动。</p>
<h3>配置</h3>
<p>为了使 dwm 尽可能简约，它不使用典型的配置文件。而是你需要修改代表配置的 C 语言头文件，并重新编译它。但是不要担心，在 Fedora 中你只需要简单地编辑主目录中的一个文件，而其他一切都会在后台发生，这要归功于 Fedora 的维护者提供的 <code>dwm-user</code> 包。</p>
<p>首先，你需要使用类似于以下的命令将文件复制到主目录中：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>mkdir<span class="w"> </span>~/.dwm
$<span class="w"> </span>cp<span class="w"> </span>/usr/src/dwm-VERSION-RELEASE/config.def.h<span class="w"> </span>~/.dwm/config.h
</code></pre></div>

<p>你可以通过运行 <code>man dwm-start</code> 来获取确切的路径。</p>
<p>其次，只需编辑 <code>~/.dwm/config.h</code> 文件。例如，让我们配置一个新的快捷方式：通过按 <code>Alt+Shift+L</code> 来锁定屏幕。</p>
<p>考虑到我们已经安装了本文前面提到的 <code>slock</code> 包，我们需要在文件中添加以下两行以使其工作：</p>
<p>在 <code>/* commands */</code> 注释下，添加：</p>
<div class="highlight"><pre><span></span><code><span class="k">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="nb">char</span><span class="w"> </span><span class="o">*</span><span class="n">slockcmd</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s2">&quot;slock&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">NULL</span><span class="w"> </span><span class="p">};</span>
</code></pre></div>

<p>添加下列行到 <code>static Key keys[]</code> 中：</p>
<div class="highlight"><pre><span></span><code>{ MODKEY|ShiftMask, XK_l, spawn, {.v = slockcmd } },
</code></pre></div>

<p>最终，它应该看起来如下：</p>
<div class="highlight"><pre><span></span><code><span class="o">...</span>
<span class="w"> </span><span class="o">/*</span><span class="w"> </span><span class="n">commands</span><span class="w"> </span><span class="o">*/</span>
<span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="nb">char</span><span class="w"> </span><span class="n">dmenumon</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;0&quot;</span><span class="p">;</span><span class="w"> </span><span class="o">/*</span><span class="w"> </span><span class="n">component</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">dmenucmd</span><span class="p">,</span><span class="w"> </span><span class="n">manipulated</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">spawn</span><span class="p">()</span><span class="w"> </span><span class="o">*/</span>
<span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="nb">char</span><span class="w"> </span><span class="o">*</span><span class="n">dmenucmd</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s2">&quot;dmenu_run&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;-m&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">dmenumon</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;-fn&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">dmenufont</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;-nb&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">normbgcolor</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;-nf&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">normfgcolor</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;-sb&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">selbgcolor</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;-sf&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">selfgcolor</span><span class="p">,</span><span class="w"> </span><span class="n">NULL</span><span class="w"> </span><span class="p">};</span>
<span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="nb">char</span><span class="w"> </span><span class="o">*</span><span class="n">termcmd</span><span class="p">[]</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s2">&quot;st&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">NULL</span><span class="w"> </span><span class="p">};</span>
<span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="nb">char</span><span class="w"> </span><span class="o">*</span><span class="n">slockcmd</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s2">&quot;slock&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">NULL</span><span class="w"> </span><span class="p">};</span>

<span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="n">Key</span><span class="w"> </span><span class="n">keys</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">     </span><span class="o">/*</span><span class="w"> </span><span class="n">modifier</span><span class="w">                     </span><span class="n">key</span><span class="w">        </span><span class="n">function</span><span class="w">        </span><span class="n">argument</span><span class="w"> </span><span class="o">*/</span>
<span class="w">     </span><span class="p">{</span><span class="w"> </span><span class="n">MODKEY</span><span class="o">|</span><span class="n">ShiftMask</span><span class="p">,</span><span class="w">             </span><span class="n">XK_l</span><span class="p">,</span><span class="w">      </span><span class="n">spawn</span><span class="p">,</span><span class="w">          </span><span class="p">{</span><span class="o">.</span><span class="n">v</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">slockcmd</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<span class="w">     </span><span class="p">{</span><span class="w"> </span><span class="n">MODKEY</span><span class="p">,</span><span class="w">                       </span><span class="n">XK_p</span><span class="p">,</span><span class="w">      </span><span class="n">spawn</span><span class="p">,</span><span class="w">          </span><span class="p">{</span><span class="o">.</span><span class="n">v</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dmenucmd</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<span class="w">     </span><span class="p">{</span><span class="w"> </span><span class="n">MODKEY</span><span class="o">|</span><span class="n">ShiftMask</span><span class="p">,</span><span class="w">             </span><span class="n">XK_Return</span><span class="p">,</span><span class="w"> </span><span class="n">spawn</span><span class="p">,</span><span class="w">          </span><span class="p">{</span><span class="o">.</span><span class="n">v</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">termcmd</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<span class="w"> </span><span class="o">...</span>
</code></pre></div>

<p>保存文件。</p>
<p>最后，按 <code>Alt+Shift+q</code> 注销，然后重新登录。<code>dwm-user</code> 包提供的脚本将识别你已更改主目录中的<code>config.h</code> 文件，并会在登录时重新编译 dwm。因为 dwm 非常小，它快到你甚至都不会注意到它重新编译了。</p>
<p>你现在可以尝试按 <code>Alt+Shift+L</code> 锁定屏幕，然后输入密码并按回车键再次登录。</p>
<h3>总结</h3>
<p>如果你崇尚极简主义并想要一个非常快速而功能强大的窗口管理器，dwm 可能正是你一直在寻找的。但是，它可能不适合初学者，你可能需要做许多其他配置才能按照你的喜好进行配置。</p>
<p>要了解有关 dwm 的更多信息，请参阅该项目的主页： <a href="https://dwm.suckless.org/">https://dwm.suckless.org/</a>。</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>