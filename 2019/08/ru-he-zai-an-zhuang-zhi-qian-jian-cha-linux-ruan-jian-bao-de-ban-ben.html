<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>如何在安装之前检查 Linux 软件包的版本？</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Author: Sk 大多数人都知道如何在 Linux 中查找已安装软件包的版本，但是，你会如何查找那些还没有安装的软件包的版本呢？很简 …" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">linux_cn</a></h1>
                <nav><ul>
                    <li><a href="/category/chuan-shan-jia-zhuan-fang">穿山甲专访</a></li>
                    <li><a href="/category/dai-ma-ying-xiong">代码英雄</a></li>
                    <li><a href="/category/fen-xiang">分享</a></li>
                    <li><a href="/category/guan-dian">观点</a></li>
                    <li><a href="/category/huo-dong">活动</a></li>
                    <li><a href="/category/ji-ke-man-hua">极客漫画</a></li>
                    <li class="active"><a href="/category/ji-zhu">技术</a></li>
                    <li><a href="/category/kai-yuan-zhi-hui">开源智慧</a></li>
                    <li><a href="/category/linux-fa-xing-ban">Linux 发行版</a></li>
                    <li><a href="/category/mei-ri-an-quan-zi-xun">每日安全资讯</a></li>
                    <li><a href="/category/misc">Misc</a></li>
                    <li><a href="/category/qu-kuai-lian">区块链</a></li>
                    <li><a href="/category/rong-qi-yu-yun">容器与云</a></li>
                    <li><a href="/category/ruan-jian-kai-fa">软件开发</a></li>
                    <li><a href="/category/shu-mei-pai">树莓派</a></li>
                    <li><a href="/category/xi-tong-yun-wei">系统运维</a></li>
                    <li><a href="/category/xin-wen">新闻</a></li>
                    <li><a href="/category/ying-he-guan-cha">硬核观察</a></li>
                    <li><a href="/category/zhi-ye-sheng-ya">职业生涯</a></li>
                    <li><a href="/category/zhong-jiang-ming-dan">中奖名单</a></li>
                    <li><a href="/category/zhuo-mian-ying-yong">桌面应用</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2019/08/ru-he-zai-an-zhuang-zhi-qian-jian-cha-linux-ruan-jian-bao-de-ban-ben.html" rel="bookmark"
           title="Permalink to 如何在安装之前检查 Linux 软件包的版本？">如何在安装之前检查 Linux 软件包的版本？</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2019-08-18T11:15:45+02:00">
                Published: Sun 18 August 2019
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/linux-fans-from-china.html">linux fans from china</a>
        </address>
<p>In <a href="/category/ji-zhu">技术</a>.</p>

</footer><!-- /.post-info -->      <p>Author: Sk</p>
<p><img alt="Check Linux Package Version" src="/data/attachment/album/201908/18/111549ruhlt722q12rvuth.png"></p>
<p>大多数人都知道如何在 Linux 中<a href="https://www.ostechnix.com/find-package-version-linux/">查找已安装软件包的版本</a>，但是，你会如何查找那些还没有安装的软件包的版本呢？很简单！本文将介绍在 Debian 及其衍生品（如 Ubuntu）中，如何在软件包安装之前检查它的版本。对于那些想在安装之前知道软件包版本的人来说，这个小技巧可能会有所帮助。</p>
<h3>在安装之前检查 Linux 软件包版本</h3>
<p>在基于 DEB 的系统中，即使软件包还没有安装，也有很多方法可以查看他的版本。接下来，我将一一介绍。</p>
<h4>方法 1 – 使用 Apt</h4>
<p>检查软件包的版本的懒人方法：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>apt<span class="w"> </span>show<span class="w"> </span>&lt;package-name&gt;
</code></pre></div>

<p><strong>示例：</strong></p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>apt<span class="w"> </span>show<span class="w"> </span>vim
</code></pre></div>

<p><strong>示例输出：</strong></p>
<div class="highlight"><pre><span></span><code><span class="nl">Package</span><span class="p">:</span><span class="w"> </span><span class="n">vim</span>
<span class="nl">Version</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="o">:</span><span class="mf">8.0.1453</span><span class="mi">-1u</span><span class="n">buntu1</span><span class="mf">.1</span>
<span class="nl">Priority</span><span class="p">:</span><span class="w"> </span><span class="n">optional</span>
<span class="nl">Section</span><span class="p">:</span><span class="w"> </span><span class="n">editors</span>
<span class="nl">Origin</span><span class="p">:</span><span class="w"> </span><span class="n">Ubuntu</span>
<span class="nl">Maintainer</span><span class="p">:</span><span class="w"> </span><span class="n">Ubuntu</span><span class="w"> </span><span class="n">Developers</span><span class="w"> </span><span class="o">&lt;</span><span class="p">[</span><span class="n">email</span><span class="w"> </span><span class="n">protected</span><span class="p">]</span><span class="o">&gt;</span>
<span class="n">Original</span><span class="o">-</span><span class="n">Maintainer</span><span class="o">:</span><span class="w"> </span><span class="n">Debian</span><span class="w"> </span><span class="n">Vim</span><span class="w"> </span><span class="n">Maintainers</span><span class="w"> </span><span class="o">&lt;</span><span class="p">[</span><span class="n">email</span><span class="w"> </span><span class="n">protected</span><span class="p">]</span><span class="o">&gt;</span>
<span class="nl">Bugs</span><span class="p">:</span><span class="w"> </span><span class="n">https</span><span class="o">:</span><span class="c1">//bugs.launchpad.net/ubuntu/+filebug</span>
<span class="n">Installed</span><span class="o">-</span><span class="n">Size</span><span class="o">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="mi">852</span><span class="w"> </span><span class="n">kB</span>
<span class="nl">Provides</span><span class="p">:</span><span class="w"> </span><span class="n">editor</span>
<span class="nl">Depends</span><span class="p">:</span><span class="w"> </span><span class="n">vim</span><span class="o">-</span><span class="n">common</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="o">:</span><span class="mf">8.0.1453</span><span class="mi">-1u</span><span class="n">buntu1</span><span class="mf">.1</span><span class="p">),</span><span class="w"> </span><span class="n">vim</span><span class="o">-</span><span class="n">runtime</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="o">:</span><span class="mf">8.0.1453</span><span class="mi">-1u</span><span class="n">buntu1</span><span class="mf">.1</span><span class="p">),</span><span class="w"> </span><span class="n">libacl1</span><span class="w"> </span><span class="p">(</span><span class="o">&gt;=</span><span class="w"> </span><span class="mf">2.2.51</span><span class="mi">-8</span><span class="p">),</span><span class="w"> </span><span class="n">libc6</span><span class="w"> </span><span class="p">(</span><span class="o">&gt;=</span><span class="w"> </span><span class="mf">2.15</span><span class="p">),</span><span class="w"> </span><span class="n">libgpm2</span><span class="w"> </span><span class="p">(</span><span class="o">&gt;=</span><span class="w"> </span><span class="mf">1.20.7</span><span class="p">),</span><span class="w"> </span><span class="n">libpython3</span><span class="mf">.6</span><span class="w"> </span><span class="p">(</span><span class="o">&gt;=</span><span class="w"> </span><span class="mf">3.6.5</span><span class="p">),</span><span class="w"> </span><span class="n">libselinux1</span><span class="w"> </span><span class="p">(</span><span class="o">&gt;=</span><span class="w"> </span><span class="mf">1.32</span><span class="p">),</span><span class="w"> </span><span class="n">libtinfo5</span><span class="w"> </span><span class="p">(</span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">6</span><span class="p">)</span>
<span class="nl">Suggests</span><span class="p">:</span><span class="w"> </span><span class="n">ctags</span><span class="p">,</span><span class="w"> </span><span class="n">vim</span><span class="o">-</span><span class="n">doc</span><span class="p">,</span><span class="w"> </span><span class="n">vim</span><span class="o">-</span><span class="n">scripts</span>
<span class="nl">Homepage</span><span class="p">:</span><span class="w"> </span><span class="n">https</span><span class="o">:</span><span class="c1">//vim.sourceforge.io/</span>
<span class="nl">Task</span><span class="p">:</span><span class="w"> </span><span class="n">cloud</span><span class="o">-</span><span class="n">image</span><span class="p">,</span><span class="w"> </span><span class="n">server</span>
<span class="nl">Supported</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="n">y</span>
<span class="n">Download</span><span class="o">-</span><span class="n">Size</span><span class="o">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="mi">152</span><span class="w"> </span><span class="n">kB</span>
<span class="n">APT</span><span class="o">-</span><span class="n">Sources</span><span class="o">:</span><span class="w"> </span><span class="n">http</span><span class="o">:</span><span class="c1">//archive.ubuntu.com/ubuntu bionic-updates/main amd64 Packages</span>
<span class="nl">Description</span><span class="p">:</span><span class="w"> </span><span class="n">Vi</span><span class="w"> </span><span class="n">IMproved</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">enhanced</span><span class="w"> </span><span class="n">vi</span><span class="w"> </span><span class="n">editor</span>
<span class="w"> </span><span class="n">Vim</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">almost</span><span class="w"> </span><span class="n">compatible</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">UNIX</span><span class="w"> </span><span class="n">editor</span><span class="w"> </span><span class="n">Vi</span><span class="p">.</span>
<span class="w"> </span><span class="p">.</span>
<span class="w"> </span><span class="n">Many</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">features</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">been</span><span class="w"> </span><span class="n">added</span><span class="o">:</span><span class="w"> </span><span class="n">multi</span><span class="w"> </span><span class="n">level</span><span class="w"> </span><span class="n">undo</span><span class="p">,</span><span class="w"> </span><span class="n">syntax</span>
<span class="w"> </span><span class="n">highlighting</span><span class="p">,</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="n">history</span><span class="p">,</span><span class="w"> </span><span class="n">on</span><span class="o">-</span><span class="n">line</span><span class="w"> </span><span class="n">help</span><span class="p">,</span><span class="w"> </span><span class="n">filename</span>
<span class="w"> </span><span class="n">completion</span><span class="p">,</span><span class="w"> </span><span class="n">block</span><span class="w"> </span><span class="n">operations</span><span class="p">,</span><span class="w"> </span><span class="n">folding</span><span class="p">,</span><span class="w"> </span><span class="n">Unicode</span><span class="w"> </span><span class="n">support</span><span class="p">,</span><span class="w"> </span><span class="n">etc</span><span class="p">.</span>
<span class="w"> </span><span class="p">.</span>
<span class="w"> </span><span class="n">This</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">contains</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">vim</span><span class="w"> </span><span class="n">compiled</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">rather</span>
<span class="w"> </span><span class="n">standard</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">features</span><span class="p">.</span><span class="w">  </span><span class="n">This</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">provide</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">GUI</span>
<span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">Vim</span><span class="p">.</span><span class="w">  </span><span class="n">See</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">vim</span><span class="o">-*</span><span class="w"> </span><span class="n">packages</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">need</span><span class="w"> </span><span class="n">more</span>
<span class="w"> </span><span class="p">(</span><span class="n">or</span><span class="w"> </span><span class="n">less</span><span class="p">).</span>

<span class="nl">N</span><span class="p">:</span><span class="w"> </span><span class="n">There</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">additional</span><span class="w"> </span><span class="n">record</span><span class="p">.</span><span class="w"> </span><span class="n">Please</span><span class="w"> </span><span class="n">use</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="err">&#39;</span><span class="o">-</span><span class="n">a</span><span class="err">&#39;</span><span class="w"> </span><span class="k">switch</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">see</span><span class="w"> </span><span class="n">it</span>
</code></pre></div>

<p>正如你在上面的输出中看到的，<code>apt show</code> 命令显示了软件包许多重要的细节，例如：</p>
<ol>
<li>包名称，</li>
<li>版本，</li>
<li>来源（vim 来自哪里），</li>
<li>维护者，</li>
<li>包的主页，</li>
<li>依赖，</li>
<li>下载大小，</li>
<li>简介，</li>
<li>其他。</li>
</ol>
<p>因此，Ubuntu 仓库中可用的 Vim 版本是 <strong>8.0.1453</strong>。如果我把它安装到我的 Ubuntu 系统上，就会得到这个版本。</p>
<p>或者，如果你不想看那么多的内容，那么可以使用 <code>apt policy</code> 这个命令：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>apt<span class="w"> </span>policy<span class="w"> </span>vim
vim:
<span class="w">  </span>Installed:<span class="w"> </span><span class="o">(</span>none<span class="o">)</span>
<span class="w">  </span>Candidate:<span class="w"> </span><span class="m">2</span>:8.0.1453-1ubuntu1.1
<span class="w">  </span>Version<span class="w"> </span>table:
<span class="w">     </span><span class="m">2</span>:8.0.1453-1ubuntu1.1<span class="w"> </span><span class="m">500</span>
<span class="w">        </span><span class="m">500</span><span class="w"> </span>http://archive.ubuntu.com/ubuntu<span class="w"> </span>bionic-updates/main<span class="w"> </span>amd64<span class="w"> </span>Packages
<span class="w">        </span><span class="m">500</span><span class="w"> </span>http://security.ubuntu.com/ubuntu<span class="w"> </span>bionic-security/main<span class="w"> </span>amd64<span class="w"> </span>Packages
<span class="w">     </span><span class="m">2</span>:8.0.1453-1ubuntu1<span class="w"> </span><span class="m">500</span>
<span class="w">        </span><span class="m">500</span><span class="w"> </span>http://archive.ubuntu.com/ubuntu<span class="w"> </span>bionic/main<span class="w"> </span>amd64<span class="w"> </span>Packages
</code></pre></div>

<p>甚至更短：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>apt<span class="w"> </span>list<span class="w"> </span>vim
Listing...<span class="w"> </span>Done
vim/bionic-updates,bionic-security<span class="w"> </span><span class="m">2</span>:8.0.1453-1ubuntu1.1<span class="w"> </span>amd64
N:<span class="w"> </span>There<span class="w"> </span>is<span class="w"> </span><span class="m">1</span><span class="w"> </span>additional<span class="w"> </span>version.<span class="w"> </span>Please<span class="w"> </span>use<span class="w"> </span>the<span class="w"> </span><span class="s1">&#39;-a&#39;</span><span class="w"> </span>switch<span class="w"> </span>to<span class="w"> </span>see<span class="w"> </span>it
</code></pre></div>

<p><code>apt</code> 是 Ubuntu 最新版本的默认包管理器。因此，这个命令足以找到一个软件包的详细信息，给定的软件包是否安装并不重要。这个命令将简单地列出给定包的版本以及其他详细信息。</p>
<h4>方法 2 – 使用 Apt-get</h4>
<p>要查看软件包的版本而不安装它，我们可以使用 <code>apt-get</code> 命令和 <code>-s</code> 选项。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>apt-get<span class="w"> </span>-s<span class="w"> </span>install<span class="w"> </span>vim
</code></pre></div>

<p><strong>示例输出：</strong></p>
<div class="highlight"><pre><span></span><code><span class="nl">NOTE</span><span class="p">:</span><span class="w"> </span><span class="n">This</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">only</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">simulation</span><span class="err">!</span>
<span class="w">      </span><span class="n">apt</span><span class="o">-</span><span class="k">get</span><span class="w"> </span><span class="n">needs</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="k">privileges</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nc">real</span><span class="w"> </span><span class="n">execution</span><span class="p">.</span>
<span class="w">      </span><span class="n">Keep</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">mind</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">locking</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">deactivated</span><span class="p">,</span>
<span class="w">      </span><span class="n">so</span><span class="w"> </span><span class="n">don</span><span class="err">&#39;</span><span class="n">t</span><span class="w"> </span><span class="n">depend</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">relevance</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">real</span><span class="w"> </span><span class="k">current</span><span class="w"> </span><span class="n">situation</span><span class="err">!</span>
<span class="n">Reading</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">lists</span><span class="p">...</span><span class="w"> </span><span class="n">Done</span>
<span class="n">Building</span><span class="w"> </span><span class="n">dependency</span><span class="w"> </span><span class="n">tree</span>
<span class="n">Reading</span><span class="w"> </span><span class="k">state</span><span class="w"> </span><span class="n">information</span><span class="p">...</span><span class="w"> </span><span class="n">Done</span>
<span class="n">Suggested</span><span class="w"> </span><span class="nl">packages</span><span class="p">:</span>
<span class="w">  </span><span class="n">ctags</span><span class="w"> </span><span class="n">vim</span><span class="o">-</span><span class="n">doc</span><span class="w"> </span><span class="n">vim</span><span class="o">-</span><span class="n">scripts</span>
<span class="n">The</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="k">NEW</span><span class="w"> </span><span class="n">packages</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="nl">installed</span><span class="p">:</span>
<span class="w">  </span><span class="n">vim</span>
<span class="mi">0</span><span class="w"> </span><span class="n">upgraded</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">newly</span><span class="w"> </span><span class="n">installed</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">remove</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="mi">45</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">upgraded</span><span class="p">.</span>
<span class="n">Inst</span><span class="w"> </span><span class="n">vim</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="err">:</span><span class="mf">8.0.1453</span><span class="o">-</span><span class="mi">1</span><span class="n">ubuntu1</span><span class="mf">.1</span><span class="w"> </span><span class="nl">Ubuntu</span><span class="p">:</span><span class="mf">18.04</span><span class="o">/</span><span class="n">bionic</span><span class="o">-</span><span class="n">updates</span><span class="p">,</span><span class="w"> </span><span class="nl">Ubuntu</span><span class="p">:</span><span class="mf">18.04</span><span class="o">/</span><span class="n">bionic</span><span class="o">-</span><span class="n">security</span><span class="w"> </span><span class="o">[</span><span class="n">amd64</span><span class="o">]</span><span class="p">)</span>
<span class="n">Conf</span><span class="w"> </span><span class="n">vim</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="err">:</span><span class="mf">8.0.1453</span><span class="o">-</span><span class="mi">1</span><span class="n">ubuntu1</span><span class="mf">.1</span><span class="w"> </span><span class="nl">Ubuntu</span><span class="p">:</span><span class="mf">18.04</span><span class="o">/</span><span class="n">bionic</span><span class="o">-</span><span class="n">updates</span><span class="p">,</span><span class="w"> </span><span class="nl">Ubuntu</span><span class="p">:</span><span class="mf">18.04</span><span class="o">/</span><span class="n">bionic</span><span class="o">-</span><span class="n">security</span><span class="w"> </span><span class="o">[</span><span class="n">amd64</span><span class="o">]</span><span class="p">)</span>
</code></pre></div>

<p>这里，<code>-s</code> 选项代表 <strong>模拟</strong>。正如你在输出中看到的，它不执行任何操作。相反，它只是模拟执行，好让你知道在安装 Vim 时会发生什么。</p>
<p>你可以将 <code>install</code> 选项替换为 <code>upgrade</code>，以查看升级包时会发生什么。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>apt-get<span class="w"> </span>-s<span class="w"> </span>upgrade<span class="w"> </span>vim
</code></pre></div>

<h4>方法 3 – 使用 Aptitude</h4>
<p>在 Debian 及其衍生品中，<code>aptitude</code> 是一个基于 ncurses（LCTT 译注：ncurses 是终端基于文本的字符处理的库）和命令行的前端 APT 包管理器。</p>
<p>使用 aptitude 来查看软件包的版本，只需运行：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>aptitude<span class="w"> </span>versions<span class="w"> </span>vim
p<span class="w">   </span><span class="m">2</span>:8.0.1453-1ubuntu1<span class="w">                                                              </span>bionic<span class="w">                                                        </span><span class="m">500</span>
p<span class="w">   </span><span class="m">2</span>:8.0.1453-1ubuntu1.1<span class="w">                                                            </span>bionic-security,bionic-updates<span class="w">                                </span><span class="m">500</span>
</code></pre></div>

<p>你还可以使用模拟选项（<code>-s</code>）来查看安装或升级包时会发生什么。</p>
<div class="highlight"><pre><span></span><code><span class="o">$</span><span class="w"> </span><span class="n">aptitude</span><span class="w"> </span><span class="o">-</span><span class="n">V</span><span class="w"> </span><span class="o">-</span><span class="n">s</span><span class="w"> </span><span class="n">install</span><span class="w"> </span><span class="n">vim</span>
<span class="n">The</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="n">NEW</span><span class="w"> </span><span class="n">packages</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">installed</span><span class="p">:</span>
<span class="w">  </span><span class="n">vim</span><span class="w"> </span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mf">8.0</span><span class="o">.</span><span class="mi">1453</span><span class="o">-</span><span class="mi">1</span><span class="n">ubuntu1</span><span class="o">.</span><span class="mi">1</span><span class="p">]</span>
<span class="mi">0</span><span class="w"> </span><span class="n">packages</span><span class="w"> </span><span class="n">upgraded</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">newly</span><span class="w"> </span><span class="n">installed</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">remove</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="mi">45</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">upgraded</span><span class="o">.</span>
<span class="n">Need</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">get</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="mi">152</span><span class="w"> </span><span class="n">kB</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">archives</span><span class="o">.</span><span class="w"> </span><span class="n">After</span><span class="w"> </span><span class="n">unpacking</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="mi">852</span><span class="w"> </span><span class="n">kB</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="o">.</span>
<span class="n">Would</span><span class="w"> </span><span class="n">download</span><span class="o">/</span><span class="n">install</span><span class="o">/</span><span class="n">remove</span><span class="w"> </span><span class="n">packages</span><span class="o">.</span>
</code></pre></div>

<p>这里，<code>-V</code> 标志用于显示软件包的详细信息。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>aptitude<span class="w"> </span>-V<span class="w"> </span>-s<span class="w"> </span>upgrade<span class="w"> </span>vim
</code></pre></div>

<p>类似的，只需将 <code>install</code> 替换为 <code>upgrade</code> 选项，即可查看升级包会发生什么。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>aptitude<span class="w"> </span>search<span class="w"> </span>vim<span class="w"> </span>-F<span class="w"> </span><span class="s2">&quot;%c %p %d %V&quot;</span>
</code></pre></div>

<p>这里，</p>
<ul>
<li><code>-F</code> 用于指定应使用哪种格式来显示输出，</li>
<li><code>%c</code> – 包的状态（已安装或未安装），</li>
<li><code>%p</code> – 包的名称，</li>
<li><code>%d</code> – 包的简介，</li>
<li><code>%V</code> – 包的版本。</li>
</ul>
<p>当你不知道完整的软件包名称时，这非常有用。这个命令将列出包含给定字符串（即 vim）的所有软件包。</p>
<p>以下是上述命令的示例输出：</p>
<div class="highlight"><pre><span></span><code><span class="k">[...]</span>
<span class="na">p vim                                                           Vi IMproved - enhanced vi editor                                         2</span><span class="o">:</span><span class="s">8.0.1453-1ub</span>
<span class="na">p vim-tlib                                                      Some vim utility functions                                               1.23-1</span>
<span class="na">p vim-ultisnips                                                 snippet solution for Vim                                                 3.1-3</span>
<span class="na">p vim-vimerl                                                    Erlang plugin for Vim                                                    1.4.1+git20120</span>
<span class="na">p vim-vimerl-syntax                                             Erlang syntax for Vim                                                    1.4.1+git20120</span>
<span class="na">p vim-vimoutliner                                               script for building an outline editor on top of Vim                      0.3.4+pristine</span>
<span class="na">p vim-voom                                                      Vim two-pane outliner                                                    5.2-1</span>
<span class="na">p vim-youcompleteme                                             fast, as-you-type, fuzzy-search code completion engine for Vim           0+20161219+git</span>
</code></pre></div>

<h4>方法 4 – 使用 Apt-cache</h4>
<p><code>apt-cache</code> 命令用于查询基于 Debian 的系统中的 APT 缓存。对于要在 APT 的包缓存上执行很多操作时，它很有用。一个很好的例子是我们可以从<a href="https://www.ostechnix.com/list-installed-packages-certain-repository-linux/">某个仓库或 ppa 中列出已安装的应用程序</a>。</p>
<p>不仅是已安装的应用程序，我们还可以找到软件包的版本，即使它没有被安装。例如，以下命令将找到 Vim 的版本：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>apt-cache<span class="w"> </span>policy<span class="w"> </span>vim
</code></pre></div>

<p>示例输出：</p>
<div class="highlight"><pre><span></span><code><span class="n">vim</span><span class="o">:</span>
<span class="w">  </span><span class="n">Installed</span><span class="o">:</span><span class="w"> </span><span class="o">(</span><span class="n">none</span><span class="o">)</span>
<span class="w">  </span><span class="n">Candidate</span><span class="o">:</span><span class="w"> </span><span class="mi">2</span><span class="o">:</span><span class="mf">8.0</span><span class="o">.</span><span class="mi">1453</span><span class="o">-</span><span class="mi">1</span><span class="n">ubuntu1</span><span class="o">.</span><span class="mi">1</span>
<span class="w">  </span><span class="n">Version</span><span class="w"> </span><span class="n">table</span><span class="o">:</span>
<span class="w">     </span><span class="mi">2</span><span class="o">:</span><span class="mf">8.0</span><span class="o">.</span><span class="mi">1453</span><span class="o">-</span><span class="mi">1</span><span class="n">ubuntu1</span><span class="o">.</span><span class="mi">1</span><span class="w"> </span><span class="mi">500</span>
<span class="w">        </span><span class="mi">500</span><span class="w"> </span><span class="n">http</span><span class="o">://</span><span class="n">archive</span><span class="o">.</span><span class="na">ubuntu</span><span class="o">.</span><span class="na">com</span><span class="sr">/ubuntu bionic-updates/</span><span class="n">main</span><span class="w"> </span><span class="n">amd64</span><span class="w"> </span><span class="n">Packages</span>
<span class="w">        </span><span class="mi">500</span><span class="w"> </span><span class="n">http</span><span class="o">://</span><span class="n">security</span><span class="o">.</span><span class="na">ubuntu</span><span class="o">.</span><span class="na">com</span><span class="sr">/ubuntu bionic-security/</span><span class="n">main</span><span class="w"> </span><span class="n">amd64</span><span class="w"> </span><span class="n">Packages</span>
<span class="w">     </span><span class="mi">2</span><span class="o">:</span><span class="mf">8.0</span><span class="o">.</span><span class="mi">1453</span><span class="o">-</span><span class="mi">1</span><span class="n">ubuntu1</span><span class="w"> </span><span class="mi">500</span>
<span class="w">        </span><span class="mi">500</span><span class="w"> </span><span class="n">http</span><span class="o">://</span><span class="n">archive</span><span class="o">.</span><span class="na">ubuntu</span><span class="o">.</span><span class="na">com</span><span class="sr">/ubuntu bionic/</span><span class="n">main</span><span class="w"> </span><span class="n">amd64</span><span class="w"> </span><span class="n">Packages</span>
</code></pre></div>

<p>正如你在上面的输出中所看到的，Vim 并没有安装。如果你想安装它，你会知道它的版本是 <strong>8.0.1453</strong>。它还显示 vim 包来自哪个仓库。</p>
<h4>方法 5 – 使用 Apt-show-versions</h4>
<p>在 Debian 和基于 Debian 的系统中，<code>apt-show-versions</code> 命令用于列出已安装和可用软件包的版本。它还显示所有可升级软件包的列表。如果你有一个混合的稳定或测试环境，这是非常方便的。例如，如果你同时启用了稳定和测试仓库，那么你可以轻松地从测试库找到应用程序列表，还可以升级测试库中的所有软件包。</p>
<p>默认情况下系统没有安装 <code>apt-show-versions</code>，你需要使用以下命令来安装它：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>apt-show-versions
</code></pre></div>

<p>安装后，运行以下命令查找软件包的版本，例如 Vim：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>apt-show-versions<span class="w"> </span>-a<span class="w"> </span>vim
vim:amd64<span class="w"> </span><span class="m">2</span>:8.0.1453-1ubuntu1<span class="w">   </span>bionic<span class="w">          </span>archive.ubuntu.com
vim:amd64<span class="w"> </span><span class="m">2</span>:8.0.1453-1ubuntu1.1<span class="w"> </span>bionic-security<span class="w"> </span>security.ubuntu.com
vim:amd64<span class="w"> </span><span class="m">2</span>:8.0.1453-1ubuntu1.1<span class="w"> </span>bionic-updates<span class="w">  </span>archive.ubuntu.com
vim:amd64<span class="w"> </span>not<span class="w"> </span>installed
</code></pre></div>

<p>这里，<code>-a</code> 选项打印给定软件包的所有可用版本。</p>
<p>如果已经安装了给定的软件包，那么就不需要使用 <code>-a</code> 选项。在这种情况下，只需运行：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>apt-show-versions<span class="w"> </span>vim
</code></pre></div>

<p>差不多完了。如果你还了解其他方法，在下面的评论中分享，我将检查并更新本指南。</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>