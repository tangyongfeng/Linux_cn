<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>在终端里按你的方式显示日期和时间</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Author: Sandra Henry-stocker Linux 的 date 命令提供了很多显示日期和时间的选项，要比你想的还要多。这是一些有用的选择。 在 Linux 系统上，date 命令非常 …" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">linux_cn</a></h1>
                <nav><ul>
                    <li><a href="/category/chuan-shan-jia-zhuan-fang">穿山甲专访</a></li>
                    <li><a href="/category/dai-ma-ying-xiong">代码英雄</a></li>
                    <li><a href="/category/fen-xiang">分享</a></li>
                    <li><a href="/category/guan-dian">观点</a></li>
                    <li><a href="/category/huo-dong">活动</a></li>
                    <li><a href="/category/ji-ke-man-hua">极客漫画</a></li>
                    <li class="active"><a href="/category/ji-zhu">技术</a></li>
                    <li><a href="/category/kai-yuan-zhi-hui">开源智慧</a></li>
                    <li><a href="/category/linux-fa-xing-ban">Linux 发行版</a></li>
                    <li><a href="/category/mei-ri-an-quan-zi-xun">每日安全资讯</a></li>
                    <li><a href="/category/misc">Misc</a></li>
                    <li><a href="/category/qu-kuai-lian">区块链</a></li>
                    <li><a href="/category/rong-qi-yu-yun">容器与云</a></li>
                    <li><a href="/category/ruan-jian-kai-fa">软件开发</a></li>
                    <li><a href="/category/shu-mei-pai">树莓派</a></li>
                    <li><a href="/category/xi-tong-yun-wei">系统运维</a></li>
                    <li><a href="/category/xin-wen">新闻</a></li>
                    <li><a href="/category/ying-he-guan-cha">硬核观察</a></li>
                    <li><a href="/category/zhi-ye-sheng-ya">职业生涯</a></li>
                    <li><a href="/category/zhong-jiang-ming-dan">中奖名单</a></li>
                    <li><a href="/category/zhuo-mian-ying-yong">桌面应用</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2019/11/zai-zhong-duan-li-an-ni-de-fang-shi-xian-shi-ri-qi-he-shi-jian.html" rel="bookmark"
           title="Permalink to 在终端里按你的方式显示日期和时间">在终端里按你的方式显示日期和时间</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2019-11-29T14:39:00+01:00">
                Published: Fri 29 November 2019
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/linux-fans-from-china.html">linux fans from china</a>
        </address>
<p>In <a href="/category/ji-zhu">技术</a>.</p>

</footer><!-- /.post-info -->      <p>Author: Sandra Henry-stocker</p>
<blockquote>
<p>Linux 的 date 命令提供了很多显示日期和时间的选项，要比你想的还要多。这是一些有用的选择。</p>
</blockquote>
<p><img alt="" src="/data/attachment/album/201911/29/144555a8mq82mcc9cfttt9.jpg"></p>
<p>在 Linux 系统上，<code>date</code> 命令非常简单。你键入 <code>date</code>，日期和时间将以一种有用的方式显示。它包括星期几、日期、时间和时区：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>date
Tue<span class="w"> </span><span class="m">26</span><span class="w"> </span>Nov<span class="w"> </span><span class="m">2019</span><span class="w"> </span><span class="m">11</span>:45:11<span class="w"> </span>AM<span class="w"> </span>EST
</code></pre></div>

<p>只要你的系统配置正确，你就会看到日期和当前时间以及时区。</p>
<p>但是，该命令还提供了许多选项来以不同方式显示日期和时间信息。例如，如果要显示日期以便进行排序，则可能需要使用如下命令：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>date<span class="w"> </span><span class="s2">&quot;+%Y-%m-%d&quot;</span>
<span class="m">2019</span>-11-26
</code></pre></div>

<p>在这种情况下，年、月和日按该顺序排列。请注意，我们使用大写字母 <code>Y</code> 来获得四位数的年份。如果我们使用小写的 <code>y</code>，则只会看到两位数字的年份（例如 19）。不要让这种做法使你错误地联想到如果 <code>％m</code> 给你一个数字月份，<code>％M</code> 可能会给你月份的名称。不，<code>％M</code> 将给你分钟数。要以缩写名称格式获得月份，你要使用 <code>％b</code>，而对于完全拼写的月份，则要使用 <code>％B</code>。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>date<span class="w"> </span><span class="s2">&quot;+%b %B&quot;</span>
Nov<span class="w"> </span>November
</code></pre></div>

<p>或者，你可能希望以这种常用格式显示日期：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>date<span class="w"> </span><span class="s2">&quot;+%D&quot;</span>
<span class="m">11</span>/26/19
</code></pre></div>

<p>如果你需要四位数的年份，则可以执行以下操作：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>date<span class="w"> </span><span class="s2">&quot;+%x&quot;</span>
<span class="m">11</span>/26/2019
</code></pre></div>

<p>下面是一个可能有用的示例。假设你需要创建一个每日报告并在文件名中包含日期，则可以使用以下命令来创建文件（可能用在脚本中）：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>touch<span class="w"> </span>Report-<span class="sb">`</span>date<span class="w"> </span><span class="s2">&quot;+%Y-%m-%d&quot;</span><span class="sb">`</span>
</code></pre></div>

<p>当你列出你的报告时，它们将按日期顺序或反向日期顺序（如果你添加 <code>-r</code>）列出。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>ls<span class="w"> </span>-r<span class="w"> </span>Report*
Report-2019-11-26
Report-2019-11-25
Report-2019-11-22
Report-2019-11-21
Report-2019-11-20
</code></pre></div>

<p>你还可以在日期字符串中添加其他详细信息。可用的各种选项多得令人惊讶。你可以使用 <code>date "+%q"</code> 来显示你所在的一年中的哪个季度，或使用类似以下命令来显示两个月前的日期：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>date<span class="w"> </span>--date<span class="o">=</span><span class="s2">&quot;2 months ago&quot;</span>
Thu<span class="w"> </span><span class="m">26</span><span class="w"> </span>Sep<span class="w"> </span><span class="m">2019</span><span class="w"> </span><span class="m">09</span>:02:43<span class="w"> </span>AM<span class="w"> </span>EDT
</code></pre></div>

<p>是否想知道下周四的日期？你可以使用类似 <code>date --date="next thu"</code> 的命令，但是要理解，对于Linux，下个周四意味着今天之后的周四。如果今天是星期三，那就是明天，而不是下周的星期四。但是，你可以像下面的第二个命令一样指定下周的星期四。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>date<span class="w"> </span>--date<span class="o">=</span><span class="s2">&quot;next thu&quot;</span>
Thu<span class="w"> </span><span class="m">28</span><span class="w"> </span>Nov<span class="w"> </span><span class="m">2019</span><span class="w"> </span><span class="m">12</span>:00:00<span class="w"> </span>AM<span class="w"> </span>EST
$<span class="w"> </span>date<span class="w"> </span>--date<span class="o">=</span><span class="s2">&quot;next week thu&quot;</span>
Thu<span class="w"> </span><span class="m">05</span><span class="w"> </span>Dec<span class="w"> </span><span class="m">2019</span><span class="w"> </span><span class="m">12</span>:00:00<span class="w"> </span>AM<span class="w"> </span>EST
</code></pre></div>

<p><code>date</code> 命令的手册页列出了其所有选项。该列表多得令人难以置信，但是你可能会发现一些日期/时间显示选项非常适合你。以下是一些你可能会发现有趣的东西。</p>
<p>世界标准时间（UTC）：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>date<span class="w"> </span>-u
Tue<span class="w"> </span><span class="m">26</span><span class="w"> </span>Nov<span class="w"> </span><span class="m">2019</span><span class="w"> </span><span class="m">01</span>:13:59<span class="w"> </span>PM<span class="w"> </span>UTC
</code></pre></div>

<p>自 1970 年 1 月 1 日以来的秒数（与 Linux 系统上日期的存储方式有关）：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>date<span class="w"> </span>+%s
<span class="m">1574774137</span>
</code></pre></div>

<p>以下是 <code>date</code> 命令选项的完整列表。正如我所说，它比我们大多数人想象的要广泛得多。</p>
<ul>
<li><code>%%</code> 显示字母 ％</li>
<li><code>％a</code> 本地语言环境的缩写星期名称（例如，日 / Sun）</li>
<li><code>％A</code> 本地语言环境的完整星期名称（例如，星期日 / Sunday）</li>
<li><code>％b</code> 本地语言环境的缩写月份名称（例如 一 / Jan）</li>
<li><code>％B</code> 本地语言环境的完整月份名称（例如，一月 / January）</li>
<li><code>％c</code> 本地语言环境的日期和时间（例如 2005年3月3日 星期四 23:05:25 / Thu Mar 3 23:05:25 2005）</li>
<li><code>％C</code> 世纪；类似于 <code>％Y</code>，但省略了后两位数字（例如，20）</li>
<li><code>%d</code> 月份的天（例如，01）</li>
<li><code>％D</code> 日期；与 <code>％m/％d/％y</code> 相同</li>
<li><code>％e</code> 月份的天，填充前缀空格；与 <code>％_d</code> 相同</li>
<li><code>％F</code> 完整日期；与 <code>％Y-％m-％d</code> 相同</li>
<li><code>％g</code> ISO 周号的年份的后两位数字（请参见 <code>％G</code>）</li>
<li><code>%G</code> ISO 周号的年份（请参阅 <code>％V</code>）；通常仅配合 <code>％V</code> 使用</li>
<li><code>％h</code> 与 <code>％b</code> 相同</li>
<li><code>％H</code> 24 小时制的小时（00..23）</li>
<li><code>％I</code> 12 小时制的小时（01..12）</li>
<li><code>%j</code> 一年的天（001..366）</li>
<li><code>％k</code> 24 小时制的小时，填充前缀空格（ 0..23）；与 <code>％_H</code> 相同</li>
<li><code>％l</code> 12 小时制的小时，填充前缀空格（ 1..12）；与 <code>％_I</code> 相同</li>
<li><code>％m</code> 月份（01..12）</li>
<li><code>％M</code> 分钟（00..59）</li>
<li><code>％n</code> 换行符</li>
<li><code>％N</code> 纳秒（000000000..999999999）</li>
<li><code>%p</code> 本地语言环境中等同于 AM 或 PM 的字符串；如果未知，则为空白</li>
<li><code>％P</code> 像 <code>％p</code>，但使用小写</li>
<li><code>％q</code> 季度（1..4）</li>
<li><code>％r</code> 本地语言环境的 12 小时制时间（例如，晚上 11:11:04 / 11:11:04 PM）</li>
<li><code>％R</code> 24 小时制的小时和分钟；与 <code>％H:％M</code> 相同</li>
<li><code>%s</code> 自 1970-01-01 00:00:00 UTC 以来的秒数</li>
<li><code>％S</code> 秒（00..60）</li>
<li><code>％t</code> 制表符</li>
<li><code>％T</code> 时间；与 <code>％H:％M:％S</code> 相同</li>
<li><code>％u</code> 星期（1..7）；1 是星期一</li>
<li><code>％U</code> 年的周号，以星期日为一周的第一天，从 00 开始（00..53）</li>
<li><code>％V</code> ISO 周号，以星期一为一周的第一天，从 01 开始（01..53）</li>
<li><code>％w</code> 星期（0..6）；0 是星期日</li>
<li><code>％W</code> 年的周号，星期一为一周的第一天，从 00 开始（00..53）</li>
<li><code>％x</code> 本地语言环境的日期表示形式（例如，1999年12月31日 / 12/31/99）</li>
<li><code>％X</code> 本地语言环境的时间表示形式（例如，23:13:48）</li>
<li><code>％y</code> 年的最后两位数字（00..99）</li>
<li><code>％Y</code> 年份</li>
<li><code>％z</code> +hhmm 格式的数字时区（例如，-0400）</li>
<li><code>％:z</code> +hh:mm 格式的数字时区（例如，-04:00）</li>
<li><code>％::z</code> +hh:mm:ss 格式的数字时区（例如，-04:00:00）</li>
<li><code>％:::z</code> 数字时区，<code>:</code> 指明精度（例如，-04, +05:30）</li>
<li><code>％Z</code> 字母时区缩写（例如，EDT）</li>
</ul>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>