<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>5 种在 Ubuntu 上释放空间的简单方法</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Author: Magesh Maruthamuthu 大多数人可能在系统磁盘存储不足的情况下执行释放空间这个操作，也可能在 Linux 系统磁盘存储满了的情况下执 …" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">linux_cn</a></h1>
                <nav><ul>
                    <li><a href="/category/chuan-shan-jia-zhuan-fang">穿山甲专访</a></li>
                    <li><a href="/category/dai-ma-ying-xiong">代码英雄</a></li>
                    <li><a href="/category/fen-xiang">分享</a></li>
                    <li><a href="/category/guan-dian">观点</a></li>
                    <li><a href="/category/huo-dong">活动</a></li>
                    <li><a href="/category/ji-ke-man-hua">极客漫画</a></li>
                    <li class="active"><a href="/category/ji-zhu">技术</a></li>
                    <li><a href="/category/kai-yuan-zhi-hui">开源智慧</a></li>
                    <li><a href="/category/linux-fa-xing-ban">Linux 发行版</a></li>
                    <li><a href="/category/mei-ri-an-quan-zi-xun">每日安全资讯</a></li>
                    <li><a href="/category/misc">Misc</a></li>
                    <li><a href="/category/qu-kuai-lian">区块链</a></li>
                    <li><a href="/category/rong-qi-yu-yun">容器与云</a></li>
                    <li><a href="/category/ruan-jian-kai-fa">软件开发</a></li>
                    <li><a href="/category/shu-mei-pai">树莓派</a></li>
                    <li><a href="/category/xi-tong-yun-wei">系统运维</a></li>
                    <li><a href="/category/xin-wen">新闻</a></li>
                    <li><a href="/category/ying-he-guan-cha">硬核观察</a></li>
                    <li><a href="/category/zhi-ye-sheng-ya">职业生涯</a></li>
                    <li><a href="/category/zhong-jiang-ming-dan">中奖名单</a></li>
                    <li><a href="/category/zhuo-mian-ying-yong">桌面应用</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2019/07/5-chong-zai-ubuntu-shang-shi-fang-kong-jian-de-jian-dan-fang-fa.html" rel="bookmark"
           title="Permalink to 5 种在 Ubuntu 上释放空间的简单方法">5 种在 Ubuntu 上释放空间的简单方法</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2019-07-03T16:58:00+02:00">
                Published: Wed 03 July 2019
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/linux-fans-from-china.html">linux fans from china</a>
        </address>
<p>In <a href="/category/ji-zhu">技术</a>.</p>

</footer><!-- /.post-info -->      <p>Author: Magesh Maruthamuthu</p>
<p><img alt="" src="/data/attachment/album/201907/03/165641h0xy91x9109wz19w.jpg"></p>
<p>大多数人可能在系统磁盘存储不足的情况下执行释放空间这个操作，也可能在 Linux 系统磁盘存储满了的情况下执行这个操作。</p>
<p>它应该被经常执行，来为安装一个新的应用程序和处理其它文件弥补磁盘存储空间。保持可用空间是 Linux 管理员的一个日常任务，以允许磁盘利用率维持在阈值之下。</p>
<p>这里有一些我们可以清理我们系统空间的方法。</p>
<p>当你有 TB 级存储容量时，可能不需要清理你的系统。但是，如果你空间有限，那么释放磁盘空间就变的不可避免。</p>
<p>在这篇文章中，我将向你展示一些最容易的或简单的方法来清理你的 Ubuntu 系统，获得更多空间。</p>
<h3>在 Ubuntu 系统上如何检查可用的空间？</h3>
<p>在你的系统上使用 <a href="https://www.2daygeek.com/how-to-check-disk-space-usage-using-df-command/">df 命令</a> 来检查当前磁盘利用率。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>df<span class="w"> </span>-h
Filesystem<span class="w">      </span>Size<span class="w">  </span>Used<span class="w"> </span>Avail<span class="w"> </span>Use%<span class="w"> </span>Mounted<span class="w"> </span>on
udev<span class="w">            </span>975M<span class="w">     </span><span class="m">0</span><span class="w">  </span>975M<span class="w">   </span><span class="m">0</span>%<span class="w"> </span>/dev
tmpfs<span class="w">           </span>200M<span class="w">  </span><span class="m">1</span>.7M<span class="w">  </span>198M<span class="w">   </span><span class="m">1</span>%<span class="w"> </span>/run
/dev/sda1<span class="w">        </span>30G<span class="w">   </span>16G<span class="w">   </span>13G<span class="w">  </span><span class="m">55</span>%<span class="w"> </span>/
tmpfs<span class="w">           </span>997M<span class="w">     </span><span class="m">0</span><span class="w">  </span>997M<span class="w">   </span><span class="m">0</span>%<span class="w"> </span>/dev/shm
tmpfs<span class="w">           </span><span class="m">5</span>.0M<span class="w">  </span><span class="m">4</span>.0K<span class="w">  </span><span class="m">5</span>.0M<span class="w">   </span><span class="m">1</span>%<span class="w"> </span>/run/lock
tmpfs<span class="w">           </span>997M<span class="w">     </span><span class="m">0</span><span class="w">  </span>997M<span class="w">   </span><span class="m">0</span>%<span class="w"> </span>/sys/fs/cgroup
</code></pre></div>

<p>图形界面用户可以使用“磁盘利用率分析器工具”来查看当前利用率。</p>
<p><img alt="" src="/data/attachment/album/201907/03/165839ze2w4dww5webx322.jpg"></p>
<h4>1) 移除不再需要的软件包</h4>
<p>下面的命令移除系统不再需要的依赖库和软件包。这些软件包是自动安装的，以使一个安装的软件包满足依赖关系。同样，它也会移除安装在系统中的 Linux 旧内核。它会移除不再被系统需要的孤儿软件包，但是不会清除它们。</p>
<div class="highlight"><pre><span></span><code><span class="err">$</span><span class="w"> </span><span class="n">sudo</span><span class="w"> </span><span class="n">apt</span><span class="o">-</span><span class="k">get</span><span class="w"> </span><span class="n">autoremove</span>
<span class="o">[</span><span class="n">sudo</span><span class="o">]</span><span class="w"> </span><span class="n">password</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nl">daygeek</span><span class="p">:</span>
<span class="n">Reading</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">lists</span><span class="p">...</span><span class="w"> </span><span class="n">Done</span>
<span class="n">Building</span><span class="w"> </span><span class="n">dependency</span><span class="w"> </span><span class="n">tree</span>
<span class="n">Reading</span><span class="w"> </span><span class="k">state</span><span class="w"> </span><span class="n">information</span><span class="p">...</span><span class="w"> </span><span class="n">Done</span>
<span class="n">The</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="n">packages</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="nl">REMOVED</span><span class="p">:</span>
<span class="w">  </span><span class="n">apache2</span><span class="o">-</span><span class="n">bin</span><span class="w"> </span><span class="n">apache2</span><span class="o">-</span><span class="k">data</span><span class="w"> </span><span class="n">apache2</span><span class="o">-</span><span class="n">utils</span><span class="w"> </span><span class="n">galera</span><span class="o">-</span><span class="mi">3</span><span class="w"> </span><span class="n">libaio1</span><span class="w"> </span><span class="n">libapr1</span><span class="w"> </span><span class="n">libaprutil1</span>
<span class="w">  </span><span class="n">libaprutil1</span><span class="o">-</span><span class="n">dbd</span><span class="o">-</span><span class="n">sqlite3</span><span class="w"> </span><span class="n">libaprutil1</span><span class="o">-</span><span class="n">ldap</span><span class="w"> </span><span class="n">libconfig</span><span class="o">-</span><span class="n">inifiles</span><span class="o">-</span><span class="n">perl</span><span class="w"> </span><span class="n">libdbd</span><span class="o">-</span><span class="n">mysql</span><span class="o">-</span><span class="n">perl</span>
<span class="w">  </span><span class="n">libdbi</span><span class="o">-</span><span class="n">perl</span><span class="w"> </span><span class="n">libjemalloc1</span><span class="w"> </span><span class="n">liblua5</span><span class="mf">.2</span><span class="o">-</span><span class="mi">0</span><span class="w"> </span><span class="n">libmysqlclient20</span><span class="w"> </span><span class="n">libopts25</span>
<span class="w">  </span><span class="n">libterm</span><span class="o">-</span><span class="n">readkey</span><span class="o">-</span><span class="n">perl</span><span class="w"> </span><span class="n">mariadb</span><span class="o">-</span><span class="n">client</span><span class="o">-</span><span class="mf">10.1</span><span class="w"> </span><span class="n">mariadb</span><span class="o">-</span><span class="n">client</span><span class="o">-</span><span class="n">core</span><span class="o">-</span><span class="mf">10.1</span><span class="w"> </span><span class="n">mariadb</span><span class="o">-</span><span class="n">common</span>
<span class="w">  </span><span class="n">mariadb</span><span class="o">-</span><span class="n">server</span><span class="o">-</span><span class="mf">10.1</span><span class="w"> </span><span class="n">mariadb</span><span class="o">-</span><span class="n">server</span><span class="o">-</span><span class="n">core</span><span class="o">-</span><span class="mf">10.1</span><span class="w"> </span><span class="n">mysql</span><span class="o">-</span><span class="n">common</span><span class="w"> </span><span class="n">sntp</span><span class="w"> </span><span class="n">socat</span>
<span class="mi">0</span><span class="w"> </span><span class="n">upgraded</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">newly</span><span class="w"> </span><span class="n">installed</span><span class="p">,</span><span class="w"> </span><span class="mi">25</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">remove</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="mi">23</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">upgraded</span><span class="p">.</span>
<span class="k">After</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="k">operation</span><span class="p">,</span><span class="w"> </span><span class="mi">189</span><span class="w"> </span><span class="n">MB</span><span class="w"> </span><span class="k">disk</span><span class="w"> </span><span class="nf">space</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">freed</span><span class="p">.</span>
<span class="n">Do</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">want</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="k">continue</span><span class="vm">?</span><span class="w"> </span><span class="o">[</span><span class="n">Y/n</span><span class="o">]</span>
</code></pre></div>

<p>为清除它们，可以与命令一起使用 <code>--purge</code> 选项。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>sudo<span class="w"> </span>apt-get<span class="w"> </span>autoremove<span class="w"> </span>--purge
Reading<span class="w"> </span>package<span class="w"> </span>lists...<span class="w"> </span>Done
Building<span class="w"> </span>dependency<span class="w"> </span>tree
Reading<span class="w"> </span>state<span class="w"> </span>information...<span class="w"> </span>Done
The<span class="w"> </span>following<span class="w"> </span>packages<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>REMOVED:
<span class="w">  </span>apache2-bin*<span class="w"> </span>apache2-data*<span class="w"> </span>apache2-utils*<span class="w"> </span>galera-3*<span class="w"> </span>libaio1*<span class="w"> </span>libapr1*<span class="w"> </span>libaprutil1*
<span class="w">  </span>libaprutil1-dbd-sqlite3*<span class="w"> </span>libaprutil1-ldap*<span class="w"> </span>libconfig-inifiles-perl*
<span class="w">  </span>libdbd-mysql-perl*<span class="w"> </span>libdbi-perl*<span class="w"> </span>libjemalloc1*<span class="w"> </span>liblua5.2-0*<span class="w"> </span>libmysqlclient20*
<span class="w">  </span>libopts25*<span class="w"> </span>libterm-readkey-perl*<span class="w"> </span>mariadb-client-10.1*<span class="w"> </span>mariadb-client-core-10.1*
<span class="w">  </span>mariadb-common*<span class="w"> </span>mariadb-server-10.1*<span class="w"> </span>mariadb-server-core-10.1*<span class="w"> </span>mysql-common*<span class="w"> </span>sntp*
<span class="w">  </span>socat*
<span class="m">0</span><span class="w"> </span>upgraded,<span class="w"> </span><span class="m">0</span><span class="w"> </span>newly<span class="w"> </span>installed,<span class="w"> </span><span class="m">25</span><span class="w"> </span>to<span class="w"> </span>remove<span class="w"> </span>and<span class="w"> </span><span class="m">23</span><span class="w"> </span>not<span class="w"> </span>upgraded.
After<span class="w"> </span>this<span class="w"> </span>operation,<span class="w"> </span><span class="m">189</span><span class="w"> </span>MB<span class="w"> </span>disk<span class="w"> </span>space<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>freed.
Do<span class="w"> </span>you<span class="w"> </span>want<span class="w"> </span>to<span class="w"> </span><span class="k">continue</span>?<span class="w"> </span><span class="o">[</span>Y/n<span class="o">]</span>
</code></pre></div>

<h4>2) 清空回收站</h4>
<p>有可能你的回收站里面有大量的无用数据。它会占用你的系统空间。最好解决方法之一是在你的系统上清理这些无用的数据，以获取一些可用的空间。</p>
<p>为清理这些，简单地使用文件管理器来清空你的回收站。</p>
<p><img alt="" src="/data/attachment/album/201907/03/165840f5pzorzodkysr5l5.jpg"></p>
<h4>3) 清理 APT 缓存文件</h4>
<p>Ubuntu 使用 <a href="https://www.2daygeek.com/apt-command-examples-manage-packages-debian-ubuntu-systems/">APT 命令</a>（高级软件包工具）用于软件包管理，如：安装、移除、搜索等等。</p>
<p>一般 Linux 操作系统会在各自的目录下保留下载和安装的软件包的缓冲文件。</p>
<p>Ubuntu 也一样，它在你的磁盘上以缓冲的形式保留它下载和安装的每次更新。Ubuntu 在 <code>/var/cache/apt/archives</code> 目录中保留 DEB 软件包的缓冲文件。随着时间推移，这些缓存可能快速增长，并在你的系统上占有很多空间。</p>
<p>运行下面的命令来检查当前 APT 缓存文件的使用率。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>sudo<span class="w"> </span>du<span class="w"> </span>-sh<span class="w"> </span>/var/cache/apt
147M<span class="w">    </span>/var/cache/apt
</code></pre></div>

<p>下面的命令会清理过时的 deb 软件包。我想说，一点都清理不干净。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>sudo<span class="w"> </span>apt-get<span class="w"> </span>autoclean
</code></pre></div>

<p>下面的命令会移除所有在 apt 缓存中的软件包。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>sudo<span class="w"> </span>apt-get<span class="w"> </span>clean
</code></pre></div>

<h4>4) 卸载不使用的应用程序</h4>
<p>这需要你来检查在你的系统上安装的软件包和游戏，删除它们，如果你很少使用的话。</p>
<p>这可以通过 “Ubuntu 软件中心” 简单地做到。</p>
<p><img alt="" src="/data/attachment/album/201907/03/165841tt6tx399okq688qi.jpg"></p>
<h4>5) 清理缩略图缓存</h4>
<p>缓存文件夹是程序存储它们可能再次需要的数据的地方，它是为速度保留的，而不是必需保留的。它可以被再次生成或再次下载。假如它真的填满了你的硬盘，那么你可以删除一些东西而不用担心。</p>
<p>运行下面的命令来检查当前 APT 缓存的利用率。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>du<span class="w"> </span>-sh<span class="w"> </span>~/.cache/thumbnails/
412K<span class="w">    </span>/home/daygeek/.cache/thumbnails/
</code></pre></div>

<p>运行下面的命令来从你的系统中永久地删除它们。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>rm<span class="w"> </span>-rf<span class="w"> </span>~/.cache/thumbnails/*
</code></pre></div>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>