<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>4 种在 Linux 中检查默认网关或者路由器 IP 地址的方法</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Author: Magesh Maruthamuthu 你应该意识到你的默认网关是你的路由器的 IP 地址。一般这是在安装过程中由操作系统自动检测的，如果没有，你 …" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">linux_cn</a></h1>
                <nav><ul>
                    <li><a href="/category/chuan-shan-jia-zhuan-fang">穿山甲专访</a></li>
                    <li><a href="/category/dai-ma-ying-xiong">代码英雄</a></li>
                    <li><a href="/category/fen-xiang">分享</a></li>
                    <li><a href="/category/guan-dian">观点</a></li>
                    <li><a href="/category/huo-dong">活动</a></li>
                    <li><a href="/category/ji-ke-man-hua">极客漫画</a></li>
                    <li class="active"><a href="/category/ji-zhu">技术</a></li>
                    <li><a href="/category/kai-yuan-zhi-hui">开源智慧</a></li>
                    <li><a href="/category/linux-fa-xing-ban">Linux 发行版</a></li>
                    <li><a href="/category/mei-ri-an-quan-zi-xun">每日安全资讯</a></li>
                    <li><a href="/category/misc">Misc</a></li>
                    <li><a href="/category/qu-kuai-lian">区块链</a></li>
                    <li><a href="/category/rong-qi-yu-yun">容器与云</a></li>
                    <li><a href="/category/ruan-jian-kai-fa">软件开发</a></li>
                    <li><a href="/category/shu-mei-pai">树莓派</a></li>
                    <li><a href="/category/xi-tong-yun-wei">系统运维</a></li>
                    <li><a href="/category/xin-wen">新闻</a></li>
                    <li><a href="/category/ying-he-guan-cha">硬核观察</a></li>
                    <li><a href="/category/zhi-ye-sheng-ya">职业生涯</a></li>
                    <li><a href="/category/zhong-jiang-ming-dan">中奖名单</a></li>
                    <li><a href="/category/zhuo-mian-ying-yong">桌面应用</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2019/05/4-chong-zai-linux-zhong-jian-cha-mo-ren-wang-guan-huo-zhe-lu-you-qi-ip-di-zhi-de-fang-fa.html" rel="bookmark"
           title="Permalink to 4 种在 Linux 中检查默认网关或者路由器 IP 地址的方法">4 种在 Linux 中检查默认网关或者路由器 IP 地址的方法</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2019-05-01T00:43:16+02:00">
                Published: Wed 01 May 2019
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/linux-fans-from-china.html">linux fans from china</a>
        </address>
<p>In <a href="/category/ji-zhu">技术</a>.</p>

</footer><!-- /.post-info -->      <p>Author: Magesh Maruthamuthu</p>
<p><img alt="" src="/data/attachment/album/201905/01/004309i1tm5fq5ybqzsyas.jpg"></p>
<p>你应该意识到你的默认网关是你的路由器的 IP 地址。一般这是在安装过程中由操作系统自动检测的，如果没有，你可能需要改变它。如果你的系统不能 ping 自身，那么很可能是一个网关问题，你必须修复它。在网络中，当你有多个网络适配器或路由器时，这种情况可能会发生。</p>
<p>网关是一个扮演着入口点角色的路由器，可以从一个网络传递网络数据到另一个网络。</p>
<p>下面是一些可能帮助你收集到与该话题相似的一些信息。</p>
<ul>
<li><a href="https://www.2daygeek.com/check-find-server-public-ip-address-linux/">在 Linux 命令行检查你的公网 IP 地址的 9 种方法</a></li>
<li><a href="https://www.2daygeek.com/enable-disable-up-down-nic-network-interface-port-linux-using-ifconfig-ifdown-ifup-ip-nmcli-nmtui/">如何在 Linux 启用和禁用网卡？</a></li>
</ul>
<p>这可以通过下面的四个命令完成。</p>
<ul>
<li><code>route</code> 命令：被用来显示和操作 IP 路由表。</li>
<li><code>ip</code> 命令：类似于 <code>ifconfig</code>，常用于设置静态 IP 地址、路由 &amp; 默认网关，等等。</li>
<li><code>netstat</code> 命令：是一个命令行工具，用来显示网络连接相关的信息（包括入站和出站的），例如路由表、伪装连接、多播成员和网络接口。</li>
<li><code>routel</code> 命令：被用来以好看的输出格式列出路由。</li>
</ul>
<h3>1）在 Linux 中如何使用 route 命令检查默认的网关或者路由 IP 地址？</h3>
<p><code>route</code> 命令被用来显示和操作 IP 路由表。</p>
<p>它主要用于通过一个已经配置的接口给特定的主机或者网络设置静态的路由。</p>
<p>当使用 <code>add</code> 或者 <code>del</code> 选项时，<code>route</code> 修改路由表。没有这些选项，<code>route</code> 显示路由表的当前内容。</p>
<div class="highlight"><pre><span></span><code># route
或
# route -n

Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
default         www.routerlogin 0.0.0.0         UG    600    0        0 wlp8s0
192.168.1.0     0.0.0.0         255.255.255.0   U     600    0        0 wlp8s0
</code></pre></div>

<h3>2）如何在 Linux 中使用 ip 命令检查默认网关或者路由 IP 地址？</h3>
<p><a href="https://www.2daygeek.com/ip-command-configure-network-interface-usage-linux/">IP 命令</a> 类似于 <code>ifconfig</code>，常用于配置静态 IP 地址、路由 &amp; 默认网关，等等。</p>
<p><code>ifconfig</code> 命令因为多年没有维护而被遗弃了，即使它仍然在大多数 Linux 发行版上可获得。</p>
<p><code>ifconfig</code> 命令已经被 <code>ip</code> 命令替代了，<code>ip</code> 命令是非常强大的，只要一个命令就能执行几个网络管理任务。</p>
<p><code>ip</code> 命令工具附带在 iproute2 包中。在主要的 Linux 发行版中都默认预装了 iproute2 。</p>
<p>如果没有，你可以在你的终端中在包管理器的帮助下通过指定 iproute2 来安装它。</p>
<div class="highlight"><pre><span></span><code>#<span class="w"> </span><span class="nv">ip</span><span class="w"> </span><span class="nv">r</span>
或
#<span class="w"> </span><span class="nv">ip</span><span class="w"> </span><span class="nv">route</span>
或
#<span class="w"> </span><span class="nv">ip</span><span class="w"> </span><span class="nv">route</span><span class="w"> </span><span class="k">show</span>

<span class="nv">default</span><span class="w"> </span><span class="nv">via</span><span class="w"> </span><span class="mi">192</span>.<span class="mi">168</span>.<span class="mi">1</span>.<span class="mi">1</span><span class="w"> </span><span class="nv">dev</span><span class="w"> </span><span class="nv">wlp8s0</span><span class="w"> </span><span class="nv">proto</span><span class="w"> </span><span class="nv">dhcp</span><span class="w"> </span><span class="nv">metric</span><span class="w"> </span><span class="mi">600</span>
<span class="mi">192</span>.<span class="mi">168</span>.<span class="mi">1</span>.<span class="mi">0</span><span class="o">/</span><span class="mi">24</span><span class="w"> </span><span class="nv">dev</span><span class="w"> </span><span class="nv">wlp8s0</span><span class="w"> </span><span class="nv">proto</span><span class="w"> </span><span class="nv">kernel</span><span class="w"> </span><span class="nv">scope</span><span class="w"> </span><span class="nv">link</span><span class="w"> </span><span class="nv">src</span><span class="w"> </span><span class="mi">192</span>.<span class="mi">168</span>.<span class="mi">1</span>.<span class="mi">6</span><span class="w"> </span><span class="nv">metric</span><span class="w"> </span><span class="mi">600</span>
</code></pre></div>

<h3>3）如何在 Linux 中使用 netstat 命令检查默认网关或者路由 IP 地址？</h3>
<p><code>netstat</code> 代表 Network Statistics，是一个用来显示网络连接相关的信息（包括入站和出站）的命令行工具，例如路由表、伪装连接，多播成员和网络接口。</p>
<p>它列出所有的 tcp、udp 套接字连接和 unix 套接字连接。</p>
<p>它在网络中被用来诊断网络问题并判断网络中的流量总量来作为性能测量指标。</p>
<div class="highlight"><pre><span></span><code># netstat -r

Kernel IP routing table
Destination     Gateway         Genmask         Flags   MSS Window  irtt Iface
default         www.routerlogin 0.0.0.0         UG        0 0          0 wlp8s0
192.168.1.0     0.0.0.0         255.255.255.0   U         0 0          0 wlp8s0
</code></pre></div>

<h3>4）如何在 Linux 中使用 routel 命令检查默认网关或者路由 IP 地址？</h3>
<p>它用来以好看的输出格式列出路由信息。这些程序是一系列你可以用来替代 iproute2 的帮助脚本（<code>routel</code> 和 <code>routef</code>）。</p>
<p><code>routel</code> 脚本以一种被认为更容易解释并且等价于 <code>route</code> 输出列表的格式来输出路由信息。</p>
<p>如果 <code>routef</code> 脚本不加任何参数，将仅仅简单的将路由表清空。小心！这意味着删除所有的路由，让你的网络不再可用。</p>
<div class="highlight"><pre><span></span><code># routel
         target            gateway          source    proto    scope    dev tbl
        default        192.168.1.1                     dhcp          wlp8s0
   192.168.1.0/ 24                     192.168.1.6   kernel     link wlp8s0
      127.0.0.0          broadcast       127.0.0.1   kernel     link     lo local
     127.0.0.0/ 8            local       127.0.0.1   kernel     host     lo local
      127.0.0.1              local       127.0.0.1   kernel     host     lo local
127.255.255.255          broadcast       127.0.0.1   kernel     link     lo local
    192.168.1.0          broadcast     192.168.1.6   kernel     link wlp8s0 local
    192.168.1.6              local     192.168.1.6   kernel     host wlp8s0 local
  192.168.1.255          broadcast     192.168.1.6   kernel     link wlp8s0 local
            ::1                                      kernel              lo
        fe80::/ 64                                   kernel          wlp8s0
            ::1              local                   kernel              lo local
fe80::ad00:2f7e:d882:5add              local                   kernel          wlp8s0 local
        ff00::/ 8                                                    wlp8s0 local
</code></pre></div>

<p>如果你只想打印默认的网关那么使用下面的格式。</p>
<div class="highlight"><pre><span></span><code># routel | grep default
        default        192.168.1.1                     dhcp          wlp8s0
</code></pre></div>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>