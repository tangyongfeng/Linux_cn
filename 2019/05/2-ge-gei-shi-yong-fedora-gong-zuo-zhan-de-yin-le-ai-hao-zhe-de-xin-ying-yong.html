<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>2 个给使用 Fedora 工作站的音乐爱好者的新应用</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Author: Justin W. Flory Linux 操作系统非常适合进行独特的自定义和调整，以使你的计算机更好地为你工作。例如，i3 窗口管理器 就让用户 …" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">linux_cn</a></h1>
                <nav><ul>
                    <li><a href="/category/chuan-shan-jia-zhuan-fang">穿山甲专访</a></li>
                    <li><a href="/category/dai-ma-ying-xiong">代码英雄</a></li>
                    <li class="active"><a href="/category/fen-xiang">分享</a></li>
                    <li><a href="/category/guan-dian">观点</a></li>
                    <li><a href="/category/huo-dong">活动</a></li>
                    <li><a href="/category/ji-ke-man-hua">极客漫画</a></li>
                    <li><a href="/category/ji-zhu">技术</a></li>
                    <li><a href="/category/kai-yuan-zhi-hui">开源智慧</a></li>
                    <li><a href="/category/linux-fa-xing-ban">Linux 发行版</a></li>
                    <li><a href="/category/mei-ri-an-quan-zi-xun">每日安全资讯</a></li>
                    <li><a href="/category/misc">Misc</a></li>
                    <li><a href="/category/qu-kuai-lian">区块链</a></li>
                    <li><a href="/category/rong-qi-yu-yun">容器与云</a></li>
                    <li><a href="/category/ruan-jian-kai-fa">软件开发</a></li>
                    <li><a href="/category/shu-mei-pai">树莓派</a></li>
                    <li><a href="/category/xi-tong-yun-wei">系统运维</a></li>
                    <li><a href="/category/xin-wen">新闻</a></li>
                    <li><a href="/category/ying-he-guan-cha">硬核观察</a></li>
                    <li><a href="/category/zhi-ye-sheng-ya">职业生涯</a></li>
                    <li><a href="/category/zhong-jiang-ming-dan">中奖名单</a></li>
                    <li><a href="/category/zhuo-mian-ying-yong">桌面应用</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2019/05/2-ge-gei-shi-yong-fedora-gong-zuo-zhan-de-yin-le-ai-hao-zhe-de-xin-ying-yong.html" rel="bookmark"
           title="Permalink to 2 个给使用 Fedora 工作站的音乐爱好者的新应用">2 个给使用 Fedora 工作站的音乐爱好者的新应用</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2019-05-11T13:21:12+02:00">
                Published: Sat 11 May 2019
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/linux-fans-from-china.html">linux fans from china</a>
        </address>
<p>In <a href="/category/fen-xiang">分享</a>.</p>

</footer><!-- /.post-info -->      <p>Author: Justin W. Flory</p>
<p><img alt="" src="/data/attachment/album/201905/11/132115tu5nxgpoo11pn6np.jpg"></p>
<p>Linux 操作系统非常适合进行独特的自定义和调整，以使你的计算机更好地为你工作。例如，<a href="https://fedoramagazine.org/getting-started-i3-window-manager/">i3 窗口管理器</a> 就让用户认识到了构成现代 Linux 桌面的各种组件和部分。</p>
<p>Fedora 上有两个音乐爱好者会感兴趣的新软件包：mpris-scrobbler 和 playerctl。mpris-scrobbler 可以在 Last.fm 和/或 ListenBrainz 等音乐跟踪服务上<a href="https://github.com/mariusor/mpris-scrobbler">跟踪你的音乐收听历史</a>。 playerctl 是一个命令行的<a href="https://github.com/acrisci/playerctl">音乐播放器的控制器</a>。</p>
<h3>mpris-scrobbler：记录你的音乐收听趋势</h3>
<p>mpris-scrobbler 是一个命令行应用程序，用于将音乐的播放历史记录提交给 <a href="https://www.last.fm/">Last.fm</a>、<a href="https://libre.fm/">Libre.fm</a> 或 <a href="https://listenbrainz.org/">ListenBrainz</a> 等服务。它监听 <a href="https://specifications.freedesktop.org/mpris-spec/latest/">MPRIS D-Bus 接口</a> 以检测正在播放的内容。它可以连接几个不同的音乐客户端，如 spotify 客户端、<a href="https://www.videolan.org/vlc/">vlc</a>、audacious、bmp、<a href="https://cmus.github.io/">cmus</a> 等。</p>
<p><img alt="Last.fm last week in music report. Generated from user-submitted listening history." src="/data/attachment/album/201905/11/132117ivzs7j7jbwwsdvb4.png"></p>
<h4>安装和配置 mpris-scrobbler</h4>
<p>mpris-scrobbler 在 Fedora 28 或更高版本以及 EPEL 7 存储库中可用。在终端中运行以下命令进行安装：</p>
<div class="highlight"><pre><span></span><code>sudo dnf install mpris-scrobbler
</code></pre></div>

<p>安装完成后，使用 <code>systemctl</code> 启动并启用该服务。以下命令启动 mpris-scrobbler 并始终在系统重启后启动它：</p>
<div class="highlight"><pre><span></span><code>systemctl --user enable --now mpris-scrobbler.service
</code></pre></div>

<h4>提交播放信息给 ListenBrainz</h4>
<p>这里将介绍如何将 mpris-scrobbler 与 ListenBrainz 帐户相关联。要使用 Last.fm 或 Libre.fm，请参阅其<a href="https://github.com/mariusor/mpris-scrobbler#authenticate-to-the-service">上游文档</a>。</p>
<p>要将播放信息提交到 ListenBrainz 服务器，你需要有一个 ListenBrainz API 令牌。如果你有帐户，请从<a href="https://listenbrainz.org/profile/">个人资料设置页面</a>中获取该令牌。如果有了令牌，请运行此命令以使用 ListenBrainz API 令牌进行身份验证：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>mpris-scrobbler-signon<span class="w"> </span>token<span class="w"> </span>listenbrainz
Token<span class="w"> </span><span class="k">for</span><span class="w"> </span>listenbrainz.org:
</code></pre></div>

<p>最后，通过在 Fedora 上用你的音乐客户端播放一首歌来测试它。你播放的歌曲会出现在 ListenBrainz 个人资料页中。</p>
<p><img alt="Basic statistics and play history from a user profile on ListenBrainz. The current track is playing on a Fedora Workstation laptop with mpris-scrobbler." src="/data/attachment/album/201905/11/132118lwrrmitilwko2odk.png"></p>
<h3>playerctl 可以控制音乐回放</h3>
<p><code>playerctl</code> 是一个命令行工具，它可以控制任何实现了 MPRIS D-Bus 接口的音乐播放器。你可以轻松地将其绑定到键盘快捷键或媒体热键上。以下是如何在命令行中安装、使用它，以及为 i3 窗口管理器创建键绑定的方法。</p>
<h4>安装和使用 playerctl</h4>
<p><code>playerctl</code> 在 Fedora 28 或更高版本中可用。在终端运行如下命令以安装：</p>
<div class="highlight"><pre><span></span><code>sudo dnf install playerctl
</code></pre></div>

<p>现在已安装好，你可以立即使用它。在 Fedora 上打开你的音乐播放器。接下来，尝试用以下命令来控制终端的播放。</p>
<p>播放或暂停当前播放的曲目：</p>
<div class="highlight"><pre><span></span><code><span class="nv">playerctl</span><span class="w"> </span><span class="nv">play</span><span class="o">-</span><span class="k">pause</span>
</code></pre></div>

<p>如果你想跳过下一首曲目：</p>
<div class="highlight"><pre><span></span><code><span class="nv">playerctl</span><span class="w"> </span><span class="k">next</span>
</code></pre></div>

<p>列出所有正在运行的播放器：</p>
<div class="highlight"><pre><span></span><code>playerctl -l
</code></pre></div>

<p>仅使用 spotify 客户端播放或暂停当前播放的内容：</p>
<div class="highlight"><pre><span></span><code><span class="nv">playerctl</span><span class="w"> </span><span class="o">-</span><span class="nv">p</span><span class="w"> </span><span class="nv">spotify</span><span class="w"> </span><span class="nv">play</span><span class="o">-</span><span class="k">pause</span>
</code></pre></div>

<h4>在 i3wm 中创建 playerctl 键绑定</h4>
<p>你是否使用窗口管理器，比如 <a href="https://fedoramagazine.org/getting-started-i3-window-manager/">i3 窗口管理器</a>？尝试使用 <code>playerctl</code> 进行键绑定。你可以将不同的命令绑定到不同的快捷键，例如键盘上的播放/暂停按钮。参照下面的 <a href="https://github.com/jwflory/swiss-army/blob/ba6ac0c71855e33e3caa1ee1fe51c05d2df0529d/roles/apps/i3wm/files/config#L207-L210">i3wm 配置摘录</a> 看看如何做：</p>
<div class="highlight"><pre><span></span><code>#<span class="w"> </span><span class="nv">Media</span><span class="w"> </span><span class="nv">player</span><span class="w"> </span><span class="nv">controls</span>
<span class="nv">bindsym</span><span class="w"> </span><span class="nv">XF86AudioPlay</span><span class="w"> </span><span class="k">exec</span><span class="w"> </span><span class="s2">&quot;playerctl play-pause&quot;</span>
<span class="nv">bindsym</span><span class="w"> </span><span class="nv">XF86AudioNext</span><span class="w"> </span><span class="k">exec</span><span class="w"> </span><span class="s2">&quot;playerctl next&quot;</span>
<span class="nv">bindsym</span><span class="w"> </span><span class="nv">XF86AudioPrev</span><span class="w"> </span><span class="k">exec</span><span class="w"> </span><span class="s2">&quot;playerctl previous&quot;</span>
</code></pre></div>

<h3>体验一下音乐播放器</h3>
<p>想了解关于在 Fedora 上定制音乐聆听体验的更多信息吗？Fedora Magazine 为你提供服务。看看 Fedora 上这<a href="https://fedoramagazine.org/5-cool-music-player-apps/">五个很酷的音乐播放器</a>。</p>
<p>也可以通过使用 MusicBrainz Picard 对音乐库进行排序和组织，<a href="https://fedoramagazine.org/picard-brings-order-music-library/">为你的混乱的音乐库带来秩序</a>。</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>