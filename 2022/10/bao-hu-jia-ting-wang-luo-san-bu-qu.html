<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>保护家庭网络三部曲</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Author: Seth Kenlon 都有谁可以访问你的家庭网络？随着物联网（IoT）的普及，有时在运行在你家庭网络上的服务比你想象的更多。我们应 …" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">linux_cn</a></h1>
                <nav><ul>
                    <li><a href="/category/chuan-shan-jia-zhuan-fang">穿山甲专访</a></li>
                    <li><a href="/category/dai-ma-ying-xiong">代码英雄</a></li>
                    <li><a href="/category/fen-xiang">分享</a></li>
                    <li><a href="/category/guan-dian">观点</a></li>
                    <li><a href="/category/huo-dong">活动</a></li>
                    <li><a href="/category/ji-ke-man-hua">极客漫画</a></li>
                    <li class="active"><a href="/category/ji-zhu">技术</a></li>
                    <li><a href="/category/kai-yuan-zhi-hui">开源智慧</a></li>
                    <li><a href="/category/linux-fa-xing-ban">Linux 发行版</a></li>
                    <li><a href="/category/mei-ri-an-quan-zi-xun">每日安全资讯</a></li>
                    <li><a href="/category/misc">Misc</a></li>
                    <li><a href="/category/qu-kuai-lian">区块链</a></li>
                    <li><a href="/category/rong-qi-yu-yun">容器与云</a></li>
                    <li><a href="/category/ruan-jian-kai-fa">软件开发</a></li>
                    <li><a href="/category/shu-mei-pai">树莓派</a></li>
                    <li><a href="/category/xi-tong-yun-wei">系统运维</a></li>
                    <li><a href="/category/xin-wen">新闻</a></li>
                    <li><a href="/category/ying-he-guan-cha">硬核观察</a></li>
                    <li><a href="/category/zhi-ye-sheng-ya">职业生涯</a></li>
                    <li><a href="/category/zhong-jiang-ming-dan">中奖名单</a></li>
                    <li><a href="/category/zhuo-mian-ying-yong">桌面应用</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2022/10/bao-hu-jia-ting-wang-luo-san-bu-qu.html" rel="bookmark"
           title="Permalink to 保护家庭网络三部曲">保护家庭网络三部曲</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2022-10-01T18:36:53+02:00">
                Published: Sat 01 October 2022
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/linux-fans-from-china.html">linux fans from china</a>
        </address>
<p>In <a href="/category/ji-zhu">技术</a>.</p>

</footer><!-- /.post-info -->      <p>Author: Seth Kenlon</p>
<p><img alt="" src="/data/attachment/album/202210/01/183650wcrjnshjn9cwzqws.jpg"></p>
<blockquote>
<p>都有谁可以访问你的家庭网络？随着物联网（IoT）的普及，有时在运行在你家庭网络上的服务比你想象的更多。我们应当设法保护它免受不需要的访问。</p>
</blockquote>
<p>今天，互联网连接的典型结构是家里有一个<strong>路由器</strong>，通常是一个位于你家某个地方的小盒子，它充当了通往互联网世界的网关。路由器创建了一个本地网络，你将你的设备连接到这个本地网络，包括你的电脑、手机、电视、游戏机，以及其他任何需要连接到互联网或相互连接的设备。我们很容易将路由器当作一个分界线，一边是互联网而另一边是你的设备。但这是一个可怕的误解，因为在现实中，你的路由器的一边是整个<em>计算机网络世界</em>，另一边是你的数字生活。当你直接使用互联网时，你是在访问别人的计算机网络的共享区域。当你不使用互联网时，它却并没有消失，有很多脚本和程序被设计用以访问数以百万计的路由器，试图找到开放的端口或服务。随着物联网（IoT）的普及，有时在运行在你家庭网络上的服务比你想象的更多。通过以下三个步骤，你可以审计并保护你的家庭网络免受不必要的访问和攻击。</p>
<h3>1、协议先行</h3>
<p>路由器的部分工作是将互联网与你的家庭网络分开。但当你访问互联网时，你邀请互联网的某些部分进入你的家庭。这意味着你创建了一个例外规则，绕过了阻止互联网进入你的本地网络的一般规则。</p>
<p>在许多网站上，通过你的路由器的仅是文本内容。例如，当你访问你最喜欢的博客网站，阅读最新的科技新闻时，你下载了几页文字。你阅读文本，然后继续访问。这是一个简单的一对一的连接。</p>
<p>然而，HTTPS 协议是强大的，在互联网上运行的应用程序也充满了多样性。例如，当你访问某个网站时，你不只是在下载文本。你会得到图形，也许还有脚本或电子书。你还在后台下载 cookie，这有助于网站管理员了解谁在访问网站、加强对移动设备的支持、为更好的可访问性提供新设计并了解读者喜欢的内容。当你网上冲浪时，你可能不会想到 cookie 或流量分析是与你交互的东西，它是被“藏入”页面交互的东西，因为 HTTPS 协议的设计是广泛而通用的，在多数场景被高度信任。当你通过 HTTPS（或者说，在一个浏览器中）访问一个网站时，你可能在不知情的情况下默认同意自动下载文件，但你认为这些文件是有用的和无关紧要的。对于一种旨在减少信任的文件共享模式，你可以尝试一下 <a href="https://opensource.com/article/20/10/gemini-internet-protocol">Gemini</a> 或 <a href="https://opensource.com/article/16/12/yearbook-compute-its-1989#gopher">Gopher</a> 协议。</p>
<p>当你加入一个视频会议时，你也使用了类似的协议。你不仅要下载页面上的文字、用于流量监控的cookie，还要下载视频和音频材料。</p>
<p>有些网站的设计甚至更进一步，它们被设计成允许用户分享其电脑屏幕，有时甚至是对他们电脑的控制。这样设计的初衷是有助于远程技术人员修复电脑上的问题，但在现实中，用户可能被欺骗访问这一网站，导致财务凭证和个人数据被盗。</p>
<p>如果一个提供文字文章的网站要求你允许它在你阅读时调用网络摄像头，你理应高度警惕。当一个设备需要访问互联网时，你也应当保持同样的谨慎和警惕。当你把一个设备连接到网络时，重要的是要关注你同意了何种隐性协议。一个旨在控制你房子里的照明的设备不应该<em>要求</em>互联网接入，但事实上许多设备需要并且没有明确说明你授予该设备什么权限。许多物联网设备都<em>希望</em>接入互联网，这样你就可以在离家时通过互联网访问该设备。这也是“智慧家庭”的部分吸引力。然而，我们不可能知道所有设备运行的是什么代码。在可能的情况下，使用开源和值得信赖的软件，如 <a href="https://opensource.com/article/20/12/home-assistant">Home Assistant</a> 来与你的物联网设备对接。</p>
<h3>2、创建访客网络</h3>
<p>许多现代路由器可以为你的家庭创建第二个网络（通常在配置面板中称为 “访客网络”）。你可能觉得你不需要访客网络，但实际上，访客网络是十分有意义的。它旨在为访问你房子的人提供互联网访问，而你不需要告诉他们你的私人网络密码。例如在我家的门厅里，我有一个牌子标明了访客网络的名称和密码。任何来访的人都可以加入该网络以访问互联网。</p>
<p>另一方面可以用于物联网、边缘设备和家庭实验室的应用。当我去年购买 “可编程” 的圣诞灯时，我惊讶地发现，为了连接这些灯，它们必须连接到互联网。当然，这些来自无名工厂的 50 美元的灯没有附带源代码，也没有任何方法可以与嵌入在适配器中的固件进行交互或检查，所以我对我同意将它们连接到我的本地网络有一定的顾虑。它们已经被永久地归入了我的访客网络。</p>
<p>每个路由器供应商都是不同的，所以没有关于如何在你的路由器上创建一个 “沙盒” 访客网络的通用指令。一般来说，你通过一个网络浏览器访问你的家庭路由器。你的路由器的地址有时印在路由器的底部，它以 192.168 或 10 开头。</p>
<p>访问路由器地址，用你配置互联网服务时使用的凭证登录。这通常是简单的 “admin” 和一个数字密码（有时，这个密码也印在路由器上）。如果你不知道登录方式，请致电给你的互联网供应商或者制造商咨询。</p>
<p>在图形界面中，找到 “访客网络” 的面板。这个选项在我的路由器的<strong>高级</strong>配置中，但它可能在你的路由器的其他地方，它甚至可能不叫 “访客网络”（或者它甚至可能不是一个选项）。具体情况因厂商而异。</p>
<p><img alt="创建访客网络" src="/data/attachment/album/202210/01/183653azj2jbzzub6qh9h6.jpg"></p>
<p>这可能需要耐心的寻找。如果你发现你的设备有这个选择，那么你可以为访客建立一个访客网络，包括在不受信任的灯泡上运行的应用程序。</p>
<h3>3、配置防火墙</h3>
<p>你的路由器可能已经存在一个默认运行的防火墙。防火墙将不需要的流量挡在你的网络之外，通常是将传入的数据包限制在 HTTP 和 HTTPS（浏览器流量）以及其他一些常用的协议上，并拒绝不是你发起的请求。你可以通过登录你的路由器并寻找 “防火墙” 或 “安全” 设置来检查防火墙是否正在运行。</p>
<p>然而，许多设备可以运行它们自己的防火墙。网络之所以被称为<em>网络</em>是因为在网络上的设备互相能进行连接。在设备之间设置防火墙，就像在你的房子里锁上一扇门。客人可以在大厅里游荡，但如果没有合适的钥匙，他们就不会被邀请进入你的私人办公室。</p>
<p>在 Linux 上，你可以使用 <a href="https://opensource.com/article/19/7/make-linux-stronger-firewalls">firewalld</a> 接口和 <a href="https://www.redhat.com/sysadmin/secure-linux-network-firewall-cmd">firewall-cmd</a> 命令来配置你的防火墙。在其他操作系统上，防火墙有时在一个标有 “安全” 或 “共享” 的控制面板中（有时两者都有）。 大多数默认的防火墙设置只允许出站流量（即你通过打开浏览器并导航到一个网站而启动的流量）和响应你的请求的入站流量（即响应你的导航的网络数据）。不是由你发起的传入流量会被阻止。</p>
<p>你可以根据需要配置相关规则以允许特定的流量，例如 <a href="https://www.redhat.com/sysadmin/access-remote-systems-ssh">SSH 连接</a>、<a href="https://www.redhat.com/sysadmin/accessing-remote-desktops">VNC 连接</a>，或 <a href="https://opensource.com/article/18/5/maptool">游戏服务器</a> 主机。</p>
<h3>监控你的网络</h3>
<p>这些技巧有助于建立起你对周围发生的事情的认识。下一步是 <a href="https://opensource.com/article/19/2/network-monitoring-tools">监控你的网络</a>。你可以从简单的开始，例如在你的访客网络的测试服务器上运行 <a href="https://www.redhat.com/sysadmin/protect-systems-fail2ban">Fail2ban</a>。看一下日志，如果你的路由器提供日志的话。你不必对 TCP/IP 和数据包以及其他进阶知识了如指掌，就可以看到互联网是一个繁忙而嘈杂的地方，当你在家里安装一个新设备时，无论是物联网、移动设备、台式机或笔记本电脑、游戏机，甚至是 <a href="https://opensource.com/article/22/3/raspberry-pi-projects-2022">树莓派</a>，而亲身体会到这一点对你采取预防措施有很大启发。</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>