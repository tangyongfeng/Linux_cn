<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>如何在最小安装的 CentOS、RHEL、Rocky Linux 中设置互联网</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Author: Arindam 在最小安装的服务器中设置互联网或网络非常容易。本指南将解释如何在最小安装的 CentOS、RHEL 和 Rocky Linux 中设置互联网或 …" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">linux_cn</a></h1>
                <nav><ul>
                    <li><a href="/category/chuan-shan-jia-zhuan-fang">穿山甲专访</a></li>
                    <li><a href="/category/dai-ma-ying-xiong">代码英雄</a></li>
                    <li><a href="/category/fen-xiang">分享</a></li>
                    <li><a href="/category/guan-dian">观点</a></li>
                    <li><a href="/category/huo-dong">活动</a></li>
                    <li><a href="/category/ji-ke-man-hua">极客漫画</a></li>
                    <li class="active"><a href="/category/ji-zhu">技术</a></li>
                    <li><a href="/category/kai-yuan-zhi-hui">开源智慧</a></li>
                    <li><a href="/category/linux-fa-xing-ban">Linux 发行版</a></li>
                    <li><a href="/category/mei-ri-an-quan-zi-xun">每日安全资讯</a></li>
                    <li><a href="/category/misc">Misc</a></li>
                    <li><a href="/category/qu-kuai-lian">区块链</a></li>
                    <li><a href="/category/rong-qi-yu-yun">容器与云</a></li>
                    <li><a href="/category/ruan-jian-kai-fa">软件开发</a></li>
                    <li><a href="/category/shu-mei-pai">树莓派</a></li>
                    <li><a href="/category/xi-tong-yun-wei">系统运维</a></li>
                    <li><a href="/category/xin-wen">新闻</a></li>
                    <li><a href="/category/ying-he-guan-cha">硬核观察</a></li>
                    <li><a href="/category/zhi-ye-sheng-ya">职业生涯</a></li>
                    <li><a href="/category/zhong-jiang-ming-dan">中奖名单</a></li>
                    <li><a href="/category/zhuo-mian-ying-yong">桌面应用</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2022/10/ru-he-zai-zui-xiao-an-zhuang-de-centos-rhel-rocky-linux-zhong-she-zhi-hu-lian-wang.html" rel="bookmark"
           title="Permalink to 如何在最小安装的 CentOS、RHEL、Rocky Linux 中设置互联网">如何在最小安装的 CentOS、RHEL、Rocky Linux 中设置互联网</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2022-10-10T16:24:00+02:00">
                Published: Mon 10 October 2022
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/linux-fans-from-china.html">linux fans from china</a>
        </address>
<p>In <a href="/category/ji-zhu">技术</a>.</p>

</footer><!-- /.post-info -->      <p>Author: Arindam</p>
<p><img alt="" src="/data/attachment/album/202210/10/162428grhkhtayzt4cdh5k.jpg"></p>
<blockquote>
<p>在最小安装的服务器中设置互联网或网络非常容易。本指南将解释如何在最小安装的 CentOS、RHEL 和 Rocky Linux 中设置互联网或网络。</p>
</blockquote>
<p>当你安装了任何服务器发行版的最小安装环境，你将没有任何 GUI 或桌面环境来设置你的网络或互联网。因此，当你只能访问终端时，了解如何设置互联网非常重要。NetworkManager 工具提供了必要的工具，辅以 systemd 服务来完成这项工作。以下是方法。</p>
<h3>在最小安装的 CentOS、RHEL、Rocky Linux 中设置互联网</h3>
<p>在你完成了服务器的安装后，启动进入服务器终端。理想情况下，你会看到一个终端提示符。使用 root 或管理员账户登录。</p>
<p>首先，尝试使用 <a href="https://linux.die.net/man/1/nmcli">nmcli</a> 检查网络接口的状态和详细信息。<code>nmcli</code> 是用于控制 NetworkManager 服务的命令行工具。使用以下命令进行检查。</p>
<div class="highlight"><pre><span></span><code>nmcli device status
</code></pre></div>

<p>这将显示设备名称、状态等。</p>
<p><img alt="nmcli device status" src="/data/attachment/album/202210/10/162430gzjmbm9azqqa9mz1.jpg"></p>
<p>运行工具 <code>nmtui</code> 来配置网络接口。</p>
<p><code>nmtui</code> 是 NetworkManager 工具的一部分，它为你提供了一个友好的用户界面来配置网络。</p>
<p>这是 <code>NetworkManager-tui</code> 包的一部分，在你完成最小服务器安装后默认安装。</p>
<div class="highlight"><pre><span></span><code>nmtui
</code></pre></div>

<p>单击 nmtui 窗口中的“<ruby> 编辑连接 <rt>  Edit a connection </rt></ruby>”。</p>
<p><img alt="nmtui - 选择选项" src="/data/attachment/album/202210/10/162532x96yjq63yl66ys90.jpg"></p>
<p>选择接口名称</p>
<p><img alt="选择要编辑的接口" src="/data/attachment/album/202210/10/162538in59jmcmnbtstznc.jpg"></p>
<p>在“<ruby> 编辑连接 <rt>  Edit Connection </rt></ruby>”窗口中，为 IPv4 和 IPv6 选择“<ruby> 自动 <rt>  Automatic </rt></ruby>”选项。并选择“<ruby> 自动连接 <rt>  Automatically Connect </rt></ruby>”。完成后按 “OK”。</p>
<p><img alt="nmtui - 编辑连接" src="/data/attachment/album/202210/10/162543dh1k9vjy9jymbmvs.jpg"></p>
<p>使用以下命令通过 <a href="https://www.debugpoint.com/2020/12/systemd-systemctl-service/">systemd systemctl</a> 重启 NetworkManager 服务。</p>
<div class="highlight"><pre><span></span><code>systemctl restart NetworkManager
</code></pre></div>

<p>如果一切顺利，你可以在最小安装的 CentOS、RHEL 和 Rocky Linux 服务器中连接到网络和互联网。前提是你的网络有互联网连接。你可以使用 <code>ping</code> 来验证它是否正常工作。</p>
<p><img alt="设置最小化服务器互联网 - CentOS Rocky Linux RHEL" src="/data/attachment/album/202210/10/162550pvs7lrylysvdqxs6.jpg"></p>
<h3>附加技巧：在最小化服务器中设置静态 IP</h3>
<p>当你将网络配置设置为自动时，接口会在你连接到互联网时动态分配 IP。在你设置局域网的某些情况下，你可能希望将静态 IP 分配给你的网络接口。这非常容易。</p>
<p>打开你的网络配置脚本。将 <code>ens3</code> 改为为你自己的设备名。</p>
<div class="highlight"><pre><span></span><code>vi /etc/sysconfig/network-scripts/ifcfg-ens3
</code></pre></div>

<p>在上面的文件中，使用 <code>IPADDR</code> 属性添加所需的 IP 地址。保存文件。</p>
<div class="highlight"><pre><span></span><code>IPADDR=192.168.0.55
</code></pre></div>

<p>在 <code>/etc/sysconfig/network</code> 中为你的网络添加网关。</p>
<div class="highlight"><pre><span></span><code>NETWORKING=yes
HOSTNAME=debugpoint
GATEWAY=10.1.1.1
</code></pre></div>

<p>在 <code>/etc/resolv.conf</code> 中添加任意公共 DNS 服务器。</p>
<div class="highlight"><pre><span></span><code>nameserver 8.8.8.8
nameserver 8.8.4.4
</code></pre></div>

<p>然后重启网络服务。</p>
<div class="highlight"><pre><span></span><code>systemctl restart NetworkManager
</code></pre></div>

<p>这就完成了静态 IP 的设置。你还可以使用 <code>ip addr</code> 命令检查 IP 详细信息。</p>
<h3>总结</h3>
<p>我希望本指南可以帮助你在最小化安装的服务器中设置网络、互联网和静态 IP。如果你有任何问题，请在评论区告诉我。</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>