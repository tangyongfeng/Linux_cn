<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>如何列出连接到 Linux 系统的 USB 设备</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Author: Anuj Sharma 你如何列出 Linux 中的 USB 设备？ 这个问题可以有两种含义。 你的系统上有（检测到）多少个 USB 端口？ 系统安装（插入）了多少个 …" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">linux_cn</a></h1>
                <nav><ul>
                    <li><a href="/category/chuan-shan-jia-zhuan-fang">穿山甲专访</a></li>
                    <li><a href="/category/dai-ma-ying-xiong">代码英雄</a></li>
                    <li><a href="/category/fen-xiang">分享</a></li>
                    <li><a href="/category/guan-dian">观点</a></li>
                    <li><a href="/category/huo-dong">活动</a></li>
                    <li><a href="/category/ji-ke-man-hua">极客漫画</a></li>
                    <li class="active"><a href="/category/ji-zhu">技术</a></li>
                    <li><a href="/category/kai-yuan-zhi-hui">开源智慧</a></li>
                    <li><a href="/category/linux-fa-xing-ban">Linux 发行版</a></li>
                    <li><a href="/category/mei-ri-an-quan-zi-xun">每日安全资讯</a></li>
                    <li><a href="/category/misc">Misc</a></li>
                    <li><a href="/category/qu-kuai-lian">区块链</a></li>
                    <li><a href="/category/rong-qi-yu-yun">容器与云</a></li>
                    <li><a href="/category/ruan-jian-kai-fa">软件开发</a></li>
                    <li><a href="/category/shu-mei-pai">树莓派</a></li>
                    <li><a href="/category/xi-tong-yun-wei">系统运维</a></li>
                    <li><a href="/category/xin-wen">新闻</a></li>
                    <li><a href="/category/ying-he-guan-cha">硬核观察</a></li>
                    <li><a href="/category/zhi-ye-sheng-ya">职业生涯</a></li>
                    <li><a href="/category/zhong-jiang-ming-dan">中奖名单</a></li>
                    <li><a href="/category/zhuo-mian-ying-yong">桌面应用</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2022/08/ru-he-lie-chu-lian-jie-dao-linux-xi-tong-de-usb-she-bei.html" rel="bookmark"
           title="Permalink to 如何列出连接到 Linux 系统的 USB 设备">如何列出连接到 Linux 系统的 USB 设备</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2022-08-30T09:49:00+02:00">
                Published: Tue 30 August 2022
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/linux-fans-from-china.html">linux fans from china</a>
        </address>
<p>In <a href="/category/ji-zhu">技术</a>.</p>

</footer><!-- /.post-info -->      <p>Author: Anuj Sharma</p>
<p><img alt="" src="/data/attachment/album/202208/30/094927nu106ijzz0iiiwj1.jpg"></p>
<p>你如何列出 Linux 中的 USB 设备？</p>
<p>这个问题可以有两种含义。</p>
<ul>
<li>你的系统上有（检测到）多少个 USB 端口？</li>
<li>系统安装（插入）了多少个 USB 设备/磁盘？</li>
</ul>
<p>大多数情况下，人们有兴趣了解哪些 USB 设备连接到系统。这可能有助于对 USB 设备进行故障排除。</p>
<p>最可靠的方法是使用这个命令：</p>
<div class="highlight"><pre><span></span><code>lsusb
</code></pre></div>

<p>它显示了网络摄像头、蓝牙和以太网端口以及 USB 端口和挂载的 USB 驱动器。</p>
<p><img alt="list usb with lsusb command linux" src="/data/attachment/album/202208/30/094930wejj6vcjyvyjilis.png"></p>
<p>但是理解 <code>lsusb</code> 的输出并不容易，当你只想查看和访问已挂载的 USB 驱动器时，你可能不需要那么复杂。</p>
<p>我将向你展示可用于列出连接到系统的 USB 设备的各种工具和命令。</p>
<p>除非另有说明，在我的例子中连接了一个 2GB 的 U 盘、1TB 的外置硬盘、通过 MTP 连接的 Android 智能手机，以及 USB 鼠标。</p>
<p>让我从桌面用户最简单的选项开始。</p>
<h3>以图形方式检查连接的 USB 设备</h3>
<p>你的发行版的文件管理器可以用来查看连接到你的计算机的 USB 存储设备。正如你在下面的 Nautilus（GNOME 文件管理器）的截图中看到的那样。</p>
<p>连接的设备显示在边栏中（此处仅显示 USB 存储设备）。</p>
<p><img alt="Nautilus showing connected USB devices" src="/data/attachment/album/202208/30/094930o6ndrdittnttomzx.png"></p>
<p>你还可以使用 GNOME “<ruby> 磁盘 <rt>  Disks </rt></ruby>” 或 Gparted 等 GUI 应用来查看、格式化和分区连接到计算机的 USB 存储设备。默认情况下，大多数使用 GNOME 桌面环境的发行版都预装了 GNOME “磁盘”。</p>
<p>这个应用也可以用作一个非常好的 <a href="https://itsfoss.com/partition-managers-linux/">分区管理器</a>。</p>
<p><img alt="Use GNOME Disks to list mounted USB devices" src="/data/attachment/album/202208/30/094930p9i9xri9cn99dtid.png"></p>
<p>图形工具足够了。让我们讨论可用于列出 USB 设备的命令。</p>
<h3>使用 mount 命令列出挂载的 USB 设备</h3>
<p><code>mount</code> 命令用于挂载 Linux 中的分区。你还可以使用相同的命令列出 USB 存储设备。</p>
<p>通常，USB 存储挂载在 <code>media</code> 目录中。因此，在媒体上过滤 <code>mount</code> 命令的输出将为你提供所需的结果。</p>
<div class="highlight"><pre><span></span><code>mount | grep media
</code></pre></div>

<p><img alt="" src="/data/attachment/album/202208/30/094931lde2vsruwpzjesuv.png"></p>
<h3>使用 df 命令</h3>
<p><a href="https://linuxhandbook.com/df-command/">df 命令</a> 是一个标准的 UNIX 命令，用于了解可用磁盘空间的大小。你还可以使用此命令列出已连接的 USB 存储设备。</p>
<div class="highlight"><pre><span></span><code>df -Th | grep media
</code></pre></div>

<p><img alt="Use df command to list mounted USB drives" src="/data/attachment/album/202208/30/094931d5025u2gnlka22k2.png"></p>
<h3>使用 lsblk 命令</h3>
<p><code>lsblk</code> 命令用于列出终端中的块设备。因此，这里也通过过滤包含 <code>media</code> 关键字的输出，你可以获得所需的结果，如下面的截图所示。</p>
<div class="highlight"><pre><span></span><code>lsblk | grep media
</code></pre></div>

<p><img alt="Using lsblk to list connected USb devicesUsing blkid to list connected USb devices" src="/data/attachment/album/202208/30/094931y8q1d8v2ys8tl274.png"></p>
<p>如果你想知道，也可以使用 <code>blkid</code> 命令了解 UUID、标签、块大小等。</p>
<p>此命令提供更多输出，因为你的内部驱动器也被列出。因此，你必须参考上述命令来识别你希望了解的设备。</p>
<div class="highlight"><pre><span></span><code>sudo blkid
</code></pre></div>

<p><img alt="Using blkid to list connected USb devices" src="/data/attachment/album/202208/30/094931y8q1d8v2ys8tl274.png"></p>
<h3>使用 fdisk</h3>
<p><code>fdisk</code> 是一款不错的老式命令行分区管理器，它还可以列出连接到你计算机的 USB 存储设备。这个命令的输出也很长。因此，通常连接的设备会列在底部，如下所示：</p>
<div class="highlight"><pre><span></span><code>sudo fdisk -l
</code></pre></div>

<p><img alt="Use fidsk to list usb devices" src="/data/attachment/album/202208/30/094932ig4vu49ds111gu36.png"></p>
<h3>检查 /proc/mounts</h3>
<p>通过检查 <code>/proc/mounts</code> 文件，你可以列出 USB 存储设备。如你所见，它向你显示了文件系统使用的挂载选项以及挂载点。</p>
<div class="highlight"><pre><span></span><code>cat /proc/mounts | grep media
</code></pre></div>

<p><img alt="" src="/data/attachment/album/202208/30/094932p2sogvggtgzswsga.png"></p>
<h3>使用 lsusb 命令显示所有 USB 设备</h3>
<p>我们重新审视有名的 <code>lsusb</code> 命令。</p>
<p>Linux 内核开发人员 <a href="https://en.wikipedia.org/wiki/Greg_Kroah-Hartman">Greg Kroah-Hartman</a> 开发了这个方便的 <a href="https://github.com/gregkh/usbutils">usbutils</a> 程序。这为我们提供了两个命令，即 <code>lsusb</code> 和 <code>usb-devices</code> 来列出 Linux 中的 USB 设备。</p>
<p><code>lsusb</code> 命令列出系统中有关 USB 总线的所有信息。</p>
<div class="highlight"><pre><span></span><code>lsusb
</code></pre></div>

<p>如你所见，此命令还显示了我已连接的鼠标和智能手机，这与其他命令（只能列出 USB 存储设备）不同。</p>
<p><img alt="" src="/data/attachment/album/202208/30/094932c2230jsliyior2il.png"></p>
<p>第二个命令 <code>usb-devices</code> 提供了更多详细信息，但未能列出所有设备，如下所示。</p>
<div class="highlight"><pre><span></span><code>usb-devices
</code></pre></div>

<p><img alt="" src="/data/attachment/album/202208/30/094933lhlus4ucogha08hi.png"></p>
<p>Greg 还开发了一个名为 <a href="https://github.com/gregkh/usbview">usbview</a> 的小型 GTK 应用。此应用向你显示连接到计算机的所有 USB 设备的列表。</p>
<p>该应用可在大多数 Linux 发行版的官方仓库中找到。你可以使用发行版的 <a href="https://itsfoss.com/package-manager/">包管理器</a> 轻松安装 <code>usbview</code> 包。</p>
<p>安装后，你可以从应用菜单启动它。你可以选择任何列出的设备以获取详细信息，如下面的截图所示。</p>
<p><img alt="" src="/data/attachment/album/202208/30/094933ez2m4pr6f22nz8mk.png"></p>
<h3>总结</h3>
<p>这里列出的大多数方法仅限于 USB 存储设备。只有两种方法可以列出其他外围设备； usbview 和 usbutils。 我想我们应该感谢 Linux 内核开发人员 Greg 开发了这些方便的工具。</p>
<p>我知道还有很多方法可以列出连接到系统的 USB 设备。 欢迎你提出建议。</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>