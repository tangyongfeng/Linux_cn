<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>清理 Ubuntu 系统的 4 个简单步骤</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Author: Arindam 现在，试试看这 4 个简单的步骤，来清理你的 Ubuntu 系统吧。 这份精简指南将告诉你如何清理 Ubuntu 系统以及如何释放一些磁 …" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">linux_cn</a></h1>
                <nav><ul>
                    <li><a href="/category/chuan-shan-jia-zhuan-fang">穿山甲专访</a></li>
                    <li><a href="/category/dai-ma-ying-xiong">代码英雄</a></li>
                    <li><a href="/category/fen-xiang">分享</a></li>
                    <li><a href="/category/guan-dian">观点</a></li>
                    <li><a href="/category/huo-dong">活动</a></li>
                    <li><a href="/category/ji-ke-man-hua">极客漫画</a></li>
                    <li class="active"><a href="/category/ji-zhu">技术</a></li>
                    <li><a href="/category/kai-yuan-zhi-hui">开源智慧</a></li>
                    <li><a href="/category/linux-fa-xing-ban">Linux 发行版</a></li>
                    <li><a href="/category/mei-ri-an-quan-zi-xun">每日安全资讯</a></li>
                    <li><a href="/category/misc">Misc</a></li>
                    <li><a href="/category/qu-kuai-lian">区块链</a></li>
                    <li><a href="/category/rong-qi-yu-yun">容器与云</a></li>
                    <li><a href="/category/ruan-jian-kai-fa">软件开发</a></li>
                    <li><a href="/category/shu-mei-pai">树莓派</a></li>
                    <li><a href="/category/xi-tong-yun-wei">系统运维</a></li>
                    <li><a href="/category/xin-wen">新闻</a></li>
                    <li><a href="/category/ying-he-guan-cha">硬核观察</a></li>
                    <li><a href="/category/zhi-ye-sheng-ya">职业生涯</a></li>
                    <li><a href="/category/zhong-jiang-ming-dan">中奖名单</a></li>
                    <li><a href="/category/zhuo-mian-ying-yong">桌面应用</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2022/09/qing-li-ubuntu-xi-tong-de-4-ge-jian-dan-bu-zou.html" rel="bookmark"
           title="Permalink to 清理 Ubuntu 系统的 4 个简单步骤">清理 Ubuntu 系统的 4 个简单步骤</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2022-09-30T12:38:00+02:00">
                Published: Fri 30 September 2022
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/linux-fans-from-china.html">linux fans from china</a>
        </address>
<p>In <a href="/category/ji-zhu">技术</a>.</p>

</footer><!-- /.post-info -->      <p>Author: Arindam</p>
<p><img alt="" src="/data/attachment/album/202209/30/123825r2vri1kv0rc2f7xh.jpg"></p>
<blockquote>
<p>现在，试试看这 4 个简单的步骤，来清理你的 Ubuntu 系统吧。</p>
</blockquote>
<p>这份精简指南将告诉你如何清理 Ubuntu 系统以及如何释放一些磁盘空间。</p>
<p>如果你的 Ubuntu 系统已经运行了至少一年，尽管系统是最新的，你仍然可能会觉得你的 Ubuntu 系统运行缓慢且滞后。</p>
<p>在过去，因为你想试验某一应用程序，或是在看到了它的好评推荐之后，而安装了许多应用程序，但你并没有删除它们。下面这些方法可以帮助你找出一些可以释放的隐藏磁盘空间。</p>
<h3>清理 Ubuntu 系统的步骤</h3>
<h4>1、清理 Apt 缓存</h4>
<p>Apt 缓存是 Ubuntu 系统保存你下载过的所有文件的地方，以供你之后可以查看它。大多数用户不会去清理 Apt 缓存，而它却可能会占用数百兆字节。</p>
<p>打开终端，并运行以下命令，可以得到你的 Apt 缓存有多少：</p>
<div class="highlight"><pre><span></span><code><span class="n">du</span><span class="w"> </span><span class="o">-</span><span class="n">sh</span><span class="w"> </span><span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">cache</span><span class="o">/</span><span class="n">apt</span><span class="o">/</span><span class="n">archives</span>
</code></pre></div>

<p><img alt="" src="/data/attachment/album/202209/30/124344v4bel4mslbvzbde9.png"></p>
<p>如果你的 Ubuntu 系统已经安装了很久的话，你将看到这个数字非常大。运行以下命令来清理 Apt 缓存。</p>
<div class="highlight"><pre><span></span><code>sudo apt-get clean
</code></pre></div>

<h4>2、删除无用的内核</h4>
<p>如果你已经运行 Ubuntu 系统超过了一年，那么你很可能安装多个内核。如果你的硬件是最新的，并且与 Linux 兼容而没有太多配置，你可以删除旧的内核，保留最新的内核。</p>
<p>在终端运行以下命令来删除旧的内核：</p>
<div class="highlight"><pre><span></span><code>sudo apt-get autoremove --purge
</code></pre></div>

<p><img alt="Autoremove Purge" src="/data/attachment/album/202209/30/124355cj8ie9jzh778or8r.png"></p>
<h4>3、删除旧的应用程序和软件包</h4>
<p>如果你是一个喜欢尝试 Linux 应用程序的人，那么你的系统中肯定有一些不再需要的没用的应用程序。</p>
<p>现在，你可能已经忘记了你安装过的应用程序名称。不过你可以在终端运行以下命令来查看你最近安装的内容：</p>
<p>你会得到通过 <code>apt</code> 命令安装的应用程序和软件包的列表：</p>
<div class="highlight"><pre><span></span><code>history | grep &quot;apt-get install&quot;
</code></pre></div>

<p><img alt="List of apt installed app – History" src="/data/attachment/album/202209/30/124407z8nn4w60ri6ygwu5.png"></p>
<p>你将得到最近安装的应用程序列表：</p>
<div class="highlight"><pre><span></span><code><span class="n">grep</span><span class="w"> </span><span class="s2">&quot; install &quot;</span><span class="w"> </span><span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="nb">log</span><span class="o">/</span><span class="n">dpkg</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="mi">1</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">zgrep</span><span class="w"> </span><span class="s2">&quot; install &quot;</span><span class="w"> </span><span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="nb">log</span><span class="o">/</span><span class="n">dpkg</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="mf">2.</span><span class="n">gz</span>
</code></pre></div>

<p>你可以运行以下命令来删除应用程序和软件包：</p>
<div class="highlight"><pre><span></span><code><span class="nx">sudo</span><span class="w"> </span><span class="nx">apt</span><span class="w"> </span><span class="nx">remove</span><span class="w"> </span><span class="nx">app1</span><span class="w"> </span><span class="nx">package1</span>
</code></pre></div>

<h4>4、使用系统清理应用</h4>
<p>有大量免费和原生的系统 <a href="https://www.debugpoint.com/2017/02/stacer-is-a-system-monitoring-and-clean-up-utility-for-ubuntu/">清理应用</a> 可以使用。但是，我认为 <a href="https://www.bleachbit.org">BleachBit</a> 是清理系统最好的一个应用，因为它经久不衰。</p>
<p>使用以下命令安装 BleachBit 或通过应用商店安装。</p>
<div class="highlight"><pre><span></span><code>sudo apt install bleachbit
</code></pre></div>

<p>安装后，打开 BleachBit，并运行扫描。它会向你显示浏览器占用的所有缓存文件、临时文件、垃圾等，你只需单击一个按钮即可清理它。</p>
<p><img alt="" src="/data/attachment/album/202209/30/124414akyk09hq9g0e4x88.png"></p>
<h3>附送技巧</h3>
<h4>清理 Flatpak 软件包</h4>
<p>Flatpak 应用程序和<ruby> 运行时 <rt>  runtime </rt></ruby>会占用大量磁盘空间。因为在设计上，Flatpak 的可执行文件结合了运行时。尽管运行时可以在相关应用程序之间共享，但许多未使用的剩余运行时可能会占用你的磁盘空间。</p>
<p>删除一些未使用的 Flatpak 包最直接的方法是下面的命令。在终端运行这一命令。</p>
<div class="highlight"><pre><span></span><code>flatpak uninstall --unused
</code></pre></div>

<p>可以参考 <a href="https://www.debugpoint.com/clean-up-flatpak/">这篇文章</a> 了解有关 Flatpak 包的更多信息。</p>
<h4>清理未使用的 Snap 项目</h4>
<p>如果你使用 Ubuntu 系统，那么你很有可能使用的是 Snap 软件包。随着时间的推移，Snap 会积累不相关的运行时和文件。你可以使用以下脚本来清理一些没用的 snap 运行时。</p>
<p>将下面的脚本复制到一个新文件中，并将其命名为 <code>clean_snap.sh</code>：</p>
<p>然后使用 <code>chmod +x clean_snap.sh</code> 命令来赋予它可执行权限，并通过 <code>./clean_snap.sh</code> 运行</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash  </span>
<span class="c1">#Removes old revisions of snaps  </span>
<span class="c1">#CLOSE ALL SNAPS BEFORE RUNNING THIS  </span>
<span class="nb">set</span><span class="w"> </span>-eu<span class="w">  </span>
<span class="nv">LANG</span><span class="o">=</span>en_US.UTF-8<span class="w"> </span>
snap<span class="w"> </span>list<span class="w"> </span>--all<span class="w"> </span><span class="p">|</span><span class="w"> </span>awk<span class="w"> </span><span class="s1">&#39;/disabled/{print $1, $3}&#39;</span><span class="w"> </span><span class="p">|</span>
<span class="w">      </span><span class="k">while</span><span class="w"> </span><span class="nb">read</span><span class="w"> </span>snapname<span class="w"> </span>revision<span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">          </span>snap<span class="w"> </span>remove<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$snapname</span><span class="s2">&quot;</span><span class="w"> </span>--revision<span class="o">=</span><span class="s2">&quot;</span><span class="nv">$revision</span><span class="s2">&quot;</span>
<span class="w">      </span><span class="k">done</span>
</code></pre></div>

<p>可以参考 <a href="https://www.debugpoint.com/clean-up-snap/">这篇文章</a> 了解有关清理 Snap 包的更多信息。</p>
<h4>更多技巧</h4>
<p>你还可以使用以下命令来手动搜索大文件。</p>
<div class="highlight"><pre><span></span><code><span class="nx">find</span><span class="w"> </span><span class="o">/</span><span class="nx">home</span><span class="w"> </span><span class="o">-</span><span class="k">type</span><span class="w"> </span><span class="nx">f</span><span class="w"> </span><span class="o">-</span><span class="nx">exec</span><span class="w"> </span><span class="nx">du</span><span class="w"> </span><span class="o">-</span><span class="nx">h</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nx">sort</span><span class="w"> </span><span class="o">-</span><span class="nx">hr</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nx">head</span><span class="w"> </span><span class="o">-</span><span class="mi">20</span>
</code></pre></div>

<p>例如，运行以下命令，你会得到根目录 <code>/</code> 中的前 20 个大文件。现在你可以查看大文件，并使用文件管理器手动删除它们。请注意删除文件时要非常小心。尽量不要涉及 <code>/home</code> 目录以外的任何内容。</p>
<p><img alt="Find Large files in Linux" src="/data/attachment/album/202209/30/124424r09untu4uumcx9k3.png"></p>
<h3>总结</h3>
<p>这样就完成了。如果你按照上述步骤操作，你一定能够释放 Ubuntu 系统中的一些空间，现在你的系统有剩余空间了。你可以按照这些措施来清理 Ubuntu 系统。不要忘记使用最新的软件包，使你的系统保持到最新。</p>
<p>?️ 如果你认为使用上述的技巧可以释放一些磁盘空间，并使得你的 Ubuntu 更快了，请在下方评论区留言。你通常又是使用什么命令来清理你的 Ubuntu 系统？</p>
<p>快留言告诉我吧。</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>