<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>使用 Podman Desktop 在 Fedora Linux 上管理容器</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Author: Mehdi Haghgoo Podman Desktop 是一个开源 GUI 应用，用于在 Linux、macOS 和 Windows 上管理容器。 从历史上看，开发人员一直使用 Docker Desktop 对容器进行图形化管理 …" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">linux_cn</a></h1>
                <nav><ul>
                    <li><a href="/category/chuan-shan-jia-zhuan-fang">穿山甲专访</a></li>
                    <li><a href="/category/dai-ma-ying-xiong">代码英雄</a></li>
                    <li><a href="/category/fen-xiang">分享</a></li>
                    <li><a href="/category/guan-dian">观点</a></li>
                    <li><a href="/category/huo-dong">活动</a></li>
                    <li><a href="/category/ji-ke-man-hua">极客漫画</a></li>
                    <li><a href="/category/ji-zhu">技术</a></li>
                    <li><a href="/category/kai-yuan-zhi-hui">开源智慧</a></li>
                    <li><a href="/category/linux-fa-xing-ban">Linux 发行版</a></li>
                    <li><a href="/category/mei-ri-an-quan-zi-xun">每日安全资讯</a></li>
                    <li><a href="/category/misc">Misc</a></li>
                    <li><a href="/category/qu-kuai-lian">区块链</a></li>
                    <li class="active"><a href="/category/rong-qi-yu-yun">容器与云</a></li>
                    <li><a href="/category/ruan-jian-kai-fa">软件开发</a></li>
                    <li><a href="/category/shu-mei-pai">树莓派</a></li>
                    <li><a href="/category/xi-tong-yun-wei">系统运维</a></li>
                    <li><a href="/category/xin-wen">新闻</a></li>
                    <li><a href="/category/ying-he-guan-cha">硬核观察</a></li>
                    <li><a href="/category/zhi-ye-sheng-ya">职业生涯</a></li>
                    <li><a href="/category/zhong-jiang-ming-dan">中奖名单</a></li>
                    <li><a href="/category/zhuo-mian-ying-yong">桌面应用</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2022/09/shi-yong-podman-desktop-zai-fedora-linux-shang-guan-li-rong-qi.html" rel="bookmark"
           title="Permalink to 使用 Podman Desktop 在 Fedora Linux 上管理容器">使用 Podman Desktop 在 Fedora Linux 上管理容器</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2022-09-22T15:53:52+02:00">
                Published: Thu 22 September 2022
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/linux-fans-from-china.html">linux fans from china</a>
        </address>
<p>In <a href="/category/rong-qi-yu-yun">容器与云</a>.</p>

</footer><!-- /.post-info -->      <p>Author: Mehdi Haghgoo</p>
<p><img alt="" src="/data/attachment/album/202209/22/155354grmr8kku8qujbku3.jpg"></p>
<blockquote>
<p>Podman Desktop 是一个开源 GUI 应用，用于在 Linux、macOS 和 Windows 上管理容器。</p>
</blockquote>
<p>从历史上看，开发人员一直使用 Docker Desktop 对容器进行图形化管理。这适用于那些安装了 Docker Daemon 和 Docker CLI 的人。然而，对于那些使用无守护进程的 Podman 工具的人来说，虽然有一些 Podman 前端，如 <a href="https://github.com/marhkb/pods">Pods</a>、<a href="https://github.com/iongion/podman-desktop-companion">Podman desktop companion</a> 和 <a href="https://github.com/cockpit-project/cockpit/">Cockpit</a>，但没有官方应用。现在不是这种情况了。有了 Podman Desktop！</p>
<p>本文将讨论由红帽和其他开源贡献者开发的 Podman Desktop 的特性、安装和使用。</p>
<h3>安装</h3>
<p>要在 Fedora Linux 上安装 Podman Desktop，请访问 <a href="https://podman-desktop.io/">podman-desktop.io</a>，然后单击 “Download for Linux” 按钮。你将看到两个选项：Flatpak 和 zip。在这个例子中，我们使用的是 Flatpak。单击 “Flatpak” 链接后，通过双击文件在 GNOME 软件中打开它（如果你使用的是 GNOME）。你也可以通过终端安装它：</p>
<div class="highlight"><pre><span></span><code>flatpak install podman-desktop-X.X.X.flatpak
</code></pre></div>

<p>在上面的命令中，将 X.X.X 替换为你下载的特定版本。如果你下载了 zip 文件，那么解压缩存档，然后启动 Podman Desktop 应用的二进制文件。你还可以通过进入 GitHub 上项目的 <a href="https://github.com/containers/podman-desktop/releases/">发布</a> 页找到预发布版本。</p>
<h3>特性</h3>
<p>Podman Desktop 仍处于早期阶段。然而，它支持许多常见的容器操作，如创建容器镜像、运行容器等。此外，你可以在 “<ruby> 首选项 <rt>  Preferences </rt></ruby>” 的 “<ruby> 扩展 <rt>  Extensions </rt></ruby>” 部分下找到 Podman 扩展，你可以使用它来管理 macOS 和 Windows 上的 Podman 虚拟机。</p>
<p>此外，Podman Desktop 支持 Docker Desktop 扩展。你可以在 “<ruby> 首选项 <rt>  Preferences </rt></ruby>” 下的 “Docker Desktop Extensions” 安装此类扩展。应用窗口有两个窗格。左侧窄窗格显示应用的不同功能，右侧窗格是内容区域，它将根据左侧选择的内容显示相关信息。</p>
<p><img alt="Podman Desktop 0.0.6 在 Fedora 36 上运行" src="/data/attachment/album/202209/22/155355hb2dt2tq229n924d.png"></p>
<h3>演示</h3>
<p>为了全面了解 Podman Desktop 的功能，我们将从 Dockerfile 创建一个镜像并将其推送到注册中心，然后拉取并运行它，这一切都在 Podman Desktop 中完成。</p>
<h4>构建镜像</h4>
<p>第一步是通过在命令行中输入以下行来创建一个简单的 Dockerfile：</p>
<div class="highlight"><pre><span></span><code><span class="n">cat</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="n">EOF</span><span class="o">&gt;&gt;</span><span class="n">Dockerfile</span>
<span class="n">FROM</span><span class="w"> </span><span class="n">docker</span><span class="o">.</span><span class="n">io</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">httpd</span><span class="p">:</span><span class="mf">2.4</span>
<span class="n">COPY</span><span class="w"> </span><span class="o">.</span><span class="w"> </span><span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">www</span><span class="o">/</span><span class="n">html</span><span class="w"> </span>
<span class="n">WORKDIR</span><span class="w"> </span><span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">www</span><span class="o">/</span><span class="n">html</span><span class="w"> </span>

<span class="n">CMD</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;httpd&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;-D&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;FOREGROUND&quot;</span><span class="p">]</span>
<span class="n">EOF</span>
</code></pre></div>

<p>现在，点击 “<ruby> 镜像 <rt>  Images </rt></ruby>” 并按下 “<ruby> 构建镜像 <rt>  Build Image </rt></ruby>” 按钮。你将被带到一个新页面以指定 Dockerfile、构建上下文和镜像名称。在 Containerfile 路径下，单击并浏览以选择你的 Dockerfile。在镜像名称下，输入镜像的名称。如果要将镜像推送到容器注册中心，那么可以以 <code>example.com/username/repo:tag</code> 形式指定完全限定的镜像名称（FQIN）。在此示例中，我输入 <code>quay.io/codezombie/demo-httpd:latest</code>，因为我在 <code>quay.io</code> 上有一个名为 <code>demo-httpd</code> 的公共仓库。你可以按照类似的格式来指定容器注册中心（Quay、Docker Hub、GitHub Container Registry 等）的 FQIN。现在，按下 “<ruby> 构建 <rt>  Build </rt></ruby>” 按钮并等待构建完成。</p>
<h4>推送镜像</h4>
<p>构建完成后，就该推送镜像了。所以，我们需要在 Podman Desktop 中配置一个注册中心。进入 “<ruby> 首选项 <rt>  Preferences </rt></ruby>” -&gt; “<ruby> 注册中心 <rt>  Registries </rt></ruby>” 并按下 “<ruby> 添加注册中心 <rt>  Add registry </rt></ruby>” 按钮。</p>
<p><img alt="添加注册中心对话框" src="/data/attachment/album/202209/22/155356i2gkukyu2ujkiaky.png"></p>
<p>在 “<ruby> 添加注册中心 <rt>  Add registry </rt></ruby>” 对话框中，输入你的注册中心服务器地址和用户凭据，然后单击 “<ruby> 添加注册中心 <rt>  Add registry </rt></ruby>”。</p>
<p>现在，回到镜像列表中我的镜像，并按下上传图标将其推送到仓库。当你将鼠标悬停在设置中添加的注册中心名称开头的镜像名称上时（此演示中的 <code>quay.io</code>），镜像名称旁边会出现一个推送按钮。</p>
<p><img alt="将鼠标悬停在镜像名称上时出现的按钮" src="/data/attachment/album/202209/22/155356jvowll6lxdcbv2sc.png"></p>
<p><img alt="镜像通过 Podman Desktop 推送到仓库" src="/data/attachment/album/202209/22/155356uoo2rdodbo4lo7zt.png"></p>
<p>镜像被推送后，任何有权访问镜像仓库的人都可以拉取它。由于我的镜像仓库是公开的，因此你可以轻松地将其拉入 Podman Desktop。</p>
<h4>拉取镜像</h4>
<p>因此，为确保一切正常，请在本地删除此镜像并将其拉入 Podman Desktop。在列表中找到镜像并按删除图标将其删除。删除镜像后，单击 “<ruby> 拉取镜像 <rt>  Pull Image </rt></ruby>” 按钮。在 “<ruby> 要拉取的镜像 <rt>  Image to Pull </rt></ruby>” 输入完全限定名称，然后按 “<ruby> 拉取镜像 <rt>  Pull Image </rt></ruby>”。</p>
<p><img alt="Our container image is successfully pulled" src="/data/attachment/album/202209/22/155357e9jjtb2llzk9h990.png"></p>
<h4>创建一个容器</h4>
<p>作为 Podman Desktop 演示的最后一部分，让我们从镜像中启动一个容器并检查结果。转到 “<ruby> 容器 <rt>  Containers </rt></ruby>” 并按 “<ruby> 创建容器 <rt>  Create Container </rt></ruby>”。这将打开一个包含两个选项的对话框：“<ruby> 从 Containerfile/Dockerfile <rt>  From Containerfile/Dockerfile </rt></ruby>” 和 “<ruby> 从已有镜像 <rt>  From existing image </rt></ruby>”。按下 “<ruby> 从已有镜像 <rt>  From existing image </rt></ruby>”。这将进入镜像列表。在那里，选择我们要拉取的镜像。</p>
<p><img alt="在 Podman Desktop 中创建容器" src="/data/attachment/album/202209/22/155357fh3qz30wzxtwwfii.png"></p>
<p>现在，我们从列表中选择我们最近拉取的镜像，然后按它前面的 “<ruby> 运行 <rt>  Play </rt></ruby>” 按钮。在出现的对话框中，我输入 <code>demo-web</code> 作为容器名，输入 <code>8000</code> 作为端口映射，然后按下 “<ruby> 启动容器 <rt>  Start Container </rt></ruby>”。</p>
<p><img alt="Container configuration" src="/data/attachment/album/202209/22/155357p22233u82qy2ksks.png"></p>
<p>容器开始运行，我们可以通过运行以下命令检查 Apache 服务器的默认页面：</p>
<div class="highlight"><pre><span></span><code>curl http://localhost:8000
</code></pre></div>

<p><img alt="可以工作！" src="/data/attachment/album/202209/22/155357rzt86xn0olb2069m.png"></p>
<p>你还应该能够在容器列表中看到正在运行的容器，其状态已更改为 “<ruby> 运行中 <rt>  Running </rt></ruby>”。在那里，你会在容器前面找到可用的操作。例如，你可以单击终端图标打开 TTY 进入到容器中！</p>
<p><img alt="" src="/data/attachment/album/202209/22/155358bb5s8le351bbz8ss.png"></p>
<h3>接下来是什么</h3>
<p>Podman Desktop 还很年轻，处于 <a href="https://github.com/containers/podman-desktop">积极开发</a> 中。 GitHub 上有一个项目 <a href="https://github.com/orgs/containers/projects/2">路线图</a>，其中列出了令人兴奋的按需功能，包括：</p>
<ul>
<li>Kubernetes 集成</li>
<li>支持 Pod</li>
<li>任务管理器</li>
<li>卷支持</li>
<li>支持 Docker Compose</li>
<li>Kind 支持</li>
</ul>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>