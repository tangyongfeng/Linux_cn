<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>在自己的电脑上实验容器和荚</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Author: Seth Kenlon 通过这篇新的可下载指南开始探索容器技术的要领。 在电视剧 《 太空堡垒卡拉狄加 Battlestar Galactica 》中，这艘名副其实的巨型飞 …" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">linux_cn</a></h1>
                <nav><ul>
                    <li><a href="/category/chuan-shan-jia-zhuan-fang">穿山甲专访</a></li>
                    <li><a href="/category/dai-ma-ying-xiong">代码英雄</a></li>
                    <li><a href="/category/fen-xiang">分享</a></li>
                    <li><a href="/category/guan-dian">观点</a></li>
                    <li><a href="/category/huo-dong">活动</a></li>
                    <li><a href="/category/ji-ke-man-hua">极客漫画</a></li>
                    <li><a href="/category/ji-zhu">技术</a></li>
                    <li><a href="/category/kai-yuan-zhi-hui">开源智慧</a></li>
                    <li><a href="/category/linux-fa-xing-ban">Linux 发行版</a></li>
                    <li><a href="/category/mei-ri-an-quan-zi-xun">每日安全资讯</a></li>
                    <li><a href="/category/misc">Misc</a></li>
                    <li><a href="/category/qu-kuai-lian">区块链</a></li>
                    <li class="active"><a href="/category/rong-qi-yu-yun">容器与云</a></li>
                    <li><a href="/category/ruan-jian-kai-fa">软件开发</a></li>
                    <li><a href="/category/shu-mei-pai">树莓派</a></li>
                    <li><a href="/category/xi-tong-yun-wei">系统运维</a></li>
                    <li><a href="/category/xin-wen">新闻</a></li>
                    <li><a href="/category/ying-he-guan-cha">硬核观察</a></li>
                    <li><a href="/category/zhi-ye-sheng-ya">职业生涯</a></li>
                    <li><a href="/category/zhong-jiang-ming-dan">中奖名单</a></li>
                    <li><a href="/category/zhuo-mian-ying-yong">桌面应用</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2022/05/zai-zi-ji-de-dian-nao-shang-shi-yan-rong-qi-he-jia.html" rel="bookmark"
           title="Permalink to 在自己的电脑上实验容器和荚">在自己的电脑上实验容器和荚</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2022-05-14T10:28:00+02:00">
                Published: Sat 14 May 2022
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/linux-fans-from-china.html">linux fans from china</a>
        </address>
<p>In <a href="/category/rong-qi-yu-yun">容器与云</a>.</p>

</footer><!-- /.post-info -->      <p>Author: Seth Kenlon</p>
<blockquote>
<p>通过这篇新的可下载指南开始探索容器技术的要领。</p>
</blockquote>
<p><img alt="" src="/data/attachment/album/202205/14/102808n8u3pkff174431v7.jpg"></p>
<p>在电视剧 《<ruby> 太空堡垒卡拉狄加 <rt>  Battlestar Galactica </rt></ruby>》中，这艘名副其实的巨型飞船其实并没有做什么。它是船员们坚定的庇护所，是战略和协调的中心联络点，也是资源管理的安全场所。而 <ruby> 卡布里安毒蛇号 <rt>  Caprican Vipers </rt></ruby> 这种单人的独立太空船，出去对付邪恶的<ruby> 赛昂人 <rt>  Cylons </rt></ruby>和其他太空中的危险。他们也从不只派一两艘毒蛇号出去。他们派了很多。这许许多多的冗余的飞船具有基本相同的能力和目的，但由于它们非常灵活和数量众多，它们总是能够处理每个星期都在威胁战星的任何问题。</p>
<p>如果你认为你感到这像是一个正在发展中的比喻，那么你是对的。现代的“云”大而无当，是分布在很远距离的大量基础设施的集合体。它具有强大的能力，但如果你将其视为普通计算机，就会浪费了它的大部分能力。当你想要处理来自数百万个输入源的大量数据时，把你的解决方案（无论它是采用应用、网站、数据库、服务器还是其他形式）打包起来，并发送该解决方案的微小镜像来处理数据集群，实际上是更有效的。当然，这些都是 “<ruby> 容器 <rt>  container </rt></ruby>”，它们是云的劳动力。它们是你发送来处理服务请求的小型解决方案工厂，并且由于你可以根据任何给定时间传入的请求生成所需要的数量，因此理论上它们是取之不尽的。</p>
<h3>在家里使用容器</h3>
<p>如果你没有大量的传入请求需要处理，你可能会想知道容器给你带来什么好处。不过，在个人电脑上使用容器确实有其用途。</p>
<h4>容器作为虚拟环境</h4>
<p>通过 Podman、LXC 和 Docker 等工具，你可以像以往运行虚拟机一样运行容器。不过，与虚拟机不同，容器没有因模拟固件和硬件而产生的开销。</p>
<p>你可以从公共仓库下载容器镜像，启动一个最小化的 Linux 环境，并将其作为命令或开发的测试场所。例如，假设你想试试你在 Slackware Linux 上构建的一个应用。首先，在仓库中搜索一个合适的镜像：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>podman<span class="w"> </span>search<span class="w"> </span>slackware
</code></pre></div>

<p>然后选择一个镜像，作为你的容器的基础：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>podman<span class="w"> </span>run<span class="w"> </span>-it<span class="w"> </span>--name<span class="w"> </span>slackware<span class="w"> </span>vbatts/slackware
sh-4.3#<span class="w"> </span>grep<span class="w"> </span>-i<span class="w"> </span>^NAME<span class="se">\=</span><span class="w"> </span>/etc/os-release
<span class="nv">NAME</span><span class="o">=</span>Slackware
</code></pre></div>

<h3>在工作中使用容器</h3>
<p>当然，容器不只是个精简的虚拟机。它们可以是针对为非常具体的需求提供的特定解决方案。如果你不熟悉容器，那么新系统管理员最常见的入门仪式之一可能会有所帮助：启动你的第一个 Web 服务器，但是在容器中。</p>
<p>首先，获取一个镜像。你可以使用 <code>podman search</code> 命令来搜索你喜欢的发行版，或者直接搜索你喜欢的 httpd 服务器。当使用容器时，我倾向于信任我在裸机上使用的相同发行版。</p>
<p>当你你找到一个镜像作为你的容器的基础，你就可以运行你的镜像。然而，正如这个术语所暗示的，容器是<em>封起来的</em>，所以如果你只是启动一个容器，你将无法访问标准的 HTTP 端口。你可以使用 <code>-p</code> 选项将一个容器端口映射到一个标准的网络端口：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>podman<span class="w"> </span>run<span class="w"> </span>-it<span class="w"> </span>-p<span class="w"> </span><span class="m">8080</span>:80<span class="w"> </span>docker.io/fedora/apache:latest
</code></pre></div>

<p>现在看看你本地主机上的 8080 端口：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>curl<span class="w"> </span>localhost:8080
Apache
</code></pre></div>

<p>成功了。</p>
<h3>了解更多</h3>
<p>容器拥有比模仿虚拟机更多的潜力。你可以将它们分组在 “<ruby> 荚 <rt>  pod </rt></ruby>” 中，构建复杂应用的自动部署，启动冗余服务以满足高需求等等。如果你刚刚开始使用容器，你可以 <a href="https://opensource.com/downloads/containers-pods-101-ebook">下载我们最新的电子书</a> 来学习该技术，甚至学习创建一个 “<ruby> 荚 <rt>  pod </rt></ruby>”，以便你可以运行 WordPress 和数据库。</p>
<blockquote>
<p><strong><a href="https://opensource.com/downloads/containers-pods-101-ebook">下载我们最新的电子书</a></strong></p>
</blockquote>
<p>（LCTT 译注：容器环境中使用的 “Pod” 一词，我以前根据容器相关术语多用航海领域名词比喻来将其译做“吊舱”，但也有同学表示了不同意见。根据对 Kubernetes [文档](https://kubernetes.io/docs/concepts/workloads/pods/#:~:text=A%20Pod%20(as%20in%20a,run%20in%20a%20shared%20context.)，这个词来自对<ruby> 鲸鱼荚 <rt>  pod of whales </rt></ruby>、<ruby> 豌豆荚 <rt>  pea pod </rt></ruby>的比喻，所以我觉得采用“荚”的翻译比较合适。—— wxy）</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>