<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>利用树莓派和乒乓球制作一个假日彩灯</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Author: Brian Mccafferty 这个树莓派教程用于制作一个可编程的 LED 灯光显示器，非常适合各种技能水平的人。 我喜欢圣诞装饰品和灯饰，因 …" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">linux_cn</a></h1>
                <nav><ul>
                    <li><a href="/category/chuan-shan-jia-zhuan-fang">穿山甲专访</a></li>
                    <li><a href="/category/dai-ma-ying-xiong">代码英雄</a></li>
                    <li><a href="/category/fen-xiang">分享</a></li>
                    <li><a href="/category/guan-dian">观点</a></li>
                    <li><a href="/category/huo-dong">活动</a></li>
                    <li><a href="/category/ji-ke-man-hua">极客漫画</a></li>
                    <li><a href="/category/ji-zhu">技术</a></li>
                    <li><a href="/category/kai-yuan-zhi-hui">开源智慧</a></li>
                    <li><a href="/category/linux-fa-xing-ban">Linux 发行版</a></li>
                    <li><a href="/category/mei-ri-an-quan-zi-xun">每日安全资讯</a></li>
                    <li><a href="/category/misc">Misc</a></li>
                    <li><a href="/category/qu-kuai-lian">区块链</a></li>
                    <li><a href="/category/rong-qi-yu-yun">容器与云</a></li>
                    <li><a href="/category/ruan-jian-kai-fa">软件开发</a></li>
                    <li class="active"><a href="/category/shu-mei-pai">树莓派</a></li>
                    <li><a href="/category/xi-tong-yun-wei">系统运维</a></li>
                    <li><a href="/category/xin-wen">新闻</a></li>
                    <li><a href="/category/ying-he-guan-cha">硬核观察</a></li>
                    <li><a href="/category/zhi-ye-sheng-ya">职业生涯</a></li>
                    <li><a href="/category/zhong-jiang-ming-dan">中奖名单</a></li>
                    <li><a href="/category/zhuo-mian-ying-yong">桌面应用</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2022/12/li-yong-shu-mei-pai-he-ping-pang-qiu-zhi-zuo-yi-ge-jia-ri-cai-deng.html" rel="bookmark"
           title="Permalink to 利用树莓派和乒乓球制作一个假日彩灯">利用树莓派和乒乓球制作一个假日彩灯</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2022-12-20T10:04:48+01:00">
                Published: Tue 20 December 2022
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/linux-fans-from-china.html">linux fans from china</a>
        </address>
<p>In <a href="/category/shu-mei-pai">树莓派</a>.</p>

</footer><!-- /.post-info -->      <p>Author: Brian Mccafferty</p>
<p><img alt="" src="/data/attachment/album/202212/20/095754r7q0z001lvx6p600.jpg"></p>
<blockquote>
<p>这个树莓派教程用于制作一个可编程的 LED 灯光显示器，非常适合各种技能水平的人。</p>
</blockquote>
<p>我喜欢圣诞装饰品和灯饰，因此很长一段时间以来我一直想做一个可编程的 LED 项目。最近，我制作了一个由 LED 灯、乒乓球和树莓派 Zero 组成的灯阵列。这个项目相对简单并且具有教学价值，因此我认为它非常值得分享。</p>
<p>整个彩灯由我设计，但其中一些灵感也来自 YouTube。你可以在我的 <a href="https://github.com/bmccafferty/ping-pong-led-wall">Git 存储库</a> 中找到源代码和制作说明。</p>
<h3>购物清单</h3>
<ul>
<li><a href="https://shop.pimoroni.com/products/raspberry-pi-zero-wh-with-pre-soldered-header">树莓派 Zero</a></li>
<li><a href="https://shop.pimoroni.com/products/pibow-zero-w">树莓派保护壳</a></li>
<li>5V 2A 的电源线</li>
<li>展架</li>
<li>255 个乒乓球</li>
<li>热熔胶枪和若干热熔胶棒</li>
<li>烙铁</li>
<li>焊锡丝</li>
<li>22 AWG 0.35mm 实芯线</li>
<li>10 米 WS2812(B) LED 灯带（每米 30 像素）</li>
<li>万用表</li>
<li>钢丝钳</li>
<li>剥线钳</li>
</ul>
<h3>设计树莓派的灯光效果</h3>
<p>这个设计是根据我展框的大小决定的。我在全球速卖通买到了每米 30 像素的灯带，它可以轻松地切成 0.5 米的长度，每条有 15 个 LED 灯。乒乓球的直径是 40 毫米，所以我测量并隔开 40 毫米划了线，LED 灯条放在每隔 40 毫米的中间部分，这就产生了 17 条线。因此我的灯光阵列是 15×17。你可以根据实际情况来调整尺寸。</p>
<p>为了给灯带和树莓派供电，我在电路板底部设置了数据线和电源线。我的 LED 灯不需要很多电，所以我使用树莓派 Zero 的 5V 输出 GPIO 为它们供电。当我以 50% 的亮度运行时，这个亮度已经足以在白天和晚上透过我的窗户看到。</p>
<h3>布线</h3>
<p>我从电路板的底部以之字形开始布线，这使得焊接非常容易，因为每行的末尾不必返回到每行的开头。</p>
<p>我的线路大致像这样（为清楚起见，这里进行了简化，实际上它一共有 17 行）：</p>
<div class="highlight"><pre><span></span><code>&lt;---------------\
                |
/---------------/
|
\---------------&lt; # 这里连接树莓派
</code></pre></div>

<h3>使用树莓派制作显示屏</h3>
<p>当设计和布线的工作完成后就可以开始制作显示屏了。</p>
<p>我在展板上测量并绘制了线路。我的灯带背面有胶带，所以我只需要取下背衬并将其贴在展板上。我检查了每个灯带的位置和数据线的方向，以确保灯带可以按照树莓派的指令正确串联起来。</p>
<p>连接好所有灯带后，我剪下三段长度相同的电线，并将每个灯带末端的电源线、数据线和接地线连接到其上方。</p>
<p><img alt="Connect each light strip at the end of each line." src="/data/attachment/album/202212/20/100354tlulluxeuclluhpm.jpg"></p>
<p>在线路连接完成后，我检查了每条灯带之间的电源线和地线之间的连接，以确保其连通性。我还检查了是否存在错误的桥接，所以我验证了电源线和地线之间的连接。我还进行了一些测试以确保所有灯都正常点亮（链路测试参阅 <a href="https://opensource.com#the-code">测试代码</a>）。</p>
<p>完成上述工作后，我开始在乒乓球上剪洞，用剪刀刺入乒乓球的底部，然后剪一个小洞让 LED 灯穿进去。手工不太行，每个球都不太一样，但效果真的很好。我使用的每米 30 个像素的 LED 灯，所以每个 LED 之间有大约 30 毫米的空隙。一个乒乓球是 40 毫米宽，但我不打算开始单独焊接每一个 LED！我想，这是很重要的。首先，我并不擅长焊接（正如我的照片所显示的），而且无论如何，我想“好吧，它们是乒乓球。我可以把它们压在一起！”</p>
<p>我是这样做的：</p>
<p>在 LED 灯上滴上热熔胶，然后在 LED 上放了一个乒乓球并按住大约五秒钟，就粘好了一个乒乓球。粘贴下一个乒乓球时我只需要挤着上一个乒乓球，就能让所有乒乓球都变得整齐了。我对它的外观很满意。它还有一个很好的好处，就是掩盖了我糟糕的焊接工作；)</p>
<p><img alt="It's a tight fit, but the 40mm ping pong balls fit in a 30mm space just fine." src="/data/attachment/album/202212/20/100410arrfbthgvdjw4te9.jpg"></p>
<p>我继续为余下的乒乓球进行焊接。尽管这个过程中有几个乒乓球被压碎了，但最终还是顺利完成了制作。</p>
<p><img alt="255 LEDs and 255 ping pong balls in an array." src="/data/attachment/album/202212/20/100419er37eu6neeatmetu.jpg"></p>
<h3>测试代码</h3>
<p>测试代码需要确保所有部件都能正常工作，为此我使用了这个 <a href="https://learn.adafruit.com/neopixels-on-raspberry-pi/python-usage">Adafruit 指南</a>，它以红、绿和蓝点亮每个 LED，然后依次进行循环。我在测试时使用它来确保我连接无误并且焊接正常。</p>
<p>在此之后，我在电子表格中设计了一个网格，将每个像素映射到一个网格位置。由于我的像素编号呈之字形排列，因此很难跟踪每个 LED（例如 A1 为 256，B1 为 226）。重新映射网格位置能使得我在构建图像时更容易。</p>
<p>在所有准备工作完成之后，我就可以在纸上和电子表格中设计图像，然后编码。于是我开始添加一些动画（使用循环并将像素变为一种颜色，然后变为另一种颜色）。</p>
<p>最终的结果还算顺利。</p>
<p><img alt="A Christmas gift in LED." src="/data/attachment/album/202212/20/100430ofhhsq7dw4h37bdz.jpg"></p>
<p><img alt="Reindeer painted with light." src="/data/attachment/album/202212/20/100438hwczghif9v01qr5b.jpg"></p>
<p><img alt="An LED snowflake." src="/data/attachment/album/202212/20/100445jhhgkds0kcups7zk.jpg"></p>
<h3>能玩一年的树莓派彩灯</h3>
<p>我不确定这是否已经完全完成了。自从把它摆放到橱窗里，几乎每个晚上我都会添加一些新的图像和动画。我已经在考虑除夕夜的时候要做成什么样了。它不会像圣诞装饰品一起在圣诞节后被放进储藏室。我只需要在上面显示其它图案，就能使它成为一个能玩一年的彩灯！我的一个朋友推荐了像素版马里奥，这听起来是个好主意！</p>
<p>我的代码仍然需要完善。例如，我做了一些滚动文本，但当我为文本的每个位置重新绘制时却花了很多时间。我想我可以用循环做一些事情，或者图像库可以帮助更轻松地滚动字母，并使添加文本更容易，而不是在每一步打开和关闭每个像素。</p>
<p>这里有一张照片记录了我制作的全过程：<a href="https://projects.bdm.scot/Xmas%20LED%20Wall%202020/">LED 乒乓墙</a>。</p>
<p>可以在此处观看它的运行视频：<a href="https://youtu.be/zc0501GzpMw">XMas 灯光展示</a>。</p>
<p>这个彩灯最终的效果我非常满意。以后我也会尝试更多利用 LED 彩灯完成的项目。我也鼓励大家亲自动手制作一个这样的彩灯，它会比你想象中更简单。</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>