<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>Perl 语言基础入门</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Author: Seth Kenlon 下载这份编程速查表，开始学习 Perl 的力量。 Perl 发布于 1988 年初，是一种后现代的编程语言，它通常被认为是一种脚本语 …" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">linux_cn</a></h1>
                <nav><ul>
                    <li><a href="/category/chuan-shan-jia-zhuan-fang">穿山甲专访</a></li>
                    <li><a href="/category/dai-ma-ying-xiong">代码英雄</a></li>
                    <li><a href="/category/fen-xiang">分享</a></li>
                    <li><a href="/category/guan-dian">观点</a></li>
                    <li><a href="/category/huo-dong">活动</a></li>
                    <li><a href="/category/ji-ke-man-hua">极客漫画</a></li>
                    <li><a href="/category/ji-zhu">技术</a></li>
                    <li><a href="/category/kai-yuan-zhi-hui">开源智慧</a></li>
                    <li><a href="/category/linux-fa-xing-ban">Linux 发行版</a></li>
                    <li><a href="/category/mei-ri-an-quan-zi-xun">每日安全资讯</a></li>
                    <li><a href="/category/misc">Misc</a></li>
                    <li><a href="/category/qu-kuai-lian">区块链</a></li>
                    <li><a href="/category/rong-qi-yu-yun">容器与云</a></li>
                    <li class="active"><a href="/category/ruan-jian-kai-fa">软件开发</a></li>
                    <li><a href="/category/shu-mei-pai">树莓派</a></li>
                    <li><a href="/category/xi-tong-yun-wei">系统运维</a></li>
                    <li><a href="/category/xin-wen">新闻</a></li>
                    <li><a href="/category/ying-he-guan-cha">硬核观察</a></li>
                    <li><a href="/category/zhi-ye-sheng-ya">职业生涯</a></li>
                    <li><a href="/category/zhong-jiang-ming-dan">中奖名单</a></li>
                    <li><a href="/category/zhuo-mian-ying-yong">桌面应用</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2022/02/perl-yu-yan-ji-chu-ru-men.html" rel="bookmark"
           title="Permalink to Perl 语言基础入门">Perl 语言基础入门</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2022-02-22T17:12:42+01:00">
                Published: Tue 22 February 2022
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/linux-fans-from-china.html">linux fans from china</a>
        </address>
<p>In <a href="/category/ruan-jian-kai-fa">软件开发</a>.</p>

</footer><!-- /.post-info -->      <p>Author: Seth Kenlon</p>
<blockquote>
<p>下载这份编程速查表，开始学习 Perl 的力量。</p>
</blockquote>
<p><img alt="" src="/data/attachment/album/202202/22/171233dlrpnjj09jz0tz0n.jpg" title="Woman sitting in front of her computer"></p>
<p>Perl 发布于 1988 年初，是一种后现代的编程语言，它通常被认为是一种脚本语言，但它也能进行面向对象的编程。它是一种成熟的语言，拥有 <a href="http://cpan.org/">数以万计的库</a>、GUI 框架，它有一种叫做 Raku 的衍生语言（即 Perl 6），以及一个活跃而热情的社区。它的开发者以其灵活性为荣。根据它的创造者 Larry Wall 的说法，Perl 并不对它的用户强加任何特定的编程风格，而且有不止一种方法来完成大多数事情。</p>
<p>Perl 非常健壮，它曾经被广泛使用，这使它成为新的程序员可以尝试的伟大语言。</p>
<ul>
<li><a href="https://opensource.com/downloads/perl-cheat-sheet">下载 Perl 速查表</a></li>
</ul>
<h3>Perl 基础知识</h3>
<p>在 Linux 和 macOS 上，你已经安装了 Perl。在 Windows 上，请从 <a href="https://www.perl.org/get.html">Perl 网站</a> 下载并安装它。</p>
<h4>Perl 表达式</h4>
<p>Perl 源代码的基本单位是 <em>表达式</em>，它是任何能返回一个 <em>值</em> 的东西。</p>
<p>例如，<code>1</code> 是一个表达式，它返回 <code>1</code> 的值。表达式 <code>2</code> 返回 <code>2</code> 的值，而 <code>a</code> 返回字母 <code>a</code>。</p>
<p>表达式可以更复杂。表达式 <code>$a + $b</code> 包含变量（数据的占位符）和加号（<code>+</code>），它是一个数学运算符。</p>
<h4>Perl 语句</h4>
<p>Perl 语句是由表达式组成的。每个语句都以分号（<code>;</code>）结束。</p>
<p>比如说：</p>
<div class="highlight"><pre><span></span><code>$c = $a + $b;
</code></pre></div>

<p>要尝试运行你自己的 Perl 语句，请打开终端并输入：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>perl<span class="w"> </span>-e<span class="w"> </span><span class="s1">&#39;print (&quot;Hello Perl\n&quot;);&#39;</span>
</code></pre></div>

<h4>Perl 语句块</h4>
<p>Perl 语句块可以用大括号（<code>{ }</code>）组合起来。块是一种有用的组织工具，但它们也为那些你可能只需要在程序的一小部分使用的数据提供了 <em>范围</em>。Python 用空白定义范围，LISP 用小括号，而 C 和 Java 用大括号。</p>
<h4>变量</h4>
<p>变量是数据的占位符。人类每天都在使用变量而没有意识到它。例如，“它”这个词可以指代任何名词，所以我们把它作为一个方便的占位符。“找到我的手机并把它拿给我”实际上是指“找到我的手机并把我的手机拿给我。”</p>
<p>对于计算机来说，变量不是一种便利，而是一种必需品。变量是计算机识别和跟踪数据的方式。</p>
<p>在 Perl 中，你通过声明一个变量名称和它的内容来创建变量。</p>
<p>在 Perl 中，变量名称前面总是有一个美元符号（<code>$</code>）。</p>
<p>这些简单的语句创建了一个包含 <code>"Hello"</code> 和 <code>"Perl"</code> 字符串的变量 <code>$var</code>，然后将该变量的内容打印到终端：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>perl<span class="w"> </span>-e<span class="w"> </span><span class="s1">&#39;$var = &quot;hello perl&quot;; print (&quot;$var\n&quot;);&#39;</span>
</code></pre></div>

<h4>流程控制</h4>
<p>大多数程序需要做出决定，这些选择由条件语句和循环来定义和控制。<code>if</code> 语句是最直观的一种。Perl 可以测试一个特定的条件，然后 Perl 根据这个条件决定程序如何进行。其语法类似于 C 或 Java：</p>
<div class="highlight"><pre><span></span><code><span class="k">my</span><span class="w"> </span><span class="nv">$var</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>

<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nv">$var</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">print</span><span class="p">(</span><span class="s">&quot;Hello Perl\n&quot;</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">elsif</span><span class="w"> </span><span class="p">(</span><span class="nv">$var</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">){</span>
<span class="w">  </span><span class="k">print</span><span class="p">(</span><span class="s">&quot;1 not found&quot;</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">print</span><span class="p">(</span><span class="s">&quot;Good-bye&quot;</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<p>Perl 也有一个简短的 <code>if</code> 语句的形式：</p>
<div class="highlight"><pre><span></span><code><span class="o">$</span><span class="k">var</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Hello Perl</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">$</span><span class="k">var</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
</code></pre></div>

<h4>函数和子程序</h4>
<p>尽可能多地重复使用代码是一种有益的编程习惯。这种做法可以减少错误（或将错误合并到一个代码块中，因此你只需修复一次），使你的程序更容易维护，简化你的程序逻辑，并使其他开发者更容易理解它。</p>
<p>在 Perl 中，你可以创建一个 <em>子程序</em>，它接受输入（存储在一个特殊的数组变量 <code>@_</code> 中）并可能返回一个输出。你可以使用关键字 <code>sub</code> 来创建一个子程序，后面跟一个你选择的子程序名称，然后是代码块：</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env perl</span>

<span class="k">use</span><span class="w"> </span><span class="nn">strict</span><span class="p">;</span>
<span class="k">use</span><span class="w"> </span><span class="nn">warnings</span><span class="p">;</span>

<span class="k">sub</span><span class="w"> </span><span class="nf">sum</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">my</span><span class="w"> </span><span class="nv">$total</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>

<span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="k">my</span><span class="w"> </span><span class="nv">$i</span><span class="p">(</span><span class="nv">@_</span><span class="p">){</span>
<span class="w">    </span><span class="nv">$total</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="nv">$i</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="k">return</span><span class="p">(</span><span class="nv">$total</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">print</span><span class="w"> </span><span class="o">&amp;</span><span class="n">sum</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="w"> </span><span class="s">&quot;\n&quot;</span><span class="p">;</span>
</code></pre></div>

<p>当然，Perl 有许多子程序，你不必自己去创建。有些是内置于 Perl 中的，而社区库则提供了其他的。</p>
<h3>用 Perl 编写脚本</h3>
<p>Perl 可以被编译，也可以作为一种解释型的脚本语言使用。后者是刚入门时最简单的选择，特别是如果你已经熟悉了 Python 或 <a href="https://opensource.com/article/20/4/bash-programming-guide">shell 脚本</a>。</p>
<p>这里有一个用 Perl 编写的简单的掷骰子脚本。把它读一遍，看看你是否能跟上它。</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env perl</span>

<span class="k">use</span><span class="w"> </span><span class="nn">warnings</span><span class="p">;</span>
<span class="k">use</span><span class="w"> </span><span class="nn">strict</span><span class="p">;</span>
<span class="k">use</span><span class="w"> </span><span class="nn">utf8</span><span class="p">;</span>
<span class="nb">binmode</span><span class="w"> </span><span class="bp">STDOUT</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;:encoding(UTF-8)&quot;</span><span class="p">;</span>
<span class="nb">binmode</span><span class="w"> </span><span class="bp">STDERR</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;:encoding(UTF-8)&quot;</span><span class="p">;</span>

<span class="k">my</span><span class="w"> </span><span class="nv">$sides</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">shift</span><span class="w"> </span><span class="ow">or</span>
<span class="w">  </span><span class="nb">die</span><span class="w"> </span><span class="s">&quot;\nYou must provide a number of sides for the dice.\n&quot;</span><span class="p">;</span>

<span class="k">sub</span><span class="w"> </span><span class="nf">roller</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">my</span><span class="w"> </span><span class="p">(</span><span class="nv">$s</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">@_</span><span class="p">;</span>

<span class="w">    </span><span class="k">my</span><span class="w"> </span><span class="nv">$roll</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">int</span><span class="p">(</span><span class="nb">rand</span><span class="p">(</span><span class="nv">$s</span><span class="p">));</span>
<span class="w">    </span><span class="k">print</span><span class="w"> </span><span class="nv">$roll</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;\n&quot;</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">roller</span><span class="p">(</span><span class="nv">$sides</span><span class="p">);</span>
</code></pre></div>

<p>第一行告诉你的 <a href="https://opensource.com/article/19/7/what-posix-richard-stallman-explains">POSIX</a> 终端要使用什么可执行文件来运行该脚本。</p>
<p>接下来的五行是模板式的包含内容和设置。<code>use warnings</code> 的设置告诉 Perl 检查错误，并在终端对它发现的问题发出警告。<code>use strict</code> 设置告诉 Perl 在发现错误时不要运行脚本。</p>
<p>这两个设置都可以帮助你在代码中的错误导致问题之前发现它们，所以通常最好在你的脚本中激活它们。</p>
<p>脚本的主要部分开始于对脚本从终端启动时提供给它的 <a href="https://opensource.com/article/21/8/linux-terminal">参数</a> 进行分析。在这种情况下，预期的参数是一个虚拟骰子的所需的面的数量。Perl 将其视为一个堆栈，并使用 <code>shift</code> 函数将其分配给变量 <code>$sides</code>。当没有提供参数时，<code>die</code> 函数会被触发。</p>
<p>用 <code>sub</code> 关键字创建的 <code>roller</code> 子程序（或函数），使用 Perl 的 <code>rand</code> 函数生成一个伪随机数，最大不超过参数的数字。这意味着在这个程序中，一个 6 面的骰子不可能掷出 6，但它可以掷出 0。这对计算机和程序员来说是没有问题的，但对大多数用户来说，这是令人困惑的，所以它可以被视为一个 bug。为了在这个 bug 成为问题之前解决它，下一行在随机数上加 1，并将结果作为掷骰子的结果打印出来。</p>
<p>当引用传递给子程序的参数时，你引用的是特殊变量 <code>@_</code>，它是一个数组，包含了函数调用时括号内的所有内容。然而，当从数组中提取一个值时，数据被转换成一个标量（例子中的 <code>$s</code> 变量）。</p>
<p>子程序在被调用之前不会运行，所以脚本的最后一行调用了自定义的 <code>roller</code> 函数，将命令的参数作为函数的参数。</p>
<p>将该文件保存为 <code>dice.pl</code>，并标记为可执行：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>chmod<span class="w"> </span>+x<span class="w"> </span>dice.pl
</code></pre></div>

<p>最后，尝试运行它，为它提供一个最大的数字，从中选择其随机数：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>./dice.pl<span class="w"> </span><span class="m">20</span>
<span class="m">1</span>
$<span class="w"> </span>./dice.lisp<span class="w"> </span><span class="m">20</span>
<span class="m">7</span>
$<span class="w"> </span>./dice.lisp<span class="w"> </span><span class="m">20</span>
<span class="m">20</span>
</code></pre></div>

<p>没问题！</p>
<h3>Perl 速查表</h3>
<p>Perl 是一种有趣而强大的语言。尽管自从 Perl 成为默认的脚本语言后，Python、Ruby 和 Go 等新兴语言引起了许多人的注意，但 Perl 的功能并不弱。事实上，它比以往任何时候都要好，而且前途光明。</p>
<p>下次你想找一种更灵活的语言，并有简单的交付方式时，不妨试试 Perl，并<a href="https://opensource.com/downloads/perl-cheat-sheet">下载这个速查表</a>！</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>