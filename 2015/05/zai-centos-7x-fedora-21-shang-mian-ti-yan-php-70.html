<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>在 CentOS 7.x / Fedora 21 上面体验 PHP 7.0</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Author: Aun Raza PHP是一种为我们熟知的通用服务器网页脚本语言。非常多的在线网站都是用PHP编写的。PHP这些年来一直在持续进化，丰富其功能，变得易于使用，更好地组织的脚本语言。目前PHP的开发团队正筹备下一个PHP版本的发行，名字是PHP 7。现在的PHP版本为PHP …" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">linux_cn</a></h1>
                <nav><ul>
                    <li><a href="/category/chuan-shan-jia-zhuan-fang">穿山甲专访</a></li>
                    <li><a href="/category/dai-ma-ying-xiong">代码英雄</a></li>
                    <li><a href="/category/fen-xiang">分享</a></li>
                    <li><a href="/category/guan-dian">观点</a></li>
                    <li><a href="/category/huo-dong">活动</a></li>
                    <li><a href="/category/ji-ke-man-hua">极客漫画</a></li>
                    <li class="active"><a href="/category/ji-zhu">技术</a></li>
                    <li><a href="/category/kai-yuan-zhi-hui">开源智慧</a></li>
                    <li><a href="/category/linux-fa-xing-ban">Linux 发行版</a></li>
                    <li><a href="/category/mei-ri-an-quan-zi-xun">每日安全资讯</a></li>
                    <li><a href="/category/misc">Misc</a></li>
                    <li><a href="/category/qu-kuai-lian">区块链</a></li>
                    <li><a href="/category/rong-qi-yu-yun">容器与云</a></li>
                    <li><a href="/category/ruan-jian-kai-fa">软件开发</a></li>
                    <li><a href="/category/shu-mei-pai">树莓派</a></li>
                    <li><a href="/category/xi-tong-yun-wei">系统运维</a></li>
                    <li><a href="/category/xin-wen">新闻</a></li>
                    <li><a href="/category/ying-he-guan-cha">硬核观察</a></li>
                    <li><a href="/category/zhi-ye-sheng-ya">职业生涯</a></li>
                    <li><a href="/category/zhong-jiang-ming-dan">中奖名单</a></li>
                    <li><a href="/category/zhuo-mian-ying-yong">桌面应用</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2015/05/zai-centos-7x-fedora-21-shang-mian-ti-yan-php-70.html" rel="bookmark"
           title="Permalink to 在 CentOS 7.x / Fedora 21 上面体验 PHP 7.0">在 CentOS 7.x / Fedora 21 上面体验 PHP 7.0</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2015-05-25T09:39:09+02:00">
                Published: Mon 25 May 2015
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/linux-fans-from-china.html">linux fans from china</a>
        </address>
<p>In <a href="/category/ji-zhu">技术</a>.</p>

</footer><!-- /.post-info -->      <p>Author: Aun Raza</p>
<p>PHP是一种为我们熟知的通用服务器网页脚本语言。非常多的在线网站都是用PHP编写的。PHP这些年来一直在持续进化，丰富其功能，变得易于使用，更好地组织的脚本语言。目前PHP的开发团队正筹备下一个PHP版本的发行，名字是PHP 7。现在的PHP版本为PHP 5.6，可能你清楚PHP 6已经流产了，PHP 7的支持者们不希望下一个重要的版本被其他分支混淆，即过去已经停止很久的PHP 6。所以决定下一个PHP主要的发行版本叫PHP 7，而不是PHP 6。PHP 7.0预计在今年十一月份发行。</p>
<p>在下一代主要PHP版本里有一些不错的功能：</p>
<ul>
<li>为了改善执行效率与内存占用，新的版本添加了PHPNG功能。</li>
<li>引入了JIT引擎来动态编译Zend操作码为自然机器码，以此来达到更快的处理性能。这项功能允许随后的程序调用同一份代码，这样会运行快很多。</li>
<li>AST（抽象语法树）是最新添加的功能，它可以增强支持PHP的扩展性和用户应用。</li>
<li>添加异步编程功能以支持同一个请求中的并行任务。</li>
<li>新的版本会支持独立的多线程网页服务器，这样可以使用一个单独的存储池处理很多并发的请求。</li>
</ul>
<p><img alt="" src="/data/attachment/album/201505/25/093913g7xok2izc7is2dol.png"></p>
<h3>在CentOS/Fedora上安装PHP 7</h3>
<p>让我们来看看怎样在CentOS 7和Fedora 21安装PHP7。为了安装PHP7，我们首先需要克隆php-src 仓库。当克隆工作完成，我们再配置和编译它。进行下一步之前，我们要确保已经在LInux系统下安装了如下的组件，否则PHP编译会返回错误中止。</p>
<ul>
<li>Git</li>
<li>autoconf</li>
<li>gcc</li>
<li>bison</li>
</ul>
<p>所有上面提到的要求可以使用Yum软件包管理器安装。以下一条命令即可完成：</p>
<div class="highlight"><pre><span></span><code>yum install git autoconf gcc bison
</code></pre></div>

<p>准备好开始安装PHP7了吗？让我们先创建一个PHP7目录，作为你的当前工作目录。</p>
<div class="highlight"><pre><span></span><code>mkdir php7
cd php7
</code></pre></div>

<p>现在克隆php-src仓库，在终端里运行下面的命令。</p>
<div class="highlight"><pre><span></span><code>git clone https://git.php.net/repository/php-src.git
</code></pre></div>

<p>工作应该会在几分钟后完成，这里是一个样例输出，你应该会在任务完成时看见。</p>
<div class="highlight"><pre><span></span><code><span class="o">[</span><span class="n">root@localhost php7</span><span class="o">]</span><span class="err">#</span><span class="w"> </span><span class="n">git</span><span class="w"> </span><span class="n">clone</span><span class="w"> </span><span class="nl">https</span><span class="p">:</span><span class="o">//</span><span class="n">git</span><span class="p">.</span><span class="n">php</span><span class="p">.</span><span class="n">net</span><span class="o">/</span><span class="n">repository</span><span class="o">/</span><span class="n">php</span><span class="o">-</span><span class="n">src</span><span class="p">.</span><span class="n">git</span>
<span class="n">Cloning</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="s1">&#39;php-src&#39;</span><span class="p">...</span>
<span class="nl">remote</span><span class="p">:</span><span class="w"> </span><span class="n">Counting</span><span class="w"> </span><span class="nl">objects</span><span class="p">:</span><span class="w"> </span><span class="mi">615064</span><span class="p">,</span><span class="w"> </span><span class="n">done</span><span class="p">.</span>
<span class="nl">remote</span><span class="p">:</span><span class="w"> </span><span class="n">Compressing</span><span class="w"> </span><span class="nl">objects</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="o">%</span><span class="w"> </span><span class="p">(</span><span class="mi">127800</span><span class="o">/</span><span class="mi">127800</span><span class="p">),</span><span class="w"> </span><span class="n">done</span><span class="p">.</span>
<span class="nl">remote</span><span class="p">:</span><span class="w"> </span><span class="n">Total</span><span class="w"> </span><span class="mi">615064</span><span class="w"> </span><span class="p">(</span><span class="n">delta</span><span class="w"> </span><span class="mi">492063</span><span class="p">),</span><span class="w"> </span><span class="n">reused</span><span class="w"> </span><span class="mi">608718</span><span class="w"> </span><span class="p">(</span><span class="n">delta</span><span class="w"> </span><span class="mi">485944</span><span class="p">)</span>
<span class="n">Receiving</span><span class="w"> </span><span class="nl">objects</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="o">%</span><span class="w"> </span><span class="p">(</span><span class="mi">615064</span><span class="o">/</span><span class="mi">615064</span><span class="p">),</span><span class="w"> </span><span class="mf">152.32</span><span class="w"> </span><span class="n">MiB</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mf">16.97</span><span class="w"> </span><span class="n">MiB</span><span class="o">/</span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="n">done</span><span class="p">.</span>
<span class="n">Resolving</span><span class="w"> </span><span class="nl">deltas</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="o">%</span><span class="w"> </span><span class="p">(</span><span class="mi">492063</span><span class="o">/</span><span class="mi">492063</span><span class="p">),</span><span class="w"> </span><span class="n">done</span><span class="p">.</span>
</code></pre></div>

<p>让我们来配置，编译PHP7，在终端运行下面的命令，开始配置工作：</p>
<div class="highlight"><pre><span></span><code>cd php-src
./buildconf
</code></pre></div>

<p>下面是./buildconf命令的样例输出。</p>
<div class="highlight"><pre><span></span><code><span class="o">[</span><span class="n">root@localhost php-src</span><span class="o">]</span><span class="err">#</span><span class="w"> </span><span class="p">.</span><span class="o">/</span><span class="n">buildconf</span>
<span class="nl">buildconf</span><span class="p">:</span><span class="w"> </span><span class="n">checking</span><span class="w"> </span><span class="n">installation</span><span class="p">...</span>
<span class="nl">buildconf</span><span class="p">:</span><span class="w"> </span><span class="n">autoconf</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="mf">2.69</span><span class="w"> </span><span class="p">(</span><span class="n">ok</span><span class="p">)</span>
<span class="n">rebuilding</span><span class="w"> </span><span class="n">aclocal</span><span class="p">.</span><span class="n">m4</span>
<span class="n">rebuilding</span><span class="w"> </span><span class="n">configure</span>
<span class="n">rebuilding</span><span class="w"> </span><span class="n">main</span><span class="o">/</span><span class="n">php_config</span><span class="p">.</span><span class="n">h</span><span class="p">.</span><span class="ow">in</span>
</code></pre></div>

<p>使用下面的命令，继续配置进程：</p>
<div class="highlight"><pre><span></span><code><span class="p">.</span><span class="o">/</span><span class="nx">configure</span><span class="w"> </span>\
<span class="o">--</span><span class="nx">prefix</span><span class="p">=</span><span class="err">$</span><span class="nx">HOME</span><span class="o">/</span><span class="nx">php7</span><span class="o">/</span><span class="nx">usr</span><span class="w"> </span>\
<span class="o">--</span><span class="nx">with</span><span class="o">-</span><span class="nx">config</span><span class="o">-</span><span class="nx">file</span><span class="o">-</span><span class="nx">path</span><span class="p">=</span><span class="err">$</span><span class="nx">HOME</span><span class="o">/</span><span class="nx">php7</span><span class="o">/</span><span class="nx">usr</span><span class="o">/</span><span class="nx">etc</span><span class="w"> </span>\
<span class="o">--</span><span class="nx">enable</span><span class="o">-</span><span class="nx">mbstring</span><span class="w"> </span>\
<span class="o">--</span><span class="nx">enable</span><span class="o">-</span><span class="nx">zip</span><span class="w"> </span>\
<span class="o">--</span><span class="nx">enable</span><span class="o">-</span><span class="nx">bcmath</span><span class="w"> </span>\
<span class="o">--</span><span class="nx">enable</span><span class="o">-</span><span class="nx">pcntl</span><span class="w"> </span>\
<span class="o">--</span><span class="nx">enable</span><span class="o">-</span><span class="nx">ftp</span><span class="w"> </span>\
<span class="o">--</span><span class="nx">enable</span><span class="o">-</span><span class="nx">exif</span><span class="w"> </span>\
<span class="o">--</span><span class="nx">enable</span><span class="o">-</span><span class="nx">calendar</span><span class="w"> </span>\
<span class="o">--</span><span class="nx">enable</span><span class="o">-</span><span class="nx">sysvmsg</span><span class="w"> </span>\
<span class="o">--</span><span class="nx">enable</span><span class="o">-</span><span class="nx">sysvsem</span><span class="w"> </span>\
<span class="o">--</span><span class="nx">enable</span><span class="o">-</span><span class="nx">sysvshm</span><span class="w"> </span>\
<span class="o">--</span><span class="nx">enable</span><span class="o">-</span><span class="nx">wddx</span><span class="w"> </span>\
<span class="o">--</span><span class="nx">with</span><span class="o">-</span><span class="nx">curl</span><span class="w"> </span>\
<span class="o">--</span><span class="nx">with</span><span class="o">-</span><span class="nx">mcrypt</span><span class="w"> </span>\
<span class="o">--</span><span class="nx">with</span><span class="o">-</span><span class="nx">iconv</span><span class="w"> </span>\
<span class="o">--</span><span class="nx">with</span><span class="o">-</span><span class="nx">gmp</span><span class="w"> </span>\
<span class="o">--</span><span class="nx">with</span><span class="o">-</span><span class="nx">pspell</span><span class="w"> </span>\
<span class="o">--</span><span class="nx">with</span><span class="o">-</span><span class="nx">gd</span><span class="w"> </span>\
<span class="o">--</span><span class="nx">with</span><span class="o">-</span><span class="nx">jpeg</span><span class="o">-</span><span class="nx">dir</span><span class="p">=</span><span class="o">/</span><span class="nx">usr</span><span class="w"> </span>\
<span class="o">--</span><span class="nx">with</span><span class="o">-</span><span class="nx">png</span><span class="o">-</span><span class="nx">dir</span><span class="p">=</span><span class="o">/</span><span class="nx">usr</span><span class="w"> </span>\
<span class="o">--</span><span class="nx">with</span><span class="o">-</span><span class="nx">zlib</span><span class="o">-</span><span class="nx">dir</span><span class="p">=</span><span class="o">/</span><span class="nx">usr</span><span class="w"> </span>\
<span class="o">--</span><span class="nx">with</span><span class="o">-</span><span class="nx">xpm</span><span class="o">-</span><span class="nx">dir</span><span class="p">=</span><span class="o">/</span><span class="nx">usr</span><span class="w"> </span>\
<span class="o">--</span><span class="nx">with</span><span class="o">-</span><span class="nx">freetype</span><span class="o">-</span><span class="nx">dir</span><span class="p">=</span><span class="o">/</span><span class="nx">usr</span><span class="w"> </span>\
<span class="o">--</span><span class="nx">with</span><span class="o">-</span><span class="nx">t1lib</span><span class="p">=</span><span class="o">/</span><span class="nx">usr</span><span class="w"> </span>\
<span class="o">--</span><span class="nx">enable</span><span class="o">-</span><span class="nx">gd</span><span class="o">-</span><span class="nx">native</span><span class="o">-</span><span class="nx">ttf</span><span class="w"> </span>\
<span class="o">--</span><span class="nx">enable</span><span class="o">-</span><span class="nx">gd</span><span class="o">-</span><span class="nx">jis</span><span class="o">-</span><span class="nx">conv</span><span class="w"> </span>\
<span class="o">--</span><span class="nx">with</span><span class="o">-</span><span class="nx">openssl</span><span class="w"> </span>\
<span class="o">--</span><span class="nx">with</span><span class="o">-</span><span class="nx">mysql</span><span class="p">=</span><span class="o">/</span><span class="nx">usr</span><span class="w"> </span>\
<span class="o">--</span><span class="nx">with</span><span class="o">-</span><span class="nx">pdo</span><span class="o">-</span><span class="nx">mysql</span><span class="p">=</span><span class="o">/</span><span class="nx">usr</span><span class="w"> </span>\
<span class="o">--</span><span class="nx">with</span><span class="o">-</span><span class="nx">gettext</span><span class="p">=</span><span class="o">/</span><span class="nx">usr</span><span class="w"> </span>\
<span class="o">--</span><span class="nx">with</span><span class="o">-</span><span class="nx">zlib</span><span class="p">=</span><span class="o">/</span><span class="nx">usr</span><span class="w"> </span>\
<span class="o">--</span><span class="nx">with</span><span class="o">-</span><span class="nx">bz2</span><span class="p">=</span><span class="o">/</span><span class="nx">usr</span><span class="w"> </span>\
<span class="o">--</span><span class="nx">with</span><span class="o">-</span><span class="nx">recode</span><span class="p">=</span><span class="o">/</span><span class="nx">usr</span><span class="w"> </span>\
<span class="o">--</span><span class="nx">with</span><span class="o">-</span><span class="nx">mysqli</span><span class="p">=</span><span class="o">/</span><span class="nx">usr</span><span class="o">/</span><span class="nx">bin</span><span class="o">/</span><span class="nx">mysql_config</span>
</code></pre></div>

<p>这会花去不少的时间，当完成后你应该会看到如下面的输出：</p>
<div class="highlight"><pre><span></span><code><span class="n">creating</span><span class="w"> </span><span class="n">libtool</span>
<span class="n">appending</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">tag</span><span class="w"> </span><span class="s2">&quot;CXX&quot;</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">libtool</span>
<span class="n">Generating</span><span class="w"> </span><span class="n">files</span>
<span class="n">configure</span><span class="p">:</span><span class="w"> </span><span class="n">creating</span><span class="w"> </span><span class="o">./</span><span class="n">config</span><span class="o">.</span><span class="n">status</span>
<span class="n">creating</span><span class="w"> </span><span class="n">main</span><span class="o">/</span><span class="n">internal_functions</span><span class="o">.</span><span class="n">c</span>
<span class="n">creating</span><span class="w"> </span><span class="n">main</span><span class="o">/</span><span class="n">internal_functions_cli</span><span class="o">.</span><span class="n">c</span>
<span class="o">+--------------------------------------------------------------------+</span>
<span class="o">|</span><span class="w"> </span><span class="n">License</span><span class="p">:</span><span class="w">                                                           </span><span class="o">|</span>
<span class="o">|</span><span class="w"> </span><span class="n">This</span><span class="w"> </span><span class="n">software</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">subject</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">PHP</span><span class="w"> </span><span class="n">License</span><span class="p">,</span><span class="w"> </span><span class="n">available</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">this</span><span class="w">     </span><span class="o">|</span>
<span class="o">|</span><span class="w"> </span><span class="n">distribution</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">LICENSE</span><span class="o">.</span><span class="w">  </span><span class="n">By</span><span class="w"> </span><span class="n">continuing</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">installation</span><span class="w"> </span><span class="o">|</span>
<span class="o">|</span><span class="w"> </span><span class="n">process</span><span class="p">,</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">bound</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">terms</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">license</span><span class="w"> </span><span class="n">agreement</span><span class="o">.</span><span class="w">     </span><span class="o">|</span>
<span class="o">|</span><span class="w"> </span><span class="n">If</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">do</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">agree</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">terms</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">license</span><span class="p">,</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">must</span><span class="w"> </span><span class="n">abort</span><span class="w"> </span><span class="o">|</span>
<span class="o">|</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">installation</span><span class="w"> </span><span class="n">process</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">point</span><span class="o">.</span><span class="w">                            </span><span class="o">|</span>
<span class="o">+--------------------------------------------------------------------+</span>

<span class="n">Thank</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">PHP</span><span class="o">.</span>

<span class="n">config</span><span class="o">.</span><span class="n">status</span><span class="p">:</span><span class="w"> </span><span class="n">creating</span><span class="w"> </span><span class="n">php7</span><span class="o">.</span><span class="n">spec</span>
<span class="n">config</span><span class="o">.</span><span class="n">status</span><span class="p">:</span><span class="w"> </span><span class="n">creating</span><span class="w"> </span><span class="n">main</span><span class="o">/</span><span class="n">build</span><span class="o">-</span><span class="n">defs</span><span class="o">.</span><span class="n">h</span>
<span class="n">config</span><span class="o">.</span><span class="n">status</span><span class="p">:</span><span class="w"> </span><span class="n">creating</span><span class="w"> </span><span class="n">scripts</span><span class="o">/</span><span class="n">phpize</span>
<span class="n">config</span><span class="o">.</span><span class="n">status</span><span class="p">:</span><span class="w"> </span><span class="n">creating</span><span class="w"> </span><span class="n">scripts</span><span class="o">/</span><span class="n">man1</span><span class="o">/</span><span class="n">phpize</span><span class="o">.</span><span class="mi">1</span>
<span class="n">config</span><span class="o">.</span><span class="n">status</span><span class="p">:</span><span class="w"> </span><span class="n">creating</span><span class="w"> </span><span class="n">scripts</span><span class="o">/</span><span class="n">php</span><span class="o">-</span><span class="n">config</span>
<span class="n">config</span><span class="o">.</span><span class="n">status</span><span class="p">:</span><span class="w"> </span><span class="n">creating</span><span class="w"> </span><span class="n">scripts</span><span class="o">/</span><span class="n">man1</span><span class="o">/</span><span class="n">php</span><span class="o">-</span><span class="n">config</span><span class="o">.</span><span class="mi">1</span>
<span class="n">config</span><span class="o">.</span><span class="n">status</span><span class="p">:</span><span class="w"> </span><span class="n">creating</span><span class="w"> </span><span class="n">sapi</span><span class="o">/</span><span class="n">cli</span><span class="o">/</span><span class="n">php</span><span class="o">.</span><span class="mi">1</span>
<span class="n">config</span><span class="o">.</span><span class="n">status</span><span class="p">:</span><span class="w"> </span><span class="n">creating</span><span class="w"> </span><span class="n">sapi</span><span class="o">/</span><span class="n">cgi</span><span class="o">/</span><span class="n">php</span><span class="o">-</span><span class="n">cgi</span><span class="o">.</span><span class="mi">1</span>
<span class="n">config</span><span class="o">.</span><span class="n">status</span><span class="p">:</span><span class="w"> </span><span class="n">creating</span><span class="w"> </span><span class="n">ext</span><span class="o">/</span><span class="n">phar</span><span class="o">/</span><span class="n">phar</span><span class="o">.</span><span class="mi">1</span>
<span class="n">config</span><span class="o">.</span><span class="n">status</span><span class="p">:</span><span class="w"> </span><span class="n">creating</span><span class="w"> </span><span class="n">ext</span><span class="o">/</span><span class="n">phar</span><span class="o">/</span><span class="n">phar</span><span class="o">.</span><span class="n">phar</span><span class="o">.</span><span class="mi">1</span>
<span class="n">config</span><span class="o">.</span><span class="n">status</span><span class="p">:</span><span class="w"> </span><span class="n">creating</span><span class="w"> </span><span class="n">main</span><span class="o">/</span><span class="n">php_config</span><span class="o">.</span><span class="n">h</span>
<span class="n">config</span><span class="o">.</span><span class="n">status</span><span class="p">:</span><span class="w"> </span><span class="n">executing</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">commands</span>
</code></pre></div>

<p>运行下面的命令，完成编译过程。</p>
<div class="highlight"><pre><span></span><code>make
</code></pre></div>

<p>“make”命令的样例输出如下所示：</p>
<div class="highlight"><pre><span></span><code><span class="nx">Generating</span><span class="w"> </span><span class="nx">phar</span><span class="p">.</span><span class="nx">php</span>
<span class="nx">Generating</span><span class="w"> </span><span class="nx">phar</span><span class="p">.</span><span class="nx">phar</span>
<span class="nx">PEAR</span><span class="w"> </span><span class="kn">package</span><span class="w"> </span><span class="nx">PHP_Archive</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="nx">installed</span><span class="p">:</span><span class="w"> </span><span class="nx">generated</span><span class="w"> </span><span class="nx">phar</span><span class="w"> </span><span class="nx">will</span><span class="w"> </span><span class="nx">require</span><span class="w"> </span><span class="nx">PHP</span><span class="err">&#39;</span><span class="nx">s</span><span class="w"> </span><span class="nx">phar</span><span class="w"> </span><span class="nx">extension</span><span class="w"> </span><span class="nx">be</span><span class="w"> </span><span class="nx">enabled</span><span class="p">.</span>
<span class="nx">clicommand</span><span class="p">.</span><span class="nx">inc</span>
<span class="nx">directorytreeiterator</span><span class="p">.</span><span class="nx">inc</span>
<span class="nx">directorygraphiterator</span><span class="p">.</span><span class="nx">inc</span>
<span class="nx">pharcommand</span><span class="p">.</span><span class="nx">inc</span>
<span class="nx">invertedregexiterator</span><span class="p">.</span><span class="nx">inc</span>
<span class="nx">phar</span><span class="p">.</span><span class="nx">inc</span>

<span class="nx">Build</span><span class="w"> </span><span class="nx">complete</span><span class="p">.</span>
<span class="nx">Don</span><span class="err">&#39;</span><span class="nx">t</span><span class="w"> </span><span class="nx">forget</span><span class="w"> </span><span class="nx">to</span><span class="w"> </span><span class="nx">run</span><span class="w"> </span><span class="err">&#39;</span><span class="nx">make</span><span class="w"> </span><span class="nx">test</span><span class="err">&#39;</span><span class="p">.</span>
</code></pre></div>

<p>活儿干完了，该安装PHP7了，运行下面的命令安装它。</p>
<div class="highlight"><pre><span></span><code>make install
</code></pre></div>

<p>成功安装的进程的样例输出应该像这样：</p>
<div class="highlight"><pre><span></span><code><span class="o">[</span><span class="n">root@localhost php-src</span><span class="o">]</span><span class="err">#</span><span class="w"> </span><span class="n">make</span><span class="w"> </span><span class="n">install</span>
<span class="n">Installing</span><span class="w"> </span><span class="n">shared</span><span class="w"> </span><span class="nl">extensions</span><span class="p">:</span><span class="w">     </span><span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="n">php7</span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">php</span><span class="o">/</span><span class="n">extensions</span><span class="o">/</span><span class="k">no</span><span class="o">-</span><span class="n">debug</span><span class="o">-</span><span class="n">non</span><span class="o">-</span><span class="n">zts</span><span class="o">-</span><span class="mi">20141001</span><span class="o">/</span>
<span class="n">Installing</span><span class="w"> </span><span class="n">PHP</span><span class="w"> </span><span class="n">CLI</span><span class="w"> </span><span class="nc">binary</span><span class="err">:</span><span class="w">        </span><span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="n">php7</span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span>
<span class="n">Installing</span><span class="w"> </span><span class="n">PHP</span><span class="w"> </span><span class="n">CLI</span><span class="w"> </span><span class="n">man</span><span class="w"> </span><span class="nl">page</span><span class="p">:</span><span class="w">      </span><span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="n">php7</span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">php</span><span class="o">/</span><span class="n">man</span><span class="o">/</span><span class="n">man1</span><span class="o">/</span>
<span class="n">Installing</span><span class="w"> </span><span class="n">PHP</span><span class="w"> </span><span class="n">CGI</span><span class="w"> </span><span class="nc">binary</span><span class="err">:</span><span class="w">        </span><span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="n">php7</span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span>
<span class="n">Installing</span><span class="w"> </span><span class="n">PHP</span><span class="w"> </span><span class="n">CGI</span><span class="w"> </span><span class="n">man</span><span class="w"> </span><span class="nl">page</span><span class="p">:</span><span class="w">      </span><span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="n">php7</span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">php</span><span class="o">/</span><span class="n">man</span><span class="o">/</span><span class="n">man1</span><span class="o">/</span>
<span class="n">Installing</span><span class="w"> </span><span class="n">build</span><span class="w"> </span><span class="nl">environment</span><span class="p">:</span><span class="w">     </span><span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="n">php7</span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">php</span><span class="o">/</span><span class="n">build</span><span class="o">/</span>
<span class="n">Installing</span><span class="w"> </span><span class="n">header</span><span class="w"> </span><span class="nl">files</span><span class="p">:</span><span class="w">          </span><span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="n">php7</span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="k">include</span><span class="o">/</span><span class="n">php</span><span class="o">/</span>
<span class="n">Installing</span><span class="w"> </span><span class="n">helper</span><span class="w"> </span><span class="nl">programs</span><span class="p">:</span><span class="w">       </span><span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="n">php7</span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span>
<span class="nl">program</span><span class="p">:</span><span class="w"> </span><span class="n">phpize</span>
<span class="nl">program</span><span class="p">:</span><span class="w"> </span><span class="n">php</span><span class="o">-</span><span class="n">config</span>
<span class="n">Installing</span><span class="w"> </span><span class="n">man</span><span class="w"> </span><span class="nl">pages</span><span class="p">:</span><span class="w">             </span><span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="n">php7</span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">php</span><span class="o">/</span><span class="n">man</span><span class="o">/</span><span class="n">man1</span><span class="o">/</span>
<span class="nl">page</span><span class="p">:</span><span class="w"> </span><span class="n">phpize</span><span class="mf">.1</span>
<span class="nl">page</span><span class="p">:</span><span class="w"> </span><span class="n">php</span><span class="o">-</span><span class="n">config</span><span class="mf">.1</span>
<span class="n">Installing</span><span class="w"> </span><span class="n">PEAR</span><span class="w"> </span><span class="nl">environment</span><span class="p">:</span><span class="w">      </span><span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="n">php7</span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">php</span><span class="o">/</span>
<span class="o">[</span><span class="n">PEAR</span><span class="o">]</span><span class="w"> </span><span class="n">Archive_Tar</span><span class="w">    </span><span class="o">-</span><span class="w"> </span><span class="nl">installed</span><span class="p">:</span><span class="w"> </span><span class="mf">1.3.13</span>
<span class="o">[</span><span class="n">PEAR</span><span class="o">]</span><span class="w"> </span><span class="n">Console_Getopt</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nl">installed</span><span class="p">:</span><span class="w"> </span><span class="mf">1.3.1</span>
<span class="o">[</span><span class="n">PEAR</span><span class="o">]</span><span class="w"> </span><span class="n">Structures_Graph</span><span class="o">-</span><span class="w"> </span><span class="nl">installed</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0.4</span>
<span class="o">[</span><span class="n">PEAR</span><span class="o">]</span><span class="w"> </span><span class="n">XML_Util</span><span class="w">       </span><span class="o">-</span><span class="w"> </span><span class="nl">installed</span><span class="p">:</span><span class="w"> </span><span class="mf">1.2.3</span>
<span class="o">[</span><span class="n">PEAR</span><span class="o">]</span><span class="w"> </span><span class="n">PEAR</span><span class="w">           </span><span class="o">-</span><span class="w"> </span><span class="nl">installed</span><span class="p">:</span><span class="w"> </span><span class="mf">1.9.5</span>
<span class="n">Wrote</span><span class="w"> </span><span class="n">PEAR</span><span class="w"> </span><span class="k">system</span><span class="w"> </span><span class="n">config</span><span class="w"> </span><span class="k">file</span><span class="w"> </span><span class="k">at</span><span class="err">:</span><span class="w"> </span><span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="n">php7</span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">pear</span><span class="p">.</span><span class="n">conf</span>
<span class="n">You</span><span class="w"> </span><span class="n">may</span><span class="w"> </span><span class="n">want</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="k">add</span><span class="err">:</span><span class="w"> </span><span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="n">php7</span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">php</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="n">php</span><span class="p">.</span><span class="n">ini</span><span class="w"> </span><span class="n">include_path</span>
<span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="n">php7</span><span class="o">/</span><span class="n">php</span><span class="o">-</span><span class="n">src</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">shtool</span><span class="w"> </span><span class="n">install</span><span class="w"> </span><span class="o">-</span><span class="n">c</span><span class="w"> </span><span class="n">ext</span><span class="o">/</span><span class="n">phar</span><span class="o">/</span><span class="n">phar</span><span class="p">.</span><span class="n">phar</span><span class="w"> </span><span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="n">php7</span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">bin</span>
<span class="k">ln</span><span class="w"> </span><span class="o">-</span><span class="n">s</span><span class="w"> </span><span class="o">-</span><span class="n">f</span><span class="w"> </span><span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="n">php7</span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">phar</span><span class="p">.</span><span class="n">phar</span><span class="w"> </span><span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="n">php7</span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">phar</span>
<span class="n">Installing</span><span class="w"> </span><span class="n">PDO</span><span class="w"> </span><span class="nl">headers</span><span class="p">:</span><span class="w">          </span><span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="n">php7</span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="k">include</span><span class="o">/</span><span class="n">php</span><span class="o">/</span><span class="n">ext</span><span class="o">/</span><span class="n">pdo</span><span class="o">/</span>
</code></pre></div>

<p>恭喜你，PHP7已经安装在你的Linux系统上了。安装完后，进入PHP7安装文件里的sapi/cli里面。</p>
<div class="highlight"><pre><span></span><code>cd sapi/cli
</code></pre></div>

<p>验证一下PHP的版本。</p>
<div class="highlight"><pre><span></span><code><span class="o">[</span><span class="n">root@localhost cli</span><span class="o">]</span><span class="err">#</span><span class="w"> </span><span class="p">.</span><span class="o">/</span><span class="n">php</span><span class="w"> </span><span class="o">-</span><span class="n">v</span>
<span class="n">PHP</span><span class="w"> </span><span class="mf">7.0.0</span><span class="o">-</span><span class="n">dev</span><span class="w"> </span><span class="p">(</span><span class="n">cli</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nl">built</span><span class="p">:</span><span class="w"> </span><span class="n">Mar</span><span class="w"> </span><span class="mi">28</span><span class="w"> </span><span class="mi">2015</span><span class="w"> </span><span class="mi">00</span><span class="err">:</span><span class="mi">54</span><span class="err">:</span><span class="mi">11</span><span class="p">)</span>
<span class="n">Copyright</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="p">)</span><span class="w"> </span><span class="mi">1997</span><span class="o">-</span><span class="mi">2015</span><span class="w"> </span><span class="n">The</span><span class="w"> </span><span class="n">PHP</span><span class="w"> </span><span class="k">Group</span>
<span class="n">Zend</span><span class="w"> </span><span class="n">Engine</span><span class="w"> </span><span class="n">v3</span><span class="mf">.0.0</span><span class="o">-</span><span class="n">dev</span><span class="p">,</span><span class="w"> </span><span class="n">Copyright</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="p">)</span><span class="w"> </span><span class="mi">1998</span><span class="o">-</span><span class="mi">2015</span><span class="w"> </span><span class="n">Zend</span><span class="w"> </span><span class="n">Technologies</span>
</code></pre></div>

<h3>总结</h3>
<p>PHP 7也<a href="http://blog.famillecollet.com/post/2015/03/25/PHP-7.0-as-Software-Collection">添加到了remi仓库</a>，这个即将到来的版本主要关注执行效率的提升，它的新特性致力于使PHP较好满足现代编程的需求和趋势。PHP 7.0将会有许多新的特性、丢弃一些老版本的东西。在接下来的日子里，我们希望看到新特性和弃用功能的具体情况。希望你喜欢！</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>