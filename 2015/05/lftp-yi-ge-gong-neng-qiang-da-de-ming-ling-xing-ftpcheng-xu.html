<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>'LFTP : 一个功能强大的命令行FTP程序'</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Author: Arun Pyasi 大家好，这篇文章是介绍Lftp以及如何在Linux操作系统下安装的。Lftp是一个基于命令行的文件传输软件（也被称为FTP客户端），由Alexander Lukyanov开发并以GNU..." />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">linux_cn</a></h1>
                <nav><ul>
                    <li><a href="/category/chuan-shan-jia-zhuan-fang">穿山甲专访</a></li>
                    <li><a href="/category/dai-ma-ying-xiong">代码英雄</a></li>
                    <li><a href="/category/fen-xiang">分享</a></li>
                    <li><a href="/category/guan-dian">观点</a></li>
                    <li><a href="/category/huo-dong">活动</a></li>
                    <li><a href="/category/ji-ke-man-hua">极客漫画</a></li>
                    <li class="active"><a href="/category/ji-zhu">技术</a></li>
                    <li><a href="/category/kai-yuan-zhi-hui">开源智慧</a></li>
                    <li><a href="/category/linux-fa-xing-ban">Linux 发行版</a></li>
                    <li><a href="/category/mei-ri-an-quan-zi-xun">每日安全资讯</a></li>
                    <li><a href="/category/misc">Misc</a></li>
                    <li><a href="/category/qu-kuai-lian">区块链</a></li>
                    <li><a href="/category/rong-qi-yu-yun">容器与云</a></li>
                    <li><a href="/category/ruan-jian-kai-fa">软件开发</a></li>
                    <li><a href="/category/shu-mei-pai">树莓派</a></li>
                    <li><a href="/category/xi-tong-yun-wei">系统运维</a></li>
                    <li><a href="/category/xin-wen">新闻</a></li>
                    <li><a href="/category/ying-he-guan-cha">硬核观察</a></li>
                    <li><a href="/category/zhi-ye-sheng-ya">职业生涯</a></li>
                    <li><a href="/category/zhong-jiang-ming-dan">中奖名单</a></li>
                    <li><a href="/category/zhuo-mian-ying-yong">桌面应用</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2015/05/lftp-yi-ge-gong-neng-qiang-da-de-ming-ling-xing-ftpcheng-xu.html" rel="bookmark"
           title="Permalink to 'LFTP : 一个功能强大的命令行FTP程序'">'LFTP : 一个功能强大的命令行FTP程序'</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2015-05-17T10:11:00+02:00">
                Published: Sun 17 May 2015
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/linux-fans-from-china.html">linux fans from china</a>
        </address>
<p>In <a href="/category/ji-zhu">技术</a>.</p>

</footer><!-- /.post-info -->      <p>Author: Arun Pyasi</p>
<p>大家好，这篇文章是介绍Lftp以及如何在Linux操作系统下安装的。<a href="http://lftp.yar.ru/">Lftp</a>是一个基于命令行的文件传输软件（也被称为FTP客户端），由Alexander Lukyanov开发并以GNU GPL协议许可发行。除了FTP协议外，它还支持FTPS，HTTP，HTTPS，HFTP，FISH，以及SFTP等协议。这个程序还支持FXP，允许数据绕过客户端直接在两个FTP服务器之间传输。</p>
<p>它有很多很棒的高级功能，比如递归镜像整个目录树以及断点续传下载。传输任务可以安排在稍后的时间段计划执行，可以限制带宽，可以创建传输列表，还支持类似Unix shell的任务控制。客户端还可以在交互式或自动脚本里使用。</p>
<p><img alt="" src="/data/attachment/album/201505/17/221607sacuohcimiuyfv7m.png"></p>
<h3>安装Lftp</h3>
<p>在运行lftp之前，我们需要确定它已经正确安装在我们的Linux发行版中了。下面是在常见Linux发行版中安装lftp的一些命令。</p>
<p><strong>Ubuntu 14.04 LTS</strong></p>
<p>在Ubuntu 14.04 LTS以及它的衍生版中，我们可以通过apt管理程序安装lftp。要安装它，我们需要使用sudo权限在shell或终端里运行下面的命令。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>lftp
</code></pre></div>

<p><img alt="ubuntu install lftp" src="/data/attachment/album/201505/17/221609akd50y6xn01d1z3x.png"></p>
<p><strong>CentOS/Fedora/RHEL</strong></p>
<p>因为在Fedora，CentOS和RHEL的软件仓库里也能找到lftp，我们可以用<strong>yum</strong>管理程序来安装它。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>sudo<span class="w"> </span>yum<span class="w"> </span>install<span class="w"> </span>lftp
</code></pre></div>

<p><img alt="fedora lftp" src="/data/attachment/album/201505/17/221609jlfbl8fkfbkbpmnw.png"></p>
<p><strong>Arch Linux</strong></p>
<p>在Arch Linux安装包仓库里也有，我们可以简单地使用pacman来安装它。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>sudo<span class="w"> </span>pacman<span class="w"> </span>-S<span class="w"> </span>lftp
</code></pre></div>

<p><img alt="archlinux install lftp" src="/data/attachment/album/201505/17/221610ot8oz8s8bsl8s88y.png"></p>
<p><strong>OpenSuse</strong></p>
<p>OpenSuse系统里的包管理软件Zypper可以用来安装lftp。下面是在OpenSuse机器上用来安装的命令。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>sudo<span class="w"> </span>zypper<span class="w"> </span>install<span class="w"> </span>lftp
</code></pre></div>

<p><img alt="opensuse lftp install" src="/data/attachment/album/201505/17/221612ds5y197lzbzrytb1.png"></p>
<h3>登录</h3>
<p>要登录到ftp服务器或sftp服务器，我们首先需要知道所要求的认证信息，比如用户名，密码，端口。</p>
<p>之后，我们可以通过lftp来登录。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>lftp<span class="w"> </span>ftp://linoxide@localhost
</code></pre></div>

<p><img alt="ftp login" src="/data/attachment/album/201505/17/221612cg2zxg981161ugua.png"></p>
<p>如果需要指定登录端口，我们可以按下面的方式加上去。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>lftp<span class="w"> </span>ftp://linoxide@localhost:21
</code></pre></div>

<p><img alt="ftp login with ports" src="/data/attachment/album/201505/17/221613p028lb3095k3ivss.png"></p>
<h3>导航</h3>
<p>我们可以用<strong>ls</strong>命令来列出文件和目录，用<strong>cd</strong>命令进入到目录。</p>
<p><img alt="ls and cd" src="/data/attachment/album/201505/17/221614n4mq444pmq9ma7a2.png"></p>
<h3>上传和下载文件</h3>
<p>我们可以用<strong>pget</strong>命令来从远端服务器下载文件。</p>
<div class="highlight"><pre><span></span><code>&gt; pget linspeed.svg
</code></pre></div>

<p><img alt="pget lftp" src="/data/attachment/album/201505/17/221614n6k55wp5mbnm6n96.png"></p>
<p>我们可以用<strong>put</strong>命令来上传文件到远端服务器。</p>
<div class="highlight"><pre><span></span><code>&gt; put linoxide.tar
</code></pre></div>

<p><img alt="upload with put" src="/data/attachment/album/201505/17/221615r1njnrenawyyid1q.png"></p>
<p>要恢复之前只下载了一部分的文件/目录，我们可以用-c开关：</p>
<div class="highlight"><pre><span></span><code><span class="o">&gt;</span><span class="w"> </span><span class="n">mirror</span><span class="w"> </span><span class="o">-</span><span class="n">c</span><span class="w"> </span><span class="n">Directory</span>

<span class="o">&gt;</span><span class="n">pget</span><span class="w"> </span><span class="o">-</span><span class="n">c</span><span class="w"> </span><span class="n">linoxide</span><span class="o">.</span><span class="n">tar</span>

<span class="o">&gt;</span><span class="w"> </span><span class="n">put</span><span class="w"> </span><span class="o">-</span><span class="n">c</span><span class="w"> </span><span class="n">upload</span><span class="o">.</span><span class="n">tar</span>
</code></pre></div>

<h3>使用镜像命令</h3>
<p>我们可以用mirror命令来下载所指定的整个目录。</p>
<div class="highlight"><pre><span></span><code>&gt; mirror remote local
</code></pre></div>

<p><img alt="download with mirror" src="/data/attachment/album/201505/17/221615nck17xvkcl311c7c.png"></p>
<p>还可以做反向镜像(mirror -R)，可以用来上传或更新本地目录树到服务器上。</p>
<div class="highlight"><pre><span></span><code>&gt; mirror -R local remote
</code></pre></div>

<p><img alt="upload or update with mirror reverse" src="/data/attachment/album/201505/17/221616yovtrfvivii7till.png"></p>
<p>要恢复之前下载了一部分的文件/目录，我们可以用-c开关：</p>
<div class="highlight"><pre><span></span><code>&gt; mirror -c Directory
</code></pre></div>

<h3>下载队列</h3>
<p>我们可以在lftp里使用queue的选项，这样我们可以像基于GUI的客户端那样挨个下载队列里选择的文件。下面举个例子。</p>
<p>为了避免队列自动开始传输，我们可以这样做：</p>
<div class="highlight"><pre><span></span><code>&gt; queue stop
</code></pre></div>

<p>现在，我们添加任务到队列。</p>
<div class="highlight"><pre><span></span><code>&gt; queue mirror &quot;directory&quot;

&gt; queue pget &quot;file.tar&quot;
</code></pre></div>

<p>在建立好队列后，我们再运行queue start命令。</p>
<div class="highlight"><pre><span></span><code>&gt; queue start
</code></pre></div>

<p>可以运行下面的命令移除整个队列。</p>
<div class="highlight"><pre><span></span><code>&gt; queue -d
</code></pre></div>

<h3>分块下载</h3>
<p>下面是一个把一个文件分成3块来下载的例子，你可以根据自己的需要调整。</p>
<p>使用pget命令分块功能的方式是<strong>pget -n 3 file.tar</strong>，里面的3是分块的数目。</p>
<div class="highlight"><pre><span></span><code>&gt; pget -n 3 file.tar
</code></pre></div>

<p>使用mirror命令分块功能的方式是<strong>mirror --use-pget-n=3 directory</strong>，里面的3是分块的数目。</p>
<div class="highlight"><pre><span></span><code>&gt; mirror --use-pget-n=3 linxoxide
</code></pre></div>

<p>我们可以用jobs -v命令来查看每个独立分块的下载速度以及整体速度。</p>
<h3>停止，继续或删除一次传输任务</h3>
<p>要取消传输我们可以按下Ctrl+C。而要恢复下载我们可以像下面那样使用-c (--continue)开关。</p>
<div class="highlight"><pre><span></span><code>&gt; mirror -c directory
</code></pre></div>

<p>要删除一次正在正在传输的任务我们可以用<strong>kill</strong>命令，而要删除所有任务我们可以使用下面那样的<strong>kill all</strong>命令。</p>
<div class="highlight"><pre><span></span><code>&gt; kill

&gt; kill all
</code></pre></div>

<h3>退出</h3>
<p>要从lftp退出，我们需要在终端或lftp交互接口中运行exit命令。</p>
<div class="highlight"><pre><span></span><code><span class="o">&gt;</span><span class="w"> </span><span class="k">exit</span>
</code></pre></div>

<h3>总结</h3>
<p>哇！我们已经成功地安装了lftp并学会了它的一些基础的主要使用方式。lftp是一个非常棒的命令行ftp客户端，它支持许多额外的功能以及很酷的特性。它比其他普通ftp客户端多了很多东西。好吧，你要是有任何问题，建议，反馈，请在下面的评论区里留言。谢谢！享用lftp吧 :-)</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>