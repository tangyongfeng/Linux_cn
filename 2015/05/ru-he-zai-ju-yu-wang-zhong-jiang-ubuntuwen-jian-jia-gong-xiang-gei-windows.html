<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>如何在局域网中将Ubuntu文件夹共享给Windows</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Author: Mohd Sohail 本文全面详细地向你描述了在Ubuntu中如何实现局域网内的文件夹共享。 你的家中是不是有多台电脑？当你需要从一台Ubuntu电脑向另一台电脑传输数据时，是不是必须用到U盘或SD卡？你是否也觉 …" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">linux_cn</a></h1>
                <nav><ul>
                    <li><a href="/category/chuan-shan-jia-zhuan-fang">穿山甲专访</a></li>
                    <li><a href="/category/dai-ma-ying-xiong">代码英雄</a></li>
                    <li><a href="/category/fen-xiang">分享</a></li>
                    <li><a href="/category/guan-dian">观点</a></li>
                    <li><a href="/category/huo-dong">活动</a></li>
                    <li><a href="/category/ji-ke-man-hua">极客漫画</a></li>
                    <li><a href="/category/ji-zhu">技术</a></li>
                    <li><a href="/category/kai-yuan-zhi-hui">开源智慧</a></li>
                    <li><a href="/category/linux-fa-xing-ban">Linux 发行版</a></li>
                    <li><a href="/category/mei-ri-an-quan-zi-xun">每日安全资讯</a></li>
                    <li><a href="/category/misc">Misc</a></li>
                    <li><a href="/category/qu-kuai-lian">区块链</a></li>
                    <li><a href="/category/rong-qi-yu-yun">容器与云</a></li>
                    <li><a href="/category/ruan-jian-kai-fa">软件开发</a></li>
                    <li><a href="/category/shu-mei-pai">树莓派</a></li>
                    <li><a href="/category/xi-tong-yun-wei">系统运维</a></li>
                    <li><a href="/category/xin-wen">新闻</a></li>
                    <li><a href="/category/ying-he-guan-cha">硬核观察</a></li>
                    <li><a href="/category/zhi-ye-sheng-ya">职业生涯</a></li>
                    <li><a href="/category/zhong-jiang-ming-dan">中奖名单</a></li>
                    <li class="active"><a href="/category/zhuo-mian-ying-yong">桌面应用</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2015/05/ru-he-zai-ju-yu-wang-zhong-jiang-ubuntuwen-jian-jia-gong-xiang-gei-windows.html" rel="bookmark"
           title="Permalink to 如何在局域网中将Ubuntu文件夹共享给Windows">如何在局域网中将Ubuntu文件夹共享给Windows</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2015-05-19T11:40:00+02:00">
                Published: Tue 19 May 2015
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/linux-fans-from-china.html">linux fans from china</a>
        </address>
<p>In <a href="/category/zhuo-mian-ying-yong">桌面应用</a>.</p>

</footer><!-- /.post-info -->      <p>Author: Mohd Sohail</p>
<p><img alt="" src="/data/attachment/album/201505/19/111558e07d8t0h7jj2rr0h.jpg"></p>
<p>本文全面详细地向你描述了<strong>在Ubuntu中如何实现局域网内的文件夹共享</strong>。</p>
<p>你的家中是不是有多台电脑？当你需要从一台Ubuntu电脑向另一台电脑传输数据时，是不是必须用到U盘或SD卡？你是否也觉得这个方法很烦人？我想肯定是。本文的目的就是使你在局域网内快速方便地传输文件、文档和其它较大的数据，以节省你的宝贵时间。只需一次设置，然后轻点鼠标，你就可以自由地<strong>在Ubuntu和Windows之间共享文件</strong>，当然这对其它Linux系统同样使用。不要担心，这很容易操作，不会花费太多时间。</p>
<p>除此之外，尽管本文是在Ubuntu上进行实践，但这个教程在其它Linux系统上同样有用。</p>
<h4>在Ubuntu上实现局域网共享文件夹</h4>
<p>如果你的系统是Ubuntu 14.04、14.10或12.04，有两个方法可以使你通过局域网在搭载Windows或其他Linux的电脑上共享本地文件。</p>
<ul>
<li>对局域网中的每个用户提供无密码共享</li>
<li>仅限特定访问，提供文件夹密码保护</li>
</ul>
<p>这篇文章包括两种方法，你可以选择你想用的那种。</p>
<h3>1. 局域网无密码共享文件夹</h3>
<h4>步骤一：</h4>
<p>为了在Ubuntu上实现局域网共享文件夹，右键点击打算共享的文件夹，并选择“Local Network Share（本地网络共享）”：</p>
<p><img alt="" src="/data/attachment/album/201505/19/111558q1mc6xwwrcwf5lbw.jpg"></p>
<p><strong>可能有用的故障解决方案</strong>：如果在右键菜单中看不到“Local Network Share”的选项，那就新建一个终端，使用下面的命令去安装nautlius-share插件：</p>
<div class="highlight"><pre><span></span><code>sudo apt-get install nautilus-share
</code></pre></div>

<p>然后重启Nautilus。可以选择注销再登录，或者使用这个命令:</p>
<div class="highlight"><pre><span></span><code>nautilus -q
</code></pre></div>

<h4>步骤二：</h4>
<p>一旦点击“Local Network Share”，就会出现共享文件夹的选项。只需选中“Share this folder（共享该文件夹）”这一项：</p>
<p><img alt="" src="/data/attachment/album/201505/19/111559ax11c114z88zpf72.jpg"></p>
<p><strong>可能的故障解决方案</strong>：如果提示共享服务还未安装，就像下图所示，那就点击安装服务，按照提示操作。</p>
<p><img alt="" src="/data/attachment/album/201505/19/111559bdgu7uusmq3t5utt.jpg"></p>
<h4>步骤三：</h4>
<p>当选中“Share this folder”的选项，就会看到按钮“Create Share（创建共享）”变得可以点击了。你也可以“Allow others to create and delete fies in this folder（允许其他用户在共享文件夹中编辑文件）”。选项“Guest access（允许访客访问）”也是如此。</p>
<p><img alt="" src="/data/attachment/album/201505/19/111559werrhcc1g22b09pa.png"></p>
<p>你会看到文件夹图标已经显示为共享的。如果要停止共享文件夹，只需取消“Share this floder”这个选项。</p>
<p>这个方法就是这么简单，使得局域网中的任何人都可以访问共享文件夹中的文件。在正常情况下，你会选择这种方式。因为，家用局域网中的电脑通常都是可信电脑。但情况也不总是这样。如果你只是想特定的用户才能访问怎么办？这个时候就需要Samba服务器了。我们在本文的第二部分讨论这种方法。</p>
<h3>2. 在Ubuntu上使用密码保护实现局域网共享文件夹</h3>
<p>为了达到这个目的，首先需要配置Samba服务器。事实上，在这篇教程的前一部分我们已经用到了Samba，只是我们没有刻意强调。在介绍如何在Ubuntu上搭建Samba服务器实现局域网共享的方法之前，先快速预览一下<a href="http://en.wikipedia.org/wiki/Samba_%28software%29">Samba</a>到底是什么。</p>
<h4>Samba是什么？</h4>
<p>Samba是一个允许用户通过网络共享文件、文档和打印机的软件包，无论是在Linux、Windows，还是Mac上。它适用于所有的主流平台，可以在所有支持系统上流畅运行。下面是维基百科的介绍：</p>
<blockquote>
<p>Samba是一款重新实现SMB/CIFS网络协议的自由软件，最初由安德鲁·垂鸠开发。在第三版中，Smaba不仅支持通过不同的Windows客户端访问及分享SMB的文件夹及打印机，还可以集成到Windows Server域，作为主域控制器（PDC）或者域成员。它也可以作为活动目录域的一部分。</p>
</blockquote>
<h4>在Ubuntu上安装Samba服务器</h4>
<p>你可以很方便地在Ubuntu电脑上安装Samba。安装前，请先更新系统以便安装任何可用的更新。</p>
<div class="highlight"><pre><span></span><code>sudo apt-get update &amp;&amp; apt-get upgrade
</code></pre></div>

<p>然后按照这条命令安装samba和少量所需的软件包：</p>
<div class="highlight"><pre><span></span><code>sudo apt-get install samba samba-common system-config-samba python-glade2 gksu
</code></pre></div>

<p>一旦安装完成Samba服务器，就可以从图形界面配置Samba来分享文件。</p>
<h4>在Ubuntu上配置Samba服务器</h4>
<p>从dash中打开Samba配置工具：</p>
<p><img alt="" src="/data/attachment/album/201505/19/111559d6mlv6vfvemrfzmv.png"></p>
<p>进入到<strong>Preference-&gt;Server Settings</strong>。尽管默认已经设置好，可能就是你需要的。但在某些情况下你可能需要做一些改动。</p>
<p>在Server Setting中可以看到两个选项卡，‘Basic’和‘Security’。在Basic选项卡下的选项含义如下：</p>
<ul>
<li>工作组 - 用户要连接的电脑所在工作组的名字。比如，如果你想连接到一台Windows电脑，你就要输入Windows电脑的工作组名字。在Windows的Samba服务器设置中，已经默认设置好统一的工作组名字。但如果你有不同的工作组名字，就在这个字段中输入自定义的工作组名字。（在Windows 7中获取工作组名字，右击计算机图标，进到属性，就能看到Windows工作组名字。）</li>
<li>描述 - 其他用户看到的你的电脑名字。不要使用空格或不适用于网络的字符。</li>
</ul>
<p><img alt="" src="/data/attachment/album/201505/19/111600s45qrhlbz4le6bld.png"></p>
<p>设置samba服务器允许‘Guests’可用是不明智的，所以没必要修改安全设置，保持原样即可。</p>
<p><img alt="" src="/data/attachment/album/201505/19/111600x13pgdippyigp3xr.jpg"></p>
<p>这就搞定了！你已经搭建好Samba服务器，距离实现网络共享第一个文件夹的目标不远了！</p>
<h4>为网络文件共享创建一个系统用户</h4>
<p>现在我们需要为网络共享文件创建一个系统用户。下面是非常简单的步骤：</p>
<ul>
<li>在Systems Settings下点击<strong>User Accounts</strong>。</li>
<li>点击<strong>unlock</strong>使其可用，以及+（<strong>加号</strong>）图标。</li>
<li>点击+（加号）图标，创建一个新的系统用户。</li>
</ul>
<p><img alt="" src="/data/attachment/album/201505/19/111600agdbab0ld4hnlmmm.jpg"></p>
<p>如上图所示，需要输入‘Full name’。当你输入‘Full name’时，Username会自动填充为Full name。因为创建这个用户是为了共享文件，所以还要指定Account Type为‘<strong>Standard</strong>’。</p>
<p>完成上述步骤，点击添加，你就创建好一个系统用户。这个用户还没有被激活，所以需要为其设置密码来激活。确保Users accounts界面已经解锁。点击尚不可用的账户，输入一个新密码，然后确认密码，点击Change。</p>
<p><img alt="" src="/data/attachment/album/201505/19/111601cfnu0ef4ue06kiu7.jpg"></p>
<p>耶！到目前为止我们已经安装并配置好Samba，已经创建了一个系统用户以通过这个账户在网络上共享文件，而且也已经激活了新用户。现在来到配置Samba的最后一步，然后就可以共享文件夹了。</p>
<h4>添加Samba新用户</h4>
<p>打开Samba，在Preference先点击Samba Users。填写弹出的对话框，下面是其中几个字段的说明：</p>
<p><strong>Unix Username</strong> - 在这种情况下，我选择刚才创建的用户。</p>
<p><strong>Windows Username</strong> - 输入你要访问的Windows电脑的用户名。</p>
<p><strong>Samba Password</strong> - 输入你要访问的Windows电脑的密码。</p>
<p><img alt="" src="/data/attachment/album/201505/19/111601i4h4xxbgh6x3i6qh.jpg"></p>
<p>完成后点击OK。现在做个深呼吸。你已经在Samba的帮助下成功创建一个网络。然后重启网络或Samba服务，准备好和其它电脑共享文件。</p>
<div class="highlight"><pre><span></span><code>sudo restart smbd &amp;&amp; sudo restart nmbd
</code></pre></div>

<h4>通过网络共享文件夹或文件</h4>
<p>在图形用户界面下通过Samba共享文件是很简单的。点击加号图标，会看到如图所示的对话框：</p>
<p><img alt="" src="/data/attachment/album/201505/19/111602wmv55sa59bs7jjnm.jpg"></p>
<p>填写完这些字段。在‘Directory’中，浏览要共享的文件夹。你会看到的字段的含义如下：</p>
<ul>
<li><strong>Share name</strong> 是其它人会看到的文件夹名字。</li>
<li><strong>Description</strong> 是要共享内容的简单描述。</li>
<li><strong>Writeable</strong> 默认情况下共享的文件夹是‘read only’。如果允许网络上的其他用户修改它们，设置为writable。</li>
<li><strong>Visiable</strong> 当你点击Visiable时，就像它的名字一样，共享文件夹就对网络上的其他人可见。</li>
</ul>
<p>现在你可以设置共享文件夹的权限。点击‘Access’选项，选择想要共享文件夹的用户。当你选择对所有人允许访问后，这个文件夹就对网络上的所有人可见。</p>
<p><img alt="" src="/data/attachment/album/201505/19/111602tqcbgjijcugebtub.png"></p>
<p>最后点击OK，完成共享。现在这个文件夹就与你想要共享的用户实现共享。你已经完成了网络共享文件。还有其它要做的吗？对！还不知道如何从网络上移除文件夹？</p>
<h4>移除共享文件夹</h4>
<p>在网络共享一段时间后，我们也需要移除其中的一些文件夹。操作很简答，下面就是我们要做的。</p>
<p><img alt="" src="/data/attachment/album/201505/19/111602i650ssg30s0z5gzb.jpg"></p>
<p>全部搞定！我们也可以使用终端进行网络文件共享，但这样没有本文介绍的方法这么容易。如果你确实想知道命令行操作，我会再写一篇关于在Linux上使用命令行实现网络文件共享的文章。</p>
<p>所以，你是怎么找到这篇教程的呢？我希望看了这篇教程你可以<strong>很容易地在Ubuntu和Windows之间共享文件</strong>。如果你有任何问题或建议，请在评论里说出来。</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>