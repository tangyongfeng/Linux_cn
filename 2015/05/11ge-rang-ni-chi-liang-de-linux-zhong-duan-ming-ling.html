<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>11个让你吃惊的 Linux 终端命令</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Author: Gary Newell 我已经用了十年的Linux了，通过今天这篇文章我将向大家展示一系列的命令、工具和技巧，我希望一开始就有人告诉我 …" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">linux_cn</a></h1>
                <nav><ul>
                    <li><a href="/category/chuan-shan-jia-zhuan-fang">穿山甲专访</a></li>
                    <li><a href="/category/dai-ma-ying-xiong">代码英雄</a></li>
                    <li><a href="/category/fen-xiang">分享</a></li>
                    <li><a href="/category/guan-dian">观点</a></li>
                    <li><a href="/category/huo-dong">活动</a></li>
                    <li><a href="/category/ji-ke-man-hua">极客漫画</a></li>
                    <li class="active"><a href="/category/ji-zhu">技术</a></li>
                    <li><a href="/category/kai-yuan-zhi-hui">开源智慧</a></li>
                    <li><a href="/category/linux-fa-xing-ban">Linux 发行版</a></li>
                    <li><a href="/category/mei-ri-an-quan-zi-xun">每日安全资讯</a></li>
                    <li><a href="/category/misc">Misc</a></li>
                    <li><a href="/category/qu-kuai-lian">区块链</a></li>
                    <li><a href="/category/rong-qi-yu-yun">容器与云</a></li>
                    <li><a href="/category/ruan-jian-kai-fa">软件开发</a></li>
                    <li><a href="/category/shu-mei-pai">树莓派</a></li>
                    <li><a href="/category/xi-tong-yun-wei">系统运维</a></li>
                    <li><a href="/category/xin-wen">新闻</a></li>
                    <li><a href="/category/ying-he-guan-cha">硬核观察</a></li>
                    <li><a href="/category/zhi-ye-sheng-ya">职业生涯</a></li>
                    <li><a href="/category/zhong-jiang-ming-dan">中奖名单</a></li>
                    <li><a href="/category/zhuo-mian-ying-yong">桌面应用</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2015/05/11ge-rang-ni-chi-liang-de-linux-zhong-duan-ming-ling.html" rel="bookmark"
           title="Permalink to 11个让你吃惊的 Linux 终端命令">11个让你吃惊的 Linux 终端命令</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2015-05-13T07:28:00+02:00">
                Published: Wed 13 May 2015
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/linux-fans-from-china.html">linux fans from china</a>
        </address>
<p>In <a href="/category/ji-zhu">技术</a>.</p>

</footer><!-- /.post-info -->      <p>Author: Gary Newell</p>
<p>我已经用了十年的Linux了，通过今天这篇文章我将向大家展示一系列的命令、工具和技巧，我希望一开始就有人告诉我这些，而不是曾在我成长道路上绊住我。</p>
<p><img alt="" src="/data/attachment/album/201505/12/233512pz5y93dzryzy9fur.png"></p>
<h3>1. 命令行日常系快捷键</h3>
<p>如下的快捷方式非常有用，能够极大的提升你的工作效率：</p>
<ul>
<li>CTRL + U - 剪切光标前的内容</li>
<li>CTRL + K - 剪切光标至行末的内容</li>
<li>CTRL + Y - 粘贴</li>
<li>CTRL + E - 移动光标到行末</li>
<li>CTRL + A - 移动光标到行首</li>
<li>ALT + F - 跳向下一个空格</li>
<li>ALT + B - 跳回上一个空格</li>
<li>ALT + Backspace - 删除前一个单词</li>
<li>CTRL + W - 剪切光标前一个单词</li>
<li>Shift + Insert - 向终端内粘贴文本</li>
</ul>
<p>那么为了让上述内容更易理解来看下面的这行命令。</p>
<div class="highlight"><pre><span></span><code>sudo apt-get intall programname
</code></pre></div>

<p>如你所见，命令中存在拼写错误，为了正常执行需要把“intall”替换成“install”。</p>
<p>想象现在光标正在行末，我们有很多的方法将她退回单词install并替换它。</p>
<p>我可以按两次ALT+B这样光标就会在如下的位置（这里用<sup> 指代光标的位置）。</sup></p>
<div class="highlight"><pre><span></span><code>sudo apt-get^intall programname
</code></pre></div>

<p>现在你可以按两下方向键并将“s”插入到install中去了。</p>
<p>如果你想将浏览器中的文本复制到终端，可以使用快捷键"shift + insert"。</p>
<h3>2. SUDO !!</h3>
<p>如果你还不知道这个命令，我觉得你应该好好感谢我，因为如果你不知道的话，那每次你在输入长串命令后看到“permission denied”后一定会痛苦不堪。</p>
<ul>
<li>sudo !!</li>
</ul>
<p>如何使用sudo !!？很简单。试想你刚输入了如下命令：</p>
<div class="highlight"><pre><span></span><code>apt-get install ranger
</code></pre></div>

<p>一定会出现“Permission denied”，除非你已经登录了足够高权限的账户。</p>
<p>sudo !! 就会用 sudo 的形式运行上一条命令。所以上一条命令就变成了这样：</p>
<div class="highlight"><pre><span></span><code>sudo apt-get install ranger
</code></pre></div>

<p>如果你不知道什么是sudo，<a href="http://linux.about.com/cs/linux101/g/sudo.htm">戳这里</a>。</p>
<p>（<strong>警告！主页君强烈反对使用这个命令，因为如果万一上个命令存在一些笔误或者你搞错了哪条是上一条命令，那么有可能带来的后果是灾难性的！所以，千万不要执行这条命令！千万不要执行这条命令！千万不要执行这条命令！重要的事情重复三遍。</strong>）</p>
<h3>3. 暂停并在后台运行命令</h3>
<p>我曾经写过一篇<a href="http://linux.about.com/od/commands/fl/How-To-Run-Linux-Programs-From-The-Terminal-In-Background-Mode.htm">如何在终端后台运行命令的指南</a>。</p>
<ul>
<li>CTRL + Z - 暂停应用程序</li>
<li>fg - 重新将程序唤到前台</li>
</ul>
<p>如何使用这个技巧呢?</p>
<p>试想你正用nano编辑一个文件：</p>
<div class="highlight"><pre><span></span><code>sudo nano abc.txt
</code></pre></div>

<p>文件编辑到一半你意识到你需要马上在终端输入些命令，但是nano在前台运行让你不能输入。</p>
<p>你可能觉得唯一的方法就是保存文件，退出 nano，运行命令以后在重新打开nano。</p>
<p>其实你只要按CTRL + Z，前台的命令就会暂停，画面就切回到命令行了。然后你就能运行你想要运行命令，等命令运行完后在终端窗口输入“fg”就可以回到先前暂停的任务。</p>
<p>有一个尝试非常有趣就是用nano打开文件，输入一些东西然后暂停会话。再用nano打开另一个文件，输入一些什么后再暂停会话。如果你输入“fg”你将回到第二个用nano打开的文件。只有退出nano再输入“fg”，你才会回到第一个用nano打开的文件。</p>
<h3>4. 使用nohup在登出SSH会话后仍运行命令</h3>
<p>如果你用ssh登录别的机器时，<a href="http://linux.about.com/library/cmd/blcmdl1_nohup.htm">nohup命令</a>真的非常有用。</p>
<p>那么怎么使用nohup呢？</p>
<p>想象一下你使用ssh远程登录到另一台电脑上，你运行了一条非常耗时的命令然后退出了ssh会话，不过命令仍在执行。而nohup可以将这一场景变成现实。</p>
<p>举个例子，因为测试的需要，我用我的<a href="http://linux.about.com/od/mobiledevicesother/a/Raspberry-Pi-Computer-Running-Linux.htm">树莓派</a>来下载发行版。我绝对不会给我的树莓派外接显示器、键盘或鼠标。</p>
<p>一般我总是用<a href="http://linux.about.com/od/commands/l/blcmdl1_ssh.htm">SSH</a>从笔记本电脑连接到树莓派。如果我在不用nohup的情况下使用树莓派下载大型文件，那我就必须等待到下载完成后，才能登出ssh会话关掉笔记本。可如果是这样，那我为什么要使用树莓派下文件呢？</p>
<p>使用nohup的方法也很简单，只需如下例中在nohup后输入要执行的命令即可：</p>
<div class="highlight"><pre><span></span><code>nohup wget http://mirror.is.co.za/mirrors/linuxmint.com/iso//stable/17.1/linuxmint-17.1-cinnamon-64bit.iso &amp;
</code></pre></div>

<h3>5. ‘在（at）’特定的时间运行Linux命令</h3>
<p>‘nohup’命令在你用SSH连接到服务器，并在上面保持执行SSH登出前任务的时候十分有用。</p>
<p>想一下如果你需要在特定的时间执行相同的命令，这种情况该怎么办呢？</p>
<p>命令‘at’就能妥善解决这一情况。以下是‘at’使用示例。</p>
<div class="highlight"><pre><span></span><code>at 10:38 PM Fri
at&gt; cowsay &#39;hello&#39;
at&gt; CTRL + D
</code></pre></div>

<p>上面的命令能在周五下午10时38分运行程序<a href="http://linux.about.com/cs/linux101/g/cowsay.htm">cowsay</a>。</p>
<p>使用的语法就是‘at’后追加日期时间。当at&gt;提示符出现后就可以输入你想在那个时间运行的命令了。</p>
<p>CTRL + D 返回终端。</p>
<p>还有许多日期和时间的格式，都需要你好好翻一翻‘at’的man手册来找到更多的使用方式。</p>
<h3>6. Man手册</h3>
<p>Man手册会为你列出命令和参数的使用大纲，教你如何使用她们。Man手册看起来沉闷呆板。（我思忖她们也不是被设计来娱乐我们的）。</p>
<p>不过这不代表你不能做些什么来使她们变得漂亮些。</p>
<div class="highlight"><pre><span></span><code><span class="k">export</span><span class="w"> </span><span class="n">PAGER</span><span class="o">=</span><span class="n">most</span>
</code></pre></div>

<p>你需要安装 ‘most’；她会使你的你的man手册的色彩更加绚丽。</p>
<p>你可以用以下命令给man手册设定指定的行长：</p>
<div class="highlight"><pre><span></span><code><span class="k">export</span><span class="w"> </span><span class="n">MANWIDTH</span><span class="o">=</span><span class="mi">80</span>
</code></pre></div>

<p>最后，如果你有一个可用的浏览器，你可以使用-H在默认浏览器中打开任意的man页。</p>
<div class="highlight"><pre><span></span><code>man -H &lt;command&gt;
</code></pre></div>

<p>注意啦，以上的命令只有在你将默认的浏览器设置到环境变量$BROWSER中了之后才效果哟。</p>
<h3>7. 使用htop查看和管理进程</h3>
<p>你用哪个命令找出电脑上正在运行的进程的呢？我敢打赌是‘<a href="http://linux.about.com/od/commands/l/blcmdl1_ps.htm">ps</a>’并在其后加不同的参数来得到你所想要的不同输出。</p>
<p>安装‘<a href="http://www.linux.com/community/blogs/133-general-linux/745323-5-commands-to-check-memory-usage-on-linux">htop</a>’吧！绝对让你相见恨晚。</p>
<p>htop在终端中将进程以列表的方式呈现，有点类似于Windows中的任务管理器。你可以使用功能键的组合来切换排列的方式和展示出来的项。你也可以在htop中直接杀死进程。</p>
<p>在终端中简单的输入htop即可运行。</p>
<div class="highlight"><pre><span></span><code>htop
</code></pre></div>

<h3>8. 使用ranger浏览文件系统</h3>
<p>如果说htop是命令行进程控制的好帮手，那么<a href="http://ranger.nongnu.org/">ranger</a>就是命令行浏览文件系统的好帮手。</p>
<p>你在用之前可能需要先安装，不过一旦安装了以后就可以在命令行输入以下命令启动她：</p>
<div class="highlight"><pre><span></span><code>ranger
</code></pre></div>

<p>在命令行窗口中ranger和一些别的文件管理器很像，但是相比上下结构布局，她是左右结构的，这意味着你按左方向键你将前进到上一个文件夹，而右方向键则会切换到下一个。</p>
<p>在使用前ranger的man手册还是值得一读的，这样你就可以用快捷键操作ranger了。</p>
<h3>9. 取消关机</h3>
<p>无论是在命令行还是图形用户界面<a href="http://linux.about.com/od/commands/l/blcmdl8_shutdow.htm">关机</a>后，才发现自己不是真的想要关机。</p>
<div class="highlight"><pre><span></span><code>shutdown -c
</code></pre></div>

<p>需要注意的是，如果关机已经开始则有可能来不及停止关机。</p>
<p>以下是另一个可以尝试命令：</p>
<ul>
<li><a href="http://linux.about.com/library/cmd/blcmdl1_pkill.htm">pkill</a> shutdown</li>
</ul>
<h3>10. 杀死挂起进程的简单方法</h3>
<p>想象一下，你正在运行的应用程序不明原因的僵死了。</p>
<p>你可以使用‘ps -ef’来找到该进程后杀掉或者使用‘htop’。</p>
<p>有一个更快、更容易的命令叫做<a href="http://linux.about.com/od/funnymanpages/a/funman_xkill.htm">xkill</a>。</p>
<p>简单的在终端中输入以下命令并在窗口中点击你想杀死的应用程序。</p>
<div class="highlight"><pre><span></span><code>xkill
</code></pre></div>

<p>那如果整个系统挂掉了怎么办呢？</p>
<p>按住键盘上的‘alt’和‘sysrq’不放，然后慢慢输入以下键：</p>
<ul>
<li><a href="http://blog.kember.net/articles/reisub-the-gentle-linux-restart/">REISUB</a></li>
</ul>
<p>这样不按电源键你的计算机也能重启了。</p>
<h3>11. 下载Youtube视频</h3>
<p>一般来说我们大多数人都喜欢看Youtube的视频，也会通过钟爱的播放器播放Youtube的流媒体。</p>
<p>如果你需要离线一段时间（比如：从苏格兰南部坐飞机到英格兰南部旅游的这段时间）那么你可能希望下载一些视频到存储设备中，到闲暇时观看。</p>
<p>你所要做的就是从包管理器中安装youtube-dl。</p>
<p>你可以用以下命令使用youtube-dl：</p>
<div class="highlight"><pre><span></span><code>youtube-dl url-to-video
</code></pre></div>

<p>你可以在Youtubu视频页面点击分享链接得到视频的url。只要简单的复制链接在粘帖到命令行就行了（要用shift + insert快捷键哟）。</p>
<h3>总结</h3>
<p>希望你在这篇文章中得到帮助，并且在这11条中找到至少一条让你惊叹“原来可以这样”的技巧。</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>