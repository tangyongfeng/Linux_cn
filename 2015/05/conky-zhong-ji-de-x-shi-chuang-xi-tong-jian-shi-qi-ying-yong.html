<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>Conky - 终极的 X 视窗系统监视器应用</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Author: Avishek Kumar Conky 是一个用 ‘C’ 语言写就的系统监视器，并在 GNU GPL 和 BSD 许可协议下发布，在 Linux 和 BSD 操作系统中都可以获取到它。这个 …" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">linux_cn</a></h1>
                <nav><ul>
                    <li><a href="/category/chuan-shan-jia-zhuan-fang">穿山甲专访</a></li>
                    <li><a href="/category/dai-ma-ying-xiong">代码英雄</a></li>
                    <li><a href="/category/fen-xiang">分享</a></li>
                    <li><a href="/category/guan-dian">观点</a></li>
                    <li><a href="/category/huo-dong">活动</a></li>
                    <li><a href="/category/ji-ke-man-hua">极客漫画</a></li>
                    <li><a href="/category/ji-zhu">技术</a></li>
                    <li><a href="/category/kai-yuan-zhi-hui">开源智慧</a></li>
                    <li><a href="/category/linux-fa-xing-ban">Linux 发行版</a></li>
                    <li><a href="/category/mei-ri-an-quan-zi-xun">每日安全资讯</a></li>
                    <li><a href="/category/misc">Misc</a></li>
                    <li><a href="/category/qu-kuai-lian">区块链</a></li>
                    <li><a href="/category/rong-qi-yu-yun">容器与云</a></li>
                    <li><a href="/category/ruan-jian-kai-fa">软件开发</a></li>
                    <li><a href="/category/shu-mei-pai">树莓派</a></li>
                    <li><a href="/category/xi-tong-yun-wei">系统运维</a></li>
                    <li><a href="/category/xin-wen">新闻</a></li>
                    <li><a href="/category/ying-he-guan-cha">硬核观察</a></li>
                    <li><a href="/category/zhi-ye-sheng-ya">职业生涯</a></li>
                    <li><a href="/category/zhong-jiang-ming-dan">中奖名单</a></li>
                    <li class="active"><a href="/category/zhuo-mian-ying-yong">桌面应用</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2015/05/conky-zhong-ji-de-x-shi-chuang-xi-tong-jian-shi-qi-ying-yong.html" rel="bookmark"
           title="Permalink to Conky - 终极的 X 视窗系统监视器应用">Conky - 终极的 X 视窗系统监视器应用</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2015-05-20T11:02:00+02:00">
                Published: Wed 20 May 2015
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/linux-fans-from-china.html">linux fans from china</a>
        </address>
<p>In <a href="/category/zhuo-mian-ying-yong">桌面应用</a>.</p>

</footer><!-- /.post-info -->      <p>Author: Avishek Kumar</p>
<p>Conky 是一个用 ‘C’ 语言写就的系统监视器，并在 GNU GPL 和 BSD 许可协议下发布，在 Linux 和 BSD 操作系统中都可以获取到它。这个应用是基于 X 视窗系统的，原本由 <a href="http://torsmo.sourceforge.net/">Torsmo</a> 分支而来。</p>
<h4>特点</h4>
<ul>
<li>简洁的用户界面;</li>
<li>高度可配置;</li>
<li>它既可使用内置的部件(超过 300 多个) 也可使用外部脚本，来在桌面或其自有容器中展示系统的状态；</li>
<li>低资源消耗;</li>
<li>它可显示范围广泛的系统参数，包括但不限于 CPU，内存，swap 分区 ，温度，进程，磁盘使用情况，网络状态，电池电量，邮件收发，系统消息，音乐播放器的控制，天气信息，最新新闻，升级信息等等；</li>
<li>在许多操作系统中如 CrunchBang Linux 和 Pinguy OS 被默认安装；</li>
</ul>
<h4>关于 Conky 的少有人知的事实</h4>
<ul>
<li>conky 这个名称来自于一个加拿大电视节目；</li>
<li>它已被移植到 Nokia N900 上；</li>
<li>官方已经不再维护它了；</li>
</ul>
<h3>在 Linux 中 Conky 的安装和使用</h3>
<p>在我们安装 conky 之前，我们需要使用下面的命令来安装诸如 <code>lm-sensors</code>, <code>curl</code> 和 <code>hddtemp</code> 之类的软件包：</p>
<div class="highlight"><pre><span></span><code># apt-get install lm-sensors curl hddtemp
</code></pre></div>

<p>然后是检测传感器：</p>
<div class="highlight"><pre><span></span><code># sensors-detect
</code></pre></div>

<p><strong>注</strong>: 在被系统提示时，回答 ‘Yes’ 。</p>
<p>检测所有探测到的传感器：</p>
<div class="highlight"><pre><span></span><code># sensors
</code></pre></div>

<h4>样例输出</h4>
<div class="highlight"><pre><span></span><code>acpitz-virtual-0
Adapter: Virtual device
temp1:        +49.5°C  (crit = +99.0°C)

coretemp-isa-0000
Adapter: ISA adapter
Physical id 0:  +49.0°C  (high = +100.0°C, crit = +100.0°C)
Core 0:         +49.0°C  (high = +100.0°C, crit = +100.0°C)
Core 1:         +49.0°C  (high = +100.0°C, crit = +100.0°C)
</code></pre></div>

<p>Conky 既可以从软件仓库中安装，也可从源代码编译得到：</p>
<div class="highlight"><pre><span></span><code># yum install conky              [在 RedHat 系的系统上]
# apt-get install conky-all      [在 Debian 系的系统上]
</code></pre></div>

<p><strong>注</strong>: 在 Fedora/CentOS 上安装 conky 之前，你必须启用 <a href="/article-2324-1.html">EPEL 软件仓库</a>。</p>
<p>在安装完 conky 之后，只需输入如下命令来开启它：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>conky<span class="w"> </span><span class="p">&amp;</span>
</code></pre></div>

<p><img alt="正在运行的 Conky 监视器" src="/data/attachment/album/201505/19/230536j2r85ol5ojuy8a5y.jpg"></p>
<p><em>正在运行的 Conky 监视器</em></p>
<p>这使得 conky 以一个弹窗的形式运行，并使用位于 <code>/etc/conky/conky.conf</code> 的 conky 基本配置文件。</p>
<p>你可能想将 conky 集成到桌面上，并不想让它每次以弹窗的形式出现，下面就是你需要做的：</p>
<p>将配置文件 <code>/etc/conky/conky.conf</code> 复制到你的家目录中，并将它重命名为 <code>.conkyrc</code>，开头的点号 (.) 是为了确保这个配置文件是隐藏的。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>cp<span class="w"> </span>/etc/conky/conky.conf<span class="w"> </span>/home/<span class="nv">$USER</span>/.conkyrc
</code></pre></div>

<p>现在重启 conky 来应用新的更改：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>killall<span class="w"> </span>-SIGUSR1<span class="w"> </span>conky
</code></pre></div>

<p><img alt="Conky 监视器窗口" src="/data/attachment/album/201505/19/230538ox0f5l8fx2dbkfm9.jpg"></p>
<p><em>Conky 监视器窗口</em></p>
<p>你可能想编辑位于你的家目录的 conky 的配置文件，这个配置文件的内容是非常容易理解的。</p>
<p>下面是 conky 配置文件的一个样例：</p>
<p><img alt="Conky 的配置" src="/data/attachment/album/201505/19/230540xkr7gr7bj9girz0x.jpg"></p>
<p><em>Conky 的配置</em></p>
<p>从上面的窗口中，你可以更改颜色，边框，大小，缩放比例，背景，对齐方式及几个其他属性。通过为不同的 conky 窗口设定不同的对齐方式，我们可以同时运行几个 conky 脚本。</p>
<p><strong>让 conky 使用其它脚本而不是默认配置，以及如何找到这些脚本？</strong></p>
<p>你可以编写你自己的 conky 脚本或使用来自于互联网的脚本；我们并不建议你使用从互联网中找到的具有潜在危险的任何脚本，除非你清楚你正在做什么。然而，有一些著名的主题和网页包含可信赖的 conky 脚本，例如下面所提及的：</p>
<ul>
<li><a href="http://ubuntuforums.org/showthread.php?t=281865">http://ubuntuforums.org/showthread.php?t=281865</a></li>
<li><a href="http://conky.sourceforge.net/screenshots.html">http://conky.sourceforge.net/screenshots.html</a></li>
</ul>
<p>在上面的 URL 地址中，你将发现其中每个截图都有一个超链接，它们将指向到脚本文件。</p>
<h4>测试 Conky 脚本</h4>
<p>这里我将在我的 Debian Jessie 系统中运行一个由第三方写的 conky 脚本，以此来进行测试：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>wget<span class="w"> </span>https://github.com/alexbel/conky/archive/master.zip
$<span class="w"> </span>unzip<span class="w"> </span>master.zip<span class="w"> </span>
</code></pre></div>

<p>切换当前工作目录到刚才解压的目录：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>conky-master
</code></pre></div>

<p>将 <code>secrets.yml.example</code> 重命名为 <code>secrets.yml</code>：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>mv<span class="w"> </span>secrets.yml.example<span class="w"> </span>secrets.yml
</code></pre></div>

<p>在你需要运行这个(ruby)脚本之前安装 Ruby：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>ruby
$<span class="w"> </span>ruby<span class="w"> </span>starter.rb<span class="w"> </span>
</code></pre></div>

<p><img alt="华丽的 conky 外观" src="/data/attachment/album/201505/19/230541wmm15yrmym0122ri.jpg"></p>
<p><em>华丽的 conky 外观</em></p>
<p><strong>注</strong>: 可以修改这个脚本以展示你当前的天气，温度等；</p>
<p>假如你想让 conky 开机自启，请在开机启动应用设置(startup Applications) 中添加如下的几行命令：</p>
<div class="highlight"><pre><span></span><code><span class="nv">conky</span><span class="w"> </span><span class="o">--</span><span class="k">pause</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span>
<span class="nv">save</span><span class="w"> </span><span class="nv">and</span><span class="w"> </span><span class="k">exit</span>.
</code></pre></div>

<p>最后，如此轻量级且吸引眼球的实用 GUI 软件包不再处于活跃状态且官方不再进行维护了。最新的稳定发布版本为 conky 1.9.0， 于 2012 年 5 月 3 号发布。在 Ubuntu 论坛上，一个有关用户分享 conky 配置的主题已经超过了 2000 多页。(这个论坛主题的链接为: <a href="http://ubuntuforums.org/showthread.php?t=281865/">http://ubuntuforums.org/showthread.php?t=281865/</a>)</p>
<ul>
<li><a href="http://conky.sourceforge.net/">Conky 主页</a></li>
</ul>
<p>这就是全部内容了。保持联系，保持评论。请在下面的评论框里分享你的想法和配置。</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>