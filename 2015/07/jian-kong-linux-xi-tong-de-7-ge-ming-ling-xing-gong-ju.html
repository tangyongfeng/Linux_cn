<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>监控 Linux 系统的 7 个命令行工具</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Author: Mark Gibbs 这里有一些基本的命令行工具，让你能更简单地探索和操作Linux。 深入 关于Linux最棒的一件事之一是你能深入操作系统，来探索它是如何工作的，并寻找机会来 …" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">linux_cn</a></h1>
                <nav><ul>
                    <li><a href="/category/chuan-shan-jia-zhuan-fang">穿山甲专访</a></li>
                    <li><a href="/category/dai-ma-ying-xiong">代码英雄</a></li>
                    <li><a href="/category/fen-xiang">分享</a></li>
                    <li><a href="/category/guan-dian">观点</a></li>
                    <li><a href="/category/huo-dong">活动</a></li>
                    <li><a href="/category/ji-ke-man-hua">极客漫画</a></li>
                    <li><a href="/category/ji-zhu">技术</a></li>
                    <li><a href="/category/kai-yuan-zhi-hui">开源智慧</a></li>
                    <li><a href="/category/linux-fa-xing-ban">Linux 发行版</a></li>
                    <li><a href="/category/mei-ri-an-quan-zi-xun">每日安全资讯</a></li>
                    <li><a href="/category/misc">Misc</a></li>
                    <li><a href="/category/qu-kuai-lian">区块链</a></li>
                    <li><a href="/category/rong-qi-yu-yun">容器与云</a></li>
                    <li><a href="/category/ruan-jian-kai-fa">软件开发</a></li>
                    <li><a href="/category/shu-mei-pai">树莓派</a></li>
                    <li class="active"><a href="/category/xi-tong-yun-wei">系统运维</a></li>
                    <li><a href="/category/xin-wen">新闻</a></li>
                    <li><a href="/category/ying-he-guan-cha">硬核观察</a></li>
                    <li><a href="/category/zhi-ye-sheng-ya">职业生涯</a></li>
                    <li><a href="/category/zhong-jiang-ming-dan">中奖名单</a></li>
                    <li><a href="/category/zhuo-mian-ying-yong">桌面应用</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2015/07/jian-kong-linux-xi-tong-de-7-ge-ming-ling-xing-gong-ju.html" rel="bookmark"
           title="Permalink to 监控 Linux 系统的 7 个命令行工具">监控 Linux 系统的 7 个命令行工具</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2015-07-28T15:29:00+02:00">
                Published: Tue 28 July 2015
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/linux-fans-from-china.html">linux fans from china</a>
        </address>
<p>In <a href="/category/xi-tong-yun-wei">系统运维</a>.</p>

</footer><!-- /.post-info -->      <p>Author: Mark Gibbs</p>
<p><strong>这里有一些基本的命令行工具，让你能更简单地探索和操作Linux。</strong></p>
<p><img alt="Image courtesy Meltys-stock" src="/data/attachment/album/201507/27/133018kzwyfpi5umzj8fpw.png"></p>
<h3>深入</h3>
<p>关于Linux最棒的一件事之一是你能深入操作系统，来探索它是如何工作的，并寻找机会来微调性能或诊断问题。这里有一些基本的命令行工具，让你能更简单地探索和操作Linux。大多数的这些命令是在你的Linux系统中已经内建的，但假如它们没有的话，就用谷歌搜索命令名和你的发行版名吧，你会找到哪些包需要安装（注意，一些命令是和其它命令捆绑起来打成一个包的，你所找的包可能写的是其它的名字）。如果你知道一些你所使用的其它工具，欢迎评论。</p>
<h3>我们怎么开始</h3>
<p><img alt="" src="/data/attachment/album/201507/27/133018i28lhhch4m4ck6e2.png"></p>
<p>须知： 本文中的截图取自一台<a href="https://www.debian.org/releases/stable/">Debian Linux 8.1</a> (“Jessie”)，其运行在<a href="http://www.apple.com/osx/">OS X 10.10.3</a> (“Yosemite”)操作系统下的<a href="https://www.virtualbox.org/">Oracle VirtualBox 4.3.28</a>中的一台虚拟机里。想要建立你的Debian虚拟机，可以看看我的这篇教程——“<a href="http://www.networkworld.com/article/2937148/how-to-install-debian-linux-8-1-in-a-virtualbox-vm">如何在 VirtualBox VM 下安装 Debian</a>”。</p>
<h3>Top</h3>
<p><img alt="" src="/data/attachment/album/201507/27/133019n7fgxqu2oo42gg36.png"></p>
<p>作为Linux系统监控工具中比较易用的一个，<strong>top命令</strong>能带我们一览Linux中的几乎每一处。以下这张图是它的默认界面，但是按“z”键可以切换不同的显示颜色。其它热键和命令则有其它的功能，例如显示概要信息和内存信息（第四行第二个），根据各种不一样的条件排序、终止进程任务等等（你可以在<a href="http://linux.die.net/man/1/top">这里</a>找到完整的列表）。</p>
<h3>htop</h3>
<p><img alt="" src="/data/attachment/album/201507/27/133019qxc8rr8ggep8bqlp.png"></p>
<p>相比top，它的替代品Htop则更为精致。维基百科是这样描述的：“用户经常会部署htop以免Unix top不能提供关于系统进程的足够信息，比如说当你在尝试发现应用程序里的一个小的内存泄露问题，Htop一般也能作为一个系统监听器来使用。相比top，它提供了一个更方便的光标控制界面来向进程发送信号。” (想了解更多细节猛戳<a href="http://linux.die.net/man/1/htop">这里</a>)</p>
<h3>Vmstat</h3>
<p><img alt="" src="/data/attachment/album/201507/27/133019puaclolozo2cl6zz.png"></p>
<p>Vmstat是一款监控Linux系统性能数据的简易工具，这让它更合适使用在shell脚本中。使出你的正则表达式绝招，用vmstat和cron作业来做一些激动人心的事情吧。“后面的报告给出的是上一次系统重启之后的均值，另外一份报告给出的则是从前一个报告起间隔周期中的信息。其它的进程和内存报告是那个瞬态的情况”(猛戳<a href="http://linuxcommand.org/man_pages/vmstat8.html">这里</a>获取更多信息)。</p>
<h3>ps</h3>
<p><img alt="" src="/data/attachment/album/201507/27/133020im2rfrctrxffg7f4.png"></p>
<p>ps命令展现的是正在运行中的进程列表。在这种情况下，我们用“-e”选项来显示每个进程，也就是所有正在运行的进程了（我把列表滚动到了前面，否则列名就看不到了）。这个命令有很多选项允许你去按需格式化输出。只要使用上述一点点的正则表达式技巧，你就能得到一个强大的工具了。猛戳<a href="http://linux.die.net/man/1/ps">这里</a>获取更多信息。</p>
<h3>Pstree</h3>
<p><img alt="" src="/data/attachment/album/201507/27/133020o99r5xx4iac4yvvn.png"></p>
<p>Pstree“以树状图显示正在运行中的进程。这个进程树是以某个 pid 为根节点的，如果pid被省略的话那树是以init为根节点的。如果指定用户名，那所有进程树都会以该用户所属的进程为父进程进行显示。”以树状图来帮你将进程之间的所属关系进行分类，这的确是个很有效的工具(戳<a href="http://linux.die.net/man/1/pstree">这里</a>)。</p>
<h3>pmap</h3>
<p><img alt="" src="/data/attachment/album/201507/27/133020j7u76uo7sbzx7nqg.png"></p>
<p>在调试过程中，理解一个应用程序如何使用内存是至关重要的，而pmap的作用就是当给出一个进程ID时显示出相关信息。上面的截图展示的是使用“-x”选项所产生的部分输出，你也可以用pmap的“-X”选项来获取更多的细节信息，但是前提是你要有个更宽的终端窗口。</p>
<h3>iostat</h3>
<p><img alt="" src="/data/attachment/album/201507/27/133021g2c2bjbfamarkgz4.png"></p>
<p>Linux系统的一个至关重要的性能指标是处理器和存储的使用率，它也是iostat命令所报告的内容。如同ps命令一样，iostat有很多选项允许你选择你需要的输出格式，除此之外还可以在某一段时间范围内的重复采样几次。详情请戳<a href="http://linux.die.net/man/1/iostat">这里</a>。</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>