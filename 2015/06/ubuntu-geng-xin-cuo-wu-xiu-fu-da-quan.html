<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>Ubuntu 更新错误修复大全</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Author: Abhishek 在Ubuntu更新中，谁没有碰见个错误？在Ubuntu和其它基于Ubuntu的Linux发行版中，更新错误是一个共性的错误，也经常发生。这些错误出现的原因多种多样，修复起来也很 …" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">linux_cn</a></h1>
                <nav><ul>
                    <li><a href="/category/chuan-shan-jia-zhuan-fang">穿山甲专访</a></li>
                    <li><a href="/category/dai-ma-ying-xiong">代码英雄</a></li>
                    <li><a href="/category/fen-xiang">分享</a></li>
                    <li><a href="/category/guan-dian">观点</a></li>
                    <li><a href="/category/huo-dong">活动</a></li>
                    <li><a href="/category/ji-ke-man-hua">极客漫画</a></li>
                    <li class="active"><a href="/category/ji-zhu">技术</a></li>
                    <li><a href="/category/kai-yuan-zhi-hui">开源智慧</a></li>
                    <li><a href="/category/linux-fa-xing-ban">Linux 发行版</a></li>
                    <li><a href="/category/mei-ri-an-quan-zi-xun">每日安全资讯</a></li>
                    <li><a href="/category/misc">Misc</a></li>
                    <li><a href="/category/qu-kuai-lian">区块链</a></li>
                    <li><a href="/category/rong-qi-yu-yun">容器与云</a></li>
                    <li><a href="/category/ruan-jian-kai-fa">软件开发</a></li>
                    <li><a href="/category/shu-mei-pai">树莓派</a></li>
                    <li><a href="/category/xi-tong-yun-wei">系统运维</a></li>
                    <li><a href="/category/xin-wen">新闻</a></li>
                    <li><a href="/category/ying-he-guan-cha">硬核观察</a></li>
                    <li><a href="/category/zhi-ye-sheng-ya">职业生涯</a></li>
                    <li><a href="/category/zhong-jiang-ming-dan">中奖名单</a></li>
                    <li><a href="/category/zhuo-mian-ying-yong">桌面应用</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2015/06/ubuntu-geng-xin-cuo-wu-xiu-fu-da-quan.html" rel="bookmark"
           title="Permalink to Ubuntu 更新错误修复大全">Ubuntu 更新错误修复大全</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2015-06-11T08:00:00+02:00">
                Published: Thu 11 June 2015
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/linux-fans-from-china.html">linux fans from china</a>
        </address>
<p>In <a href="/category/ji-zhu">技术</a>.</p>

</footer><!-- /.post-info -->      <p>Author: Abhishek</p>
<p><img alt="" src="/data/attachment/album/201506/11/000209ot1y6b7yyrty1wew.jpg"></p>
<p>在Ubuntu更新中，谁没有碰见个错误？在Ubuntu和其它基于Ubuntu的Linux发行版中，更新错误是一个共性的错误，也经常发生。这些错误出现的原因多种多样，修复起来也很简单。在本文中，我们将见到Ubuntu中各种类型频繁发生的更新错误以及它们的修复方法。</p>
<h3>合并列表问题</h3>
<p>当你在终端中运行更新命令时，你可能会碰到这个错误“<a href="http://itsfoss.com/how-to-fix-problem-with-mergelist/">合并列表错误</a>”，就像下面这样：</p>
<blockquote>
<p>E:Encountered a section with no Package: header,</p>
<p>E:Problem with MergeList /var/lib/apt/lists/archive.ubuntu.com<em>ubuntu</em>dists<em>precise</em>universe<em>binary-i386</em>Packages,</p>
<p>E:The package lists or status file could not be parsed or opened.’</p>
</blockquote>
<p>可以使用以下命令来修复该错误：</p>
<div class="highlight"><pre><span></span><code><span class="n">sudo</span><span class="w"> </span><span class="n">rm</span><span class="w"> </span><span class="o">-</span><span class="n">r</span><span class="w"> </span><span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">apt</span><span class="o">/</span><span class="n">lists</span><span class="o">/*</span>
<span class="n">sudo</span><span class="w"> </span><span class="n">apt</span><span class="o">-</span><span class="n">get</span><span class="w"> </span><span class="n">clean</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">sudo</span><span class="w"> </span><span class="n">apt</span><span class="o">-</span><span class="n">get</span><span class="w"> </span><span class="n">update</span>
</code></pre></div>

<h3>下载仓库信息失败 -1</h3>
<p>实际上，有两种类型的<a href="http://itsfoss.com/solve-ubuntu-error-failed-to-download-repository-information-check-your-internet-connection/">下载仓库信息失败错误</a>。如果你的错误是这样的：</p>
<blockquote>
<p>W:Failed to fetch bzip2:/var/lib/apt/lists/partial/in.archive.ubuntu.com<em>ubuntu</em>dists<em>oneiric</em>restricted<em>binary-i386</em>Packages Hash Sum mismatch,</p>
<p>W:Failed to fetch bzip2:/var/lib/apt/lists/partial/in.archive.ubuntu.com<em>ubuntu</em>dists<em>oneiric</em>multiverse<em>binary-i386</em>Packages Hash Sum mismatch,</p>
<p>E:Some index files failed to download. They have been ignored, or old ones used instead</p>
</blockquote>
<p>那么，你可以用以下命令修复：</p>
<div class="highlight"><pre><span></span><code><span class="n">sudo</span><span class="w"> </span><span class="n">rm</span><span class="w"> </span><span class="o">-</span><span class="n">rf</span><span class="w"> </span><span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">apt</span><span class="o">/</span><span class="n">lists</span><span class="o">/*</span>
<span class="n">sudo</span><span class="w"> </span><span class="n">apt</span><span class="o">-</span><span class="n">get</span><span class="w"> </span><span class="n">update</span>
</code></pre></div>

<h3>下载仓库信息失败 -2</h3>
<p>下载仓库信息失败的另外一种类型是由于PPA过时导致的。通常，当你运行更新管理器，并看到这样的错误时：</p>
<p><img alt="" src="/data/attachment/album/201506/11/000209ttirth77rr9iitfk.png"></p>
<p>你可以运行sudo apt-get update来查看哪个PPA更新失败，你可以把它从源列表中删除。你可以按照这个截图指南来<a href="http://itsfoss.com/failed-to-download-repository-information-ubuntu-13-04/">修复下载仓库信息失败错误</a>。</p>
<h3>下载包文件失败错误</h3>
<p>一个类似的错误是<a href="http://itsfoss.com/fix-failed-download-package-files-error-ubuntu/">下载包文件失败错误</a>，像这样：</p>
<p><img alt="" src="/data/attachment/album/201506/11/000210yjd7ex7vvff6epse.jpg"></p>
<p>该错误很容易修复，只需修改软件源为主服务器即可。转到“软件和更新”，在那里你可以修改下载服务器为主服务器：</p>
<p><img alt="" src="/data/attachment/album/201506/11/000210h0fu9fc5mu7h05p7.jpg"></p>
<h3>部分更新错误</h3>
<p>在终端中运行更新会出现<a href="http://itsfoss.com/fix-partial-upgrade-error-elementary-os-luna-quick-tip/">部分更新错误</a>：</p>
<blockquote>
<p>Not all updates can be installed</p>
<p>Run a partial upgrade, to install as many updates as possible</p>
</blockquote>
<p>在终端中运行以下命令来修复该错误：</p>
<div class="highlight"><pre><span></span><code>sudo apt-get install -f
</code></pre></div>

<h3>加载共享库时发生错误</h3>
<p>该错误更多是安装错误，而不是更新错误。如果尝试从源码安装程序，你可能会碰到这个错误：</p>
<blockquote>
<p>error while loading shared libraries:</p>
<p>cannot open shared object file: No such file or directory</p>
</blockquote>
<p>该错误可以通过在终端中运行以下命令来修复：</p>
<div class="highlight"><pre><span></span><code>sudo /sbin/ldconfig -v
</code></pre></div>

<p>你可以在这里查找到更多详细内容<a href="http://itsfoss.com/solve-open-shared-object-file-quick-tip/">加载共享库时发生错误</a>。</p>
<h3>无法获取锁 /var/cache/apt/archives/lock</h3>
<p>在另一个程序在使用APT时，会发生该错误。假定你正在Ubuntu软件中心安装某个东西，然后你又试着在终端中运行apt。</p>
<blockquote>
<p>E: Could not get lock /var/cache/apt/archives/lock – open (11: Resource temporarily unavailable)</p>
<p>E: Unable to lock directory /var/cache/apt/archives/</p>
</blockquote>
<p>通常，只要你把所有其它使用apt的程序关了，这个问题就会好的。但是，如果问题持续，可以使用以下命令：</p>
<div class="highlight"><pre><span></span><code><span class="n">sudo</span><span class="w"> </span><span class="n">rm</span><span class="w"> </span><span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">apt</span><span class="o">/</span><span class="n">lists</span><span class="o">/</span><span class="n">lock</span>
</code></pre></div>

<p>如果上面的命令不起作用，可以试试这个命令：</p>
<div class="highlight"><pre><span></span><code>sudo killall apt-get
</code></pre></div>

<p>关于该错误的更多信息，可以在<a href="http://itsfoss.com/fix-ubuntu-install-error/">这里</a>找到。</p>
<h3>GPG错误： 下列签名无法验证</h3>
<p>在添加一个PPA时，可能会导致以下错误<a href="http://itsfoss.com/solve-gpg-error-signatures-verified-ubuntu/">GPG错误： 下列签名无法验证</a>，这通常发生在终端中运行更新时：</p>
<blockquote>
<p>W: GPG error: <a href="http://repo.mate-desktop.org">http://repo.mate-desktop.org</a> saucy InRelease: The following signatures couldn’t be verified because the public key is not available: NO_PUBKEY 68980A0EA10B4DE8</p>
</blockquote>
<p>我们所要做的，就是获取系统中的这个公钥，从信息中获取密钥号。在上述信息中，密钥号为68980A0EA10B4DE8。该密钥可通过以下方式使用：</p>
<div class="highlight"><pre><span></span><code>sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys 68980A0EA10B4DE8
</code></pre></div>

<p>在添加密钥后，再次运行更新就没有问题了。</p>
<h3>BADSIG错误</h3>
<p>另外一个与签名相关的Ubuntu更新错误是<a href="http://itsfoss.com/solve-badsig-error-quick-tip/">BADSIG错误</a>，它看起来像这样：</p>
<blockquote>
<p>W: A error occurred during the signature verification. The repository is not updated and the previous index files will be used. GPG error: <a href="http://extras.ubuntu.com">http://extras.ubuntu.com</a> precise Release: The following signatures were invalid: BADSIG 16126D3A3E5C1192 Ubuntu Extras Archive Automatic Signing Key</p>
<p>W: GPG error: <a href="http://ppa.launchpad.net">http://ppa.launchpad.net</a> precise Release:</p>
<p>The following signatures were invalid: BADSIG 4C1CBC1B69B0E2F4 Launchpad PPA for Jonathan French W: Failed to fetch <a href="http://extras.ubuntu.com/ubuntu/dists/precise/Release">http://extras.ubuntu.com/ubuntu/dists/precise/Release</a></p>
</blockquote>
<p>要修复该BADSIG错误，请在终端中使用以下命令：</p>
<div class="highlight"><pre><span></span><code><span class="n">sudo</span><span class="w"> </span><span class="n">apt</span><span class="o">-</span><span class="n">get</span><span class="w"> </span><span class="n">clean</span>
<span class="n">cd</span><span class="w"> </span><span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">apt</span>
<span class="n">sudo</span><span class="w"> </span><span class="n">mv</span><span class="w"> </span><span class="n">lists</span><span class="w"> </span><span class="n">oldlist</span>
<span class="n">sudo</span><span class="w"> </span><span class="n">mkdir</span><span class="w"> </span><span class="o">-</span><span class="n">p</span><span class="w"> </span><span class="n">lists</span><span class="o">/</span><span class="n">partial</span>
<span class="n">sudo</span><span class="w"> </span><span class="n">apt</span><span class="o">-</span><span class="n">get</span><span class="w"> </span><span class="n">clean</span>
<span class="n">sudo</span><span class="w"> </span><span class="n">apt</span><span class="o">-</span><span class="n">get</span><span class="w"> </span><span class="n">update</span>
</code></pre></div>

<p>本文汇集了你可能会碰到的<strong>Ubuntu更新错误</strong>，我希望这会对你处理这些错误有所帮助。你在Ubuntu中是否也碰到过其它更新错误呢？请在下面的评论中告诉我，我会试着写个快速指南。</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>