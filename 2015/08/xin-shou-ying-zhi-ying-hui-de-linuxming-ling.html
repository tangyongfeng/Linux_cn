<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>新手应知应会的Linux命令</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Author: Swapnil Bhartiya 在Fedora上通过命令行使用dnf来管理系统更新 基于Linux的系统最美妙的一点，就是你可以在终端中使用命令行来管理整个系统。使用命令行的优势在于，你可以使用相同的知识和 …" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">linux_cn</a></h1>
                <nav><ul>
                    <li><a href="/category/chuan-shan-jia-zhuan-fang">穿山甲专访</a></li>
                    <li><a href="/category/dai-ma-ying-xiong">代码英雄</a></li>
                    <li><a href="/category/fen-xiang">分享</a></li>
                    <li><a href="/category/guan-dian">观点</a></li>
                    <li><a href="/category/huo-dong">活动</a></li>
                    <li><a href="/category/ji-ke-man-hua">极客漫画</a></li>
                    <li class="active"><a href="/category/ji-zhu">技术</a></li>
                    <li><a href="/category/kai-yuan-zhi-hui">开源智慧</a></li>
                    <li><a href="/category/linux-fa-xing-ban">Linux 发行版</a></li>
                    <li><a href="/category/mei-ri-an-quan-zi-xun">每日安全资讯</a></li>
                    <li><a href="/category/misc">Misc</a></li>
                    <li><a href="/category/qu-kuai-lian">区块链</a></li>
                    <li><a href="/category/rong-qi-yu-yun">容器与云</a></li>
                    <li><a href="/category/ruan-jian-kai-fa">软件开发</a></li>
                    <li><a href="/category/shu-mei-pai">树莓派</a></li>
                    <li><a href="/category/xi-tong-yun-wei">系统运维</a></li>
                    <li><a href="/category/xin-wen">新闻</a></li>
                    <li><a href="/category/ying-he-guan-cha">硬核观察</a></li>
                    <li><a href="/category/zhi-ye-sheng-ya">职业生涯</a></li>
                    <li><a href="/category/zhong-jiang-ming-dan">中奖名单</a></li>
                    <li><a href="/category/zhuo-mian-ying-yong">桌面应用</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2015/08/xin-shou-ying-zhi-ying-hui-de-linuxming-ling.html" rel="bookmark"
           title="Permalink to 新手应知应会的Linux命令">新手应知应会的Linux命令</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2015-08-10T07:50:00+02:00">
                Published: Mon 10 August 2015
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/linux-fans-from-china.html">linux fans from china</a>
        </address>
<p>In <a href="/category/ji-zhu">技术</a>.</p>

</footer><!-- /.post-info -->      <p>Author: Swapnil Bhartiya</p>
<p><img alt="Manage system updates via the command line with dnf on Fedora." src="/data/attachment/album/201508/09/235330inkuyuyfd35zm11d.png"></p>
<p><em>在Fedora上通过命令行使用dnf来管理系统更新</em></p>
<p>基于Linux的系统最美妙的一点，就是你可以在终端中使用命令行来管理整个系统。使用命令行的优势在于，你可以使用相同的知识和技能来管理随便哪个Linux发行版。</p>
<p>对于各个发行版以及桌面环境（DE）而言，要一致地使用图形化用户界面（GUI）却几乎是不可能的，因为它们都提供了各自的用户界面。要明确的是，有些情况下在不同的发行版上需要使用不同的命令来执行某些特定的任务，但是，基本来说它们的思路和目的是一致的。</p>
<p>在本文中，我们打算讨论Linux用户应当掌握的一些基本命令。我将给大家演示怎样使用命令行来更新系统、管理软件、操作文件以及切换到root，这些操作将在三个主要发行版上进行：Ubuntu（也包括其定制版和衍生版，还有Debian），openSUSE，以及Fedora。</p>
<p><em>让我们开始吧！</em></p>
<h3>保持系统安全和最新</h3>
<p>Linux是基于安全设计的，但事实上是，任何软件都有缺陷，会导致安全漏洞。所以，保持你的系统更新到最新是十分重要的。这么想吧：运行过时的操作系统，就像是你坐在全副武装的坦克里头，而门却没有锁。武器会保护你吗？任何人都可以进入开放的大门，对你造成伤害。同样，在你的系统中也有没有打补丁的漏洞，这些漏洞会危害到你的系统。开源社区，不像专利世界，在漏洞补丁方面反应是相当快的，所以，如果你保持系统最新，你也获得了安全保证。</p>
<p>留意新闻站点，了解安全漏洞。如果发现了一个漏洞，了解它，然后在补丁出来的第一时间更新。不管怎样，在生产环境上，你每星期必须至少运行一次更新命令。如果你运行着一台复杂的服务器，那么就要额外当心了。仔细阅读变更日志，以确保更新不会搞坏你的自定义服务。</p>
<p><strong>Ubuntu</strong>：牢记一点：你在升级系统或安装不管什么软件之前，都必须要刷新仓库（也就是repos）。在Ubuntu上，你可以使用下面的命令来更新系统，第一个命令用于刷新仓库：</p>
<div class="highlight"><pre><span></span><code>sudo apt-get update
</code></pre></div>

<p>仓库更新后，现在你可以运行系统更新命令了：</p>
<div class="highlight"><pre><span></span><code>sudo apt-get upgrade
</code></pre></div>

<p>然而，这个命令不会更新内核和其它一些包，所以你也必须要运行下面这个命令：</p>
<div class="highlight"><pre><span></span><code>sudo apt-get dist-upgrade
</code></pre></div>

<p><strong>openSUSE</strong>：如果你是在openSUSE上，你可以使用以下命令来更新系统（照例，第一个命令的意思是更新仓库）：</p>
<div class="highlight"><pre><span></span><code>sudo zypper refresh
sudo zypper up
</code></pre></div>

<p><strong>Fedora</strong>：如果你是在Fedora上，你可以使用'dnf'命令，它是zypper和apt-get的'同类'：</p>
<div class="highlight"><pre><span></span><code>sudo dnf update
sudo dnf upgrade
</code></pre></div>

<h3>软件安装与移除</h3>
<p>你只可以安装那些你系统上启用的仓库中可用的包，各个发行版默认都附带有并启用了一些官方或者第三方仓库。</p>
<p><strong>Ubuntu</strong>：要在Ubuntu上安装包，首先更新仓库，然后使用下面的语句：</p>
<div class="highlight"><pre><span></span><code><span class="n">sudo</span><span class="w"> </span><span class="n">apt</span><span class="o">-</span><span class="k">get</span><span class="w"> </span><span class="n">install</span><span class="w"> </span><span class="o">[</span><span class="n">package_name</span><span class="o">]</span>
</code></pre></div>

<p>样例：</p>
<div class="highlight"><pre><span></span><code>sudo apt-get install gimp
</code></pre></div>

<p><strong>openSUSE</strong>：命令是这样的：</p>
<div class="highlight"><pre><span></span><code><span class="n">sudo</span><span class="w"> </span><span class="n">zypper</span><span class="w"> </span><span class="n">install</span><span class="w"> </span><span class="o">[</span><span class="n">package_name</span><span class="o">]</span>
</code></pre></div>

<p><strong>Fedora</strong>：Fedora已经废弃了'yum'，现在换成了'dnf'，所以命令是这样的：</p>
<div class="highlight"><pre><span></span><code><span class="n">sudo</span><span class="w"> </span><span class="n">dnf</span><span class="w"> </span><span class="n">install</span><span class="w"> </span><span class="o">[</span><span class="n">package_name</span><span class="o">]</span>
</code></pre></div>

<p>移除软件的过程也一样，只要把'install'改成'remove'。</p>
<p><strong>Ubuntu</strong>：</p>
<div class="highlight"><pre><span></span><code><span class="n">sudo</span><span class="w"> </span><span class="n">apt</span><span class="o">-</span><span class="k">get</span><span class="w"> </span><span class="n">remove</span><span class="w"> </span><span class="o">[</span><span class="n">package_name</span><span class="o">]</span>
</code></pre></div>

<p><strong>openSUSE</strong>：</p>
<div class="highlight"><pre><span></span><code><span class="n">sudo</span><span class="w"> </span><span class="n">zypper</span><span class="w"> </span><span class="n">remove</span><span class="w"> </span><span class="o">[</span><span class="n">package_name</span><span class="o">]</span>
</code></pre></div>

<p><strong>Fedora</strong>：</p>
<div class="highlight"><pre><span></span><code><span class="n">sudo</span><span class="w"> </span><span class="n">dnf</span><span class="w"> </span><span class="n">remove</span><span class="w"> </span><span class="o">[</span><span class="n">package_name</span><span class="o">]</span>
</code></pre></div>

<h3>如何管理第三方软件？</h3>
<p>在一个庞大的开发者社区中，这些开发者们为用户提供了许多的软件。不同的发行版有不同的机制来将这些第三方软件提供给用户。当然，同时也取决于开发者怎样将这些软件提供给用户，有些开发者会提供二进制包，而另外一些开发者则将软件发布到仓库中。</p>
<p>Ubuntu很多地方都用到PPA（个人包归档），但是，不幸的是，它却没有提供一个内建工具来帮助用于搜索这些PPA仓库。在安装软件前，你将需要通过Google搜索PPA，然后手工添加该仓库。下面就是添加PPA到系统的方法：</p>
<div class="highlight"><pre><span></span><code>sudo add-apt-repository ppa:&lt;repository-name&gt;
</code></pre></div>

<p>样例：比如说，我想要添加LibreOffice PPA到我的系统中。我应该Google该PPA，然后从Launchpad获得该仓库的名称，在本例中它是"libreoffice/ppa"。然后，使用下面的命令来添加该PPA：</p>
<div class="highlight"><pre><span></span><code>sudo add-apt-repository ppa:libreoffice/ppa
</code></pre></div>

<p>它会要你按下回车键来导入密钥。完成后，使用'update'命令来刷新仓库，然后安装该包。</p>
<p>openSUSE拥有一个针对第三方应用的优雅的解决方案。你可以访问software.opensuse.org，一键点击搜索并安装相应包，它会自动将对应的仓库添加到你的系统中。如果你想要手工添加仓库，可以使用该命令：</p>
<div class="highlight"><pre><span></span><code><span class="n">sudo</span><span class="w"> </span><span class="n">zypper</span><span class="w"> </span><span class="n">ar</span><span class="w"> </span><span class="o">-</span><span class="n">f</span><span class="w"> </span><span class="n">url_of_the_repo</span><span class="w"> </span><span class="n">name_of_repo</span>
<span class="n">sudo</span><span class="w"> </span><span class="n">zypper</span><span class="w"> </span><span class="n">ar</span><span class="w"> </span><span class="o">-</span><span class="n">f</span><span class="w"> </span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">download</span><span class="o">.</span><span class="n">opensuse</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">repositories</span><span class="o">/</span><span class="n">LibreOffice</span><span class="p">:</span><span class="n">Factory</span><span class="o">/</span><span class="n">openSUSE_13</span><span class="o">.</span><span class="mi">2</span><span class="o">/</span><span class="n">LibreOffice</span><span class="p">:</span><span class="n">Factory</span><span class="o">.</span><span class="n">repo</span><span class="w"> </span><span class="n">LOF</span>
</code></pre></div>

<p>然后，刷新仓库并安装软件：</p>
<div class="highlight"><pre><span></span><code>sudo zypper refresh
sudo zypper install libreoffice
</code></pre></div>

<p>Fedora用户只需要添加RPMFusion（包括自由软件和非自由软件仓库），该仓库包含了大量的应用。如果你需要添加该仓库，命令如下：</p>
<div class="highlight"><pre><span></span><code>dnf config-manager --add-repo http://www.example.com/example.repo
</code></pre></div>

<h3>一些基本命令</h3>
<p>我已经写了一些关于使用CLI来管理你系统上的文件的<a href="http://www.linux.com/learn/tutorials/828027-how-to-manage-your-files-from-the-command-line">文章</a>，下面介绍一些基本命令，这些命令在所有发行版上都经常会用到。</p>
<p>拷贝文件或目录到一个新的位置：</p>
<div class="highlight"><pre><span></span><code>cp path_of_file_1 path_of_the_directory_where_you_want_to_copy/
</code></pre></div>

<p>将某个目录中的所有文件拷贝到一个新的位置（注意斜线和星号，它指的是该目录下的所有文件）：</p>
<div class="highlight"><pre><span></span><code>cp path_of_files/* path_of_the_directory_where_you_want_to_copy/
</code></pre></div>

<p>将一个文件从某个位置移动到另一个位置（尾斜杠是说放在该目录中）：</p>
<div class="highlight"><pre><span></span><code>mv path_of_file_1 path_of_the_directory_where_you_want_to_move/
</code></pre></div>

<p>将所有文件从一个位置移动到另一个位置：</p>
<div class="highlight"><pre><span></span><code>mv path_of_directory_where_files_are/* path_of_the_directory_where_you_want_to_move/
</code></pre></div>

<p>删除一个文件：</p>
<div class="highlight"><pre><span></span><code>rm path_of_file
</code></pre></div>

<p>删除一个目录：</p>
<div class="highlight"><pre><span></span><code>rm -r path_of_directory
</code></pre></div>

<p>移除目录中所有内容，完整保留目录文件夹：</p>
<div class="highlight"><pre><span></span><code>rm -r path_of_directory/*
</code></pre></div>

<h3>创建新目录</h3>
<p>要创建一个新目录，首先进入到你要创建该目录的位置。比如说，你想要在你的Documents目录中创建一个名为'foundation'的文件夹。让我们使用 cd （即change directory，改变目录）命令来改变目录：</p>
<div class="highlight"><pre><span></span><code>cd /home/swapnil/Documents
</code></pre></div>

<p>（替换'swapnil'为你系统中的用户名）</p>
<p>然后，使用 mkdir 命令来创建该目录：</p>
<div class="highlight"><pre><span></span><code>mkdir foundation
</code></pre></div>

<p>你也可以从任何地方创建一个目录，通过指定该目录的路径即可。例如：</p>
<div class="highlight"><pre><span></span><code>mdkir /home/swapnil/Documents/foundation
</code></pre></div>

<p>如果你想要连父目录一起创建，那么可以使用 -p 选项。它会在指定路径中创建所有目录：</p>
<div class="highlight"><pre><span></span><code>mdkir -p /home/swapnil/Documents/linux/foundation
</code></pre></div>

<h3>成为root</h3>
<p>你或许需要成为root，或者具有sudo权力的用户，来实施一些管理任务，如管理软件包或者对根目录或其下的文件进行一些修改。其中一个例子就是编辑'fstab'文件，该文件记录了挂载的硬盘驱动器。它在'etc'目录中，而该目录又在根目录中，你只能作为超级用户来修改该文件。在大多数的发行版中，你可以通过'su'来成为root。比如说，在openSUSE上，我想要成为root，因为我要在根目录中工作，你可以使用下面的命令之一：</p>
<div class="highlight"><pre><span></span><code>sudo su -
</code></pre></div>

<p>或</p>
<div class="highlight"><pre><span></span><code>su -
</code></pre></div>

<p>该命令会要求输入密码，然后你就具有root特权了。记住一点：千万不要以root用户来运行系统，除非你知道你正在做什么。另外重要的一点需要注意的是，你以root什么对目录或文件进行修改后，会将它们的拥有关系从该用户或特定的服务改变为root。你必须恢复这些文件的拥有关系，否则该服务或用户就不能访问或写入到那些文件。要改变用户，命令如下：</p>
<div class="highlight"><pre><span></span><code>sudo chown -R 用户:组 文件或目录名
</code></pre></div>

<p>当你将其它发行版上的分区挂载到系统中时，你可能经常需要该操作。当你试着访问这些分区上的文件时，你可能会碰到权限拒绝错误，你只需要改变这些分区的拥有关系就可以访问它们了。需要额外当心的是，不要改变根目录的权限或者拥有关系。</p>
<p>这些就是Linux新手们需要的基本命令。如果你有任何问题，或者如果你想要我们涵盖一个特定的话题，请在下面的评论中告诉我们吧。</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>