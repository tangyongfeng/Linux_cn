<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>在 Linux 中怎么运行 MS-DOS 游戏和程序</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Author: Sk 你是否想过尝试一些经典的 MS-DOS 游戏和像 Turbo C++ 这样的废弃的 C++ 编译器？这篇教程将会介绍如何使用 DOSBox 在 Linux 环境下运 …" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">linux_cn</a></h1>
                <nav><ul>
                    <li><a href="/category/chuan-shan-jia-zhuan-fang">穿山甲专访</a></li>
                    <li><a href="/category/dai-ma-ying-xiong">代码英雄</a></li>
                    <li><a href="/category/fen-xiang">分享</a></li>
                    <li><a href="/category/guan-dian">观点</a></li>
                    <li><a href="/category/huo-dong">活动</a></li>
                    <li><a href="/category/ji-ke-man-hua">极客漫画</a></li>
                    <li><a href="/category/ji-zhu">技术</a></li>
                    <li><a href="/category/kai-yuan-zhi-hui">开源智慧</a></li>
                    <li><a href="/category/linux-fa-xing-ban">Linux 发行版</a></li>
                    <li><a href="/category/mei-ri-an-quan-zi-xun">每日安全资讯</a></li>
                    <li><a href="/category/misc">Misc</a></li>
                    <li><a href="/category/qu-kuai-lian">区块链</a></li>
                    <li><a href="/category/rong-qi-yu-yun">容器与云</a></li>
                    <li><a href="/category/ruan-jian-kai-fa">软件开发</a></li>
                    <li><a href="/category/shu-mei-pai">树莓派</a></li>
                    <li><a href="/category/xi-tong-yun-wei">系统运维</a></li>
                    <li><a href="/category/xin-wen">新闻</a></li>
                    <li><a href="/category/ying-he-guan-cha">硬核观察</a></li>
                    <li><a href="/category/zhi-ye-sheng-ya">职业生涯</a></li>
                    <li><a href="/category/zhong-jiang-ming-dan">中奖名单</a></li>
                    <li class="active"><a href="/category/zhuo-mian-ying-yong">桌面应用</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2018/11/zai-linux-zhong-zen-yao-yun-xing-ms-dos-you-xi-he-cheng-xu.html" rel="bookmark"
           title="Permalink to 在 Linux 中怎么运行 MS-DOS 游戏和程序">在 Linux 中怎么运行 MS-DOS 游戏和程序</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2018-11-12T23:51:12+01:00">
                Published: Mon 12 November 2018
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/linux-fans-from-china.html">linux fans from china</a>
        </address>
<p>In <a href="/category/zhuo-mian-ying-yong">桌面应用</a>.</p>

</footer><!-- /.post-info -->      <p>Author: Sk</p>
<p><img alt="" src="/data/attachment/album/201811/12/235116y1q0qgh8qnc8jiej.png"></p>
<p>你是否想过尝试一些经典的 MS-DOS 游戏和像 Turbo C++ 这样的废弃的 C++ 编译器？这篇教程将会介绍如何使用 DOSBox 在 Linux 环境下运行 MS-DOS 的游戏和程序。DOSBox 是一个 x86 平台的 DOS 模拟器，可以用来运行经典的 DOS 游戏和程序。 DOSBox 可以模拟带有声音、图形、鼠标、操纵杆和调制解调器等的因特尔 x86 电脑，它允许你运行许多旧的 MS-DOS 游戏和程序，这些游戏和程序根本无法在任何现代 PC 和操作系统上运行，例如 Microsoft Windows XP 及更高版本、Linux 和FreeBSD。 DOSBox 是免费的，使用 C++ 编程语言编写并在 GPL 下分发。</p>
<h3>在 Linux 上安装 DOSBox</h3>
<p>DOSBox 在大多数 Linux 发行版的默认仓库中都能找的到。</p>
<p>在 Arch Linux 及其衍生版如 Antergos、Manjaro Linux 上：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>sudo<span class="w"> </span>pacman<span class="w"> </span>-S<span class="w"> </span>dosbox
</code></pre></div>

<p>在 Debian、Ubuntu、Linux Mint 上：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>dosbox
</code></pre></div>

<p>在 Fedora 上：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>sudo<span class="w"> </span>dnf<span class="w"> </span>install<span class="w"> </span>dosbox
</code></pre></div>

<h3>配置 DOSBox</h3>
<p>DOSBox 是一个开箱即用的软件，它不需要进行初始化配置。它的配置文件位于 <code>~/.dosbox</code> 文件夹中，名为 <code>dosbox-x.xx.conf</code>。 在此配置文件中，你可以编辑/修改各种设置，例如以全屏模式启动 DOSBox，全屏使用双缓冲，设置首选分辨率，鼠标灵敏度，启用或禁用声音，扬声器，操纵杆等等。如前所述，默认设置即可正常工作。你可以不用进行任何更改。</p>
<h3>在 Linux 中运行 MS-DOS 上的游戏和程序</h3>
<p>在终端运行以下命令启动 DOSBox：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>dosbox
</code></pre></div>

<p>下图就是 DOSBox 的界面</p>
<p><img alt="" src="/data/attachment/album/201811/12/235117s18kaalxv8892ngk.png"></p>
<p>正如你所看到的，DOSBox 带有自己的类似 DOS 的命令提示符和一个虚拟的 <code>Z:\</code> 的驱动器，如果你熟悉 MS-DOS 的话，你会发现在 DOSBox 环境下工作不会有任何问题。</p>
<p>这是 <code>dir</code> 命令（在 Linux 中等同于 <code>ls</code> 命令）的输出：</p>
<p><img alt="" src="/data/attachment/album/201811/12/235119bnxssv20vs7oepgp.png"></p>
<p>如果你是第一次使用 DOSBox，你可以通过在 DOSBox 提示符中输入以下命令来查看关于 DOSBox 的简介：</p>
<div class="highlight"><pre><span></span><code>intro
</code></pre></div>

<p>在介绍部分按回车进入下一页。</p>
<p>要查看 DOS 中最常用命令的列表，请使用此命令:</p>
<div class="highlight"><pre><span></span><code>help
</code></pre></div>

<p>要查看 DOSBox 中所有支持的命令的列表，请键入：</p>
<div class="highlight"><pre><span></span><code>help /all
</code></pre></div>

<p>记好了这些命令应该在 DOSBox 提示符中使用，而不是在 Linux 终端中使用。</p>
<p>DOSBox 还支持一些实用的键盘组合键。下图是能有效使用 DOSBox 的默认键盘快捷键。</p>
<p><img alt="" src="/data/attachment/album/201811/12/235121dz2gpkj2291qj419.png"></p>
<p>要退出 DOSBox，只需键入如下命令并按回车：</p>
<div class="highlight"><pre><span></span><code><span class="k">exit</span>
</code></pre></div>

<p>默认情况下，DOSBox 开始运行时的正常屏幕窗口大小如上所示。</p>
<p>要直接在全屏启动 DOSBox，请编辑 <code>dosbox-x.xx.conf</code> 文件并将<code>fullscreen</code> 变量的值设置为 <code>enable</code>。 之后，DOSBox 将以全屏模式启动。 如果要返回正常屏幕，请按 <code>ALT+ENTER</code>。</p>
<p>希望你掌握了 DOSBox 的这些基本用法。</p>
<p>让我们继续安装一些 DOS 程序和游戏。</p>
<p>首先，我们需要在 Linux 系统中创建目录来保存程序和游戏。我将创建两个名为 <code>~/dosprograms</code> 和 <code>~/dosgames</code> 的目录，第一个用于存储程序，后者用于存储游戏。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>mkdir<span class="w"> </span>~/dosprograms<span class="w"> </span>~/dosgames
</code></pre></div>

<p>出于本指南的目的，我将向你展示如何安装 Turbo C++ 程序和 Mario 游戏。我们首先将看到如何安装 Turbo。</p>
<p>下载最后版本的 Turbo C++ 编译器并将其解压到 <code>~/dosprograms</code> 目录中。 我已经将 Turbo C++ 保存在在我的 <code>~/dosprograms/TC/</code> 目录中了。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>ls<span class="w"> </span>dosprograms/tc/

BGI<span class="w"> </span>BIN<span class="w"> </span>CLASSLIB<span class="w"> </span>DOC<span class="w"> </span>EXAMPLES<span class="w"> </span>FILELIST.DOC<span class="w"> </span>INCLUDE<span class="w"> </span>LIB<span class="w"> </span>README<span class="w"> </span>README.COM
</code></pre></div>

<p>运行 DOSBox:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>dosbox
</code></pre></div>

<p>将 <code>~/dosprograms</code> 目录挂载为 DOSBox 中的虚拟驱动器 <code>C:\</code></p>
<div class="highlight"><pre><span></span><code>Z:\&gt;mount c ~/dosprograms
</code></pre></div>

<p>你会看到类似下面的输出：</p>
<div class="highlight"><pre><span></span><code>Drive C is mounted as local directory /home/sk/dosprograms.
</code></pre></div>

<p><img alt="" src="/data/attachment/album/201811/12/235122pfz3nbwj02nf3rvz.png"></p>
<p>现在，使用命令切换到 C 盘：</p>
<div class="highlight"><pre><span></span><code>Z:\&gt;c:
</code></pre></div>

<p>然后切换到 <code>tc/bin</code> 目录：</p>
<div class="highlight"><pre><span></span><code>Z:\&gt;cd tc/bin
</code></pre></div>

<p>最后，运行 Turbo C++ 可执行文件：</p>
<div class="highlight"><pre><span></span><code>Z:\&gt;tc.exe
</code></pre></div>

<p><strong>备注：</strong>只需输入前几个字母，然后按回车键可以自动填充文件名。</p>
<p><img alt="" src="/data/attachment/album/201811/12/235124t7e507cww9zaaww7.png"></p>
<p>你现在将进入 Turbo C++ 控制台。</p>
<p><img alt="" src="/data/attachment/album/201811/12/235125n3rinxiigibvj1in.png"></p>
<p>创建新文件（<code>ATL + F</code>）并开始编程：</p>
<p><img alt="" src="/data/attachment/album/201811/12/235127r32676bz3w9w97wu.png"></p>
<p>你可以同样安装和运行其他经典 DOS 程序。</p>
<p><strong>故障排除：</strong></p>
<p>运行 Turbo C++ 或其他任何 DOS 程序时，你可能会遇到以下错误：</p>
<div class="highlight"><pre><span></span><code><span class="nv">DOSBox</span><span class="w"> </span><span class="nv">switched</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">max</span><span class="w"> </span><span class="nv">cycles</span>,<span class="w"> </span><span class="nv">because</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">setting</span>:<span class="w"> </span><span class="nv">cycles</span><span class="o">=</span><span class="nv">auto</span>.<span class="w"> </span><span class="k">If</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">game</span><span class="w"> </span><span class="nv">runs</span><span class="w"> </span><span class="nv">too</span><span class="w"> </span><span class="nv">fast</span><span class="w"> </span><span class="nv">try</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">fixed</span><span class="w"> </span><span class="nv">cycles</span><span class="w"> </span><span class="nv">amount</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">DOSBox</span><span class="err">&#39;s options. Exit to error: DRC64:Unhandled memory reference</span>
</code></pre></div>

<p>要解决此问题，编辑 <code>~/.dosbox/dosbox-x.xx.conf</code> 文件：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>nano<span class="w"> </span>~/.dosbox/dosbox-0.74.conf
</code></pre></div>

<p>找到以下变量：</p>
<div class="highlight"><pre><span></span><code>core=auto
</code></pre></div>

<p>并更改其值为：</p>
<div class="highlight"><pre><span></span><code>core=normal
</code></pre></div>

<p>现在，让我们看看如何运行基于DOS的游戏，例如 <strong>Mario Bros VGA</strong>。</p>
<p>从 <a href="https://www.dosgames.com/game/mario-bros-vga">这里</a> 下载 Mario 游戏，并将其解压到 Linux 中的 <code>~/dosgames</code> 目录。</p>
<p>运行 DOSBox：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>dosbox
</code></pre></div>

<p>我们刚才使用了虚拟驱动器 <code>C:</code> 来运行 DOS 程序。现在让我们使用 <code>D:</code> 作为虚拟驱动器来运行游戏。</p>
<p>在 DOSBox 提示符下，运行以下命令将 <code>~/dosgames</code> 目录挂载为虚拟驱动器 <code>D</code>：</p>
<div class="highlight"><pre><span></span><code>Z:\&gt;mount d ~/dosgames
</code></pre></div>

<p>进入驱动器 <code>D:</code>：</p>
<div class="highlight"><pre><span></span><code>Z:\&gt;d:
</code></pre></div>

<p>然后进入 mario 游戏目录并运行 <code>mario.exe</code> 文件来启动游戏。</p>
<div class="highlight"><pre><span></span><code>D:\&gt;cd mario
D:\&gt;mario.exe
</code></pre></div>

<p><img alt="" src="/data/attachment/album/201811/12/235128wam10oj7aj3s30o0.png"></p>
<p>开始玩游戏：</p>
<p><img alt="" src="/data/attachment/album/201811/12/235129vknq393221g2brra.png"></p>
<p>你可以同样像上面所说的那样运行任何基于 DOS 的游戏。 <a href="https://www.dosbox.com/comp_list.php">点击这里</a>查看可以使用 DOSBox 运行的游戏的完整列表。</p>
<h3>总结</h3>
<p>尽管 DOSBox 并不能作为 MS-DOS 的完全替代品，并且还缺少 MS-DOS 中的许多功能，但它足以安装和运行大多数的 DOS 游戏和程序。</p>
<p>有关更多详细信息，请参阅官方 <a href="https://www.dosbox.com/DOSBoxManual.html">DOSBox手册</a>。</p>
<p>这就是全部内容。希望这对你有用。更多优秀指南即将到来。 敬请关注！</p>
<p>干杯!</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>