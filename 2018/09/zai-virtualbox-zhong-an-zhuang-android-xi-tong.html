<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>在 VirtualBox 中安装 Android 系统</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Author: Ranvir Singh 如果你正在开发 Android 应用，也许会遇到小麻烦。诚然，ios 移动开发有 macOS 系统平台为其提供友好便利性， Android 开发仅有支持 …" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">linux_cn</a></h1>
                <nav><ul>
                    <li><a href="/category/chuan-shan-jia-zhuan-fang">穿山甲专访</a></li>
                    <li><a href="/category/dai-ma-ying-xiong">代码英雄</a></li>
                    <li><a href="/category/fen-xiang">分享</a></li>
                    <li><a href="/category/guan-dian">观点</a></li>
                    <li><a href="/category/huo-dong">活动</a></li>
                    <li><a href="/category/ji-ke-man-hua">极客漫画</a></li>
                    <li class="active"><a href="/category/ji-zhu">技术</a></li>
                    <li><a href="/category/kai-yuan-zhi-hui">开源智慧</a></li>
                    <li><a href="/category/linux-fa-xing-ban">Linux 发行版</a></li>
                    <li><a href="/category/mei-ri-an-quan-zi-xun">每日安全资讯</a></li>
                    <li><a href="/category/misc">Misc</a></li>
                    <li><a href="/category/qu-kuai-lian">区块链</a></li>
                    <li><a href="/category/rong-qi-yu-yun">容器与云</a></li>
                    <li><a href="/category/ruan-jian-kai-fa">软件开发</a></li>
                    <li><a href="/category/shu-mei-pai">树莓派</a></li>
                    <li><a href="/category/xi-tong-yun-wei">系统运维</a></li>
                    <li><a href="/category/xin-wen">新闻</a></li>
                    <li><a href="/category/ying-he-guan-cha">硬核观察</a></li>
                    <li><a href="/category/zhi-ye-sheng-ya">职业生涯</a></li>
                    <li><a href="/category/zhong-jiang-ming-dan">中奖名单</a></li>
                    <li><a href="/category/zhuo-mian-ying-yong">桌面应用</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2018/09/zai-virtualbox-zhong-an-zhuang-android-xi-tong.html" rel="bookmark"
           title="Permalink to 在 VirtualBox 中安装 Android 系统">在 VirtualBox 中安装 Android 系统</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2018-09-18T00:14:00+02:00">
                Published: Tue 18 September 2018
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/linux-fans-from-china.html">linux fans from china</a>
        </address>
<p>In <a href="/category/ji-zhu">技术</a>.</p>

</footer><!-- /.post-info -->      <p>Author: Ranvir Singh</p>
<p><img alt="" src="/data/attachment/album/201809/18/001443wijtrv00r8sr90b0.png"></p>
<p>如果你正在开发 Android 应用，也许会遇到小麻烦。诚然，ios 移动开发有 macOS 系统平台为其提供友好便利性， Android 开发仅有支持少部分 Android 系统（其中还包括可穿戴设备系统）的 Android Studio 工具。</p>
<p>毋庸置疑，所有的二进制工具、SDK 工具、开发框架工具以及调试器都会产生大量日志和其他各种文件，使得你的文件系统很混乱。一个有效的解决方法就是在 VirtualBox 中安装 Android 系统，这样还解决了 Android 开发中最为棘手问题之一 —— 设备模拟器。你可以在该虚拟机里测试应用程序，也可以使用 Android 的内部功能。因此，让我们迫不及待的开始吧！</p>
<h3>准备工作</h3>
<p>首先，你需要在你的系统上安装 VirtualBox，可从<a href="https://www.virtualbox.org/wiki/Downloads">这里</a>下载 Windows 版本、macOS 版本或者各种 Linux 版本的 VitualBox。然后，你需要一个能在 x86 平台运行的 Android 镜像，因为 VirtualBox 为虚拟机提供运行 x86 或者 x86_64（即 AMD64）平台的功能。</p>
<p>虽然大部分 Android 设备都在 ARM 上运行，但我们依然可以从 <a href="http://www.android-x86.org/">Android on x86 项目</a> 中获得帮助。这些优秀的开发者已经将 Android 移植到 x86 平台上运行（包括实体机和虚拟机），我们可以下载最新版本的 Android 7.1。你也可以用之前更为稳定的版本，本文写作时最新稳定版是 Android 6.0。</p>
<h3>创建 VM 虚拟机</h3>
<p>打开 VirtualBox，单击左上角的 “新建” 按钮，在弹出的窗口中选择 “类型：Linux” ，然后根据下载的 ISO 镜像来确定版本，x86 对应 “32-bit”，x86_64 对应 “64-bit”，此处选择 “Linux 2.6 / 3.x / 4.x (64-bit)”。</p>
<p>RAM 大小设置为 2 GB 到你系统能提供的最大内存之间。如果你想模拟真实的使用环境你可以设置 6 GB RAM 和 32 GB ROM。</p>
<p><img alt="" src="/data/attachment/album/201809/18/001450x9gxkkq8wxv8zn0w.png"></p>
<p><img alt="" src="/data/attachment/album/201809/18/001451iew2wdqwygaraawr.png"></p>
<p>创建完成后，你还需要做一些设置，添加更多的处理器核心，提高开机显示内存。在 VM 上打开设置选项，“设置 -&gt; 系统 -&gt; 处理器”，如果硬件条件允许，可以多分配一些处理器。</p>
<p><img alt="" src="/data/attachment/album/201809/18/001451cv7grgl1l6go8x3r.png"></p>
<p>在 “设置 -&gt; 显示 -&gt; 显存大小” 中，你可以分配一大块内存并开启 3D 加速功能。</p>
<p><img alt="" src="/data/attachment/album/201809/18/001452ajgwj8l1wpk9zklp.png"></p>
<p>现在我们可以启动 VM 虚拟机了。</p>
<h3>安装 Android</h3>
<p>首次启动 VM 虚拟机，VirtualBox 会提示你需要提供启动媒介，选择之前下载好的Android 镜像。</p>
<p><img alt="" src="/data/attachment/album/201809/18/001453iw4wi4bz0ncewinv.png"></p>
<p>下一步，如果想长时间使用 Android，选择 “Installation” 选项，你也可以选择 Live 模式体验 Android 环境。</p>
<p><img alt="" src="/data/attachment/album/201809/18/001454nurscj3j1jpom1j1.png"></p>
<p>按回车键。</p>
<h4>分区</h4>
<p>分区是通过文本界面操作，并没有友好的 GUI 界面，所以每个操作都需要小心对待。例如，在第一屏中还没有创建分区并且只检测到原始（虚拟）硬盘时显示如下。</p>
<p><img alt="" src="/data/attachment/album/201809/18/001454zsvpvmy7y7yvg3a2.png"></p>
<p>红色字母 <code>C</code> 和 <code>D</code> 表明 <code>C</code> 开头选项可以创建或者修改分区，<code>D</code> 开头选项可以检测设备。你可以选择 <code>D</code> 开头选项，然后它就会检测硬盘，也可不进行这步操作，因为在启动的时候它会自动检测。</p>
<p>我们选择 <code>C</code> 开头选项，在虚拟盘中创建分区。官方不推荐使用 GPT 格式，所以我们选择 “No” 并按回车键。</p>
<p><img alt="" src="/data/attachment/album/201809/18/001454r5brfh9xd9h8upcz.png"></p>
<p>现在你被引导到 fdisk 工具页面。</p>
<p><img alt="" src="/data/attachment/album/201809/18/001455pzexeffexudox2em.png"></p>
<p>为了简洁起见，我们就只创建一个较大的分区，使用方向键来选择 “New” ，然后选择 “Primary”，按回车键以确认。</p>
<p><img alt="" src="/data/attachment/album/201809/18/001455t8h2gbl288qnhotb.png"></p>
<p>分区大小系统已经为你计算好了，按回车键确认。</p>
<p><img alt="" src="/data/attachment/album/201809/18/001456njebitt9lrxxxxij.png"></p>
<p>这个分区就是 Android 系统所在的分区，所以需要它是可启动的。选择 “Bootable”，然后按回车键（上方表格中 “Flags” 标志下面会出现 “boot” 标志），进一步，选择 “Write” 选项，保存刚才的操作记录并写入分区表。</p>
<p><img alt="" src="/data/attachment/album/201809/18/001456jbad46nw0et4ijoz.png"></p>
<p>现在你可以选择退出分区工具，然后继续安装过程。</p>
<p><img alt="" src="/data/attachment/album/201809/18/001457n1qfnovnqqma4qyn.png"></p>
<h4>文件系统格式化为 EXT4 并安装 Android</h4>
<p>在“Choose Partition”分区页面上会出现一个刚刚我们创建的分区，选择它并点击“OK”进入。</p>
<p><img alt="" src="/data/attachment/album/201809/18/001458f0xhpn6xjt6op8x9.png"></p>
<p>在下一个菜单中选择 Ext4 作为实际的文件系统，在下一页中选择 “Yes” 然后格式化开始。会提示是否安装 GRUB 引导工具以及是否允许在目录 <code>/system</code> 进行读写，都选择 “Yes” 。现在，安装进程开始。</p>
<p>安装完成后，当系统提示可以重启的时候你可以安全地重启系统。在重启之前，你可以先关机，然后在 VitualBox 的 “设置 -&gt; 存储” 中检查 Android iso 镜像是否还连接在虚拟机上，如果在，将它移除。</p>
<p><img alt="" src="/data/attachment/album/201809/18/001459kzhm95fc9w8zm565.png"></p>
<p>移除安装媒介并保存修改，再去启动 VM 虚拟机。</p>
<h4>运行 Android</h4>
<p>在 GRUB 引导界面，有调试模式和普通模式的选项。我们选择默认选项，如下图所示。</p>
<p><img alt="" src="/data/attachment/album/201809/18/001459nunzjb27iep92r29.png"></p>
<p>如果一切正常，你将会看到如下界面：</p>
<p><img alt="" src="/data/attachment/album/201809/18/001500ylqz8x71if3518kq.png"></p>
<p>如今的 Android 系统使用触摸交互而不是鼠标。不过 Android-x86 平台提供了鼠标操作支持，但开始时可能需要方向键来辅助操作。</p>
<p><img alt="" src="/data/attachment/album/201809/18/001501js4t737j05u55ju7.png"></p>
<p>移动到”let’s go“按钮并按下回车键。选择 “Set up as new” 选项，回车确认。</p>
<p><img alt="" src="/data/attachment/album/201809/18/001502n2ynnyt47ppnc9t2.png"></p>
<p>在提示用谷歌账户登陆之前，系统检查更新并检测设备信息。你可以跳过这一步，直接去设置日期和时间、用户名等。</p>
<p>还有一些其他的选项，和让你设置一个新的 Android 设备类似。选择 “I Agree” 选项同意有关更新、服务等的相应的选项，当然谷歌的服务条款是不得不同意的。</p>
<p><img alt="" src="/data/attachment/album/201809/18/001503v3hhz48qnhdq0b0w.png"></p>
<p>在这之后，因为它是个虚拟机，所以可能需要添加额外的 email 账户来设置 “On-body detection”，大部分的选项对我们来说都没有多大作用，因此可以选择 ”All Set“。</p>
<p>接下来，它会提示你选择主屏应用，这个根据个人需求选择。现在我们进入了一个虚拟的 Android 系统。</p>
<p><img alt="" src="/data/attachment/album/201809/18/001505trff6lmnqldjiook.png"></p>
<p>如果你需要在 VM 做一些交互测试，有个可触摸屏幕会提供很大的方便，因为那样才更接近真实使用环境。</p>
<p>希望这篇教程会给你带来帮助。</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>