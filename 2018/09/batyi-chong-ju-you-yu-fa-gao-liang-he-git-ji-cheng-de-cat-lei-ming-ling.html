<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>Bat：一种具有语法高亮和 Git 集成的 Cat 类命令</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Author: Sk 在类 UNIX 系统中，我们使用 cat 命令去打印和连接文件。使用 cat 命令，我们能将文件目录打印到到标准输出，合成几个文件 …" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">linux_cn</a></h1>
                <nav><ul>
                    <li><a href="/category/chuan-shan-jia-zhuan-fang">穿山甲专访</a></li>
                    <li><a href="/category/dai-ma-ying-xiong">代码英雄</a></li>
                    <li class="active"><a href="/category/fen-xiang">分享</a></li>
                    <li><a href="/category/guan-dian">观点</a></li>
                    <li><a href="/category/huo-dong">活动</a></li>
                    <li><a href="/category/ji-ke-man-hua">极客漫画</a></li>
                    <li><a href="/category/ji-zhu">技术</a></li>
                    <li><a href="/category/kai-yuan-zhi-hui">开源智慧</a></li>
                    <li><a href="/category/linux-fa-xing-ban">Linux 发行版</a></li>
                    <li><a href="/category/mei-ri-an-quan-zi-xun">每日安全资讯</a></li>
                    <li><a href="/category/misc">Misc</a></li>
                    <li><a href="/category/qu-kuai-lian">区块链</a></li>
                    <li><a href="/category/rong-qi-yu-yun">容器与云</a></li>
                    <li><a href="/category/ruan-jian-kai-fa">软件开发</a></li>
                    <li><a href="/category/shu-mei-pai">树莓派</a></li>
                    <li><a href="/category/xi-tong-yun-wei">系统运维</a></li>
                    <li><a href="/category/xin-wen">新闻</a></li>
                    <li><a href="/category/ying-he-guan-cha">硬核观察</a></li>
                    <li><a href="/category/zhi-ye-sheng-ya">职业生涯</a></li>
                    <li><a href="/category/zhong-jiang-ming-dan">中奖名单</a></li>
                    <li><a href="/category/zhuo-mian-ying-yong">桌面应用</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2018/09/batyi-chong-ju-you-yu-fa-gao-liang-he-git-ji-cheng-de-cat-lei-ming-ling.html" rel="bookmark"
           title="Permalink to Bat：一种具有语法高亮和 Git 集成的 Cat 类命令">Bat：一种具有语法高亮和 Git 集成的 Cat 类命令</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2018-09-29T23:04:41+02:00">
                Published: Sat 29 September 2018
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/linux-fans-from-china.html">linux fans from china</a>
        </address>
<p>In <a href="/category/fen-xiang">分享</a>.</p>

</footer><!-- /.post-info -->      <p>Author: Sk</p>
<p><img alt="" src="/data/attachment/album/201809/29/230445r4jw1urw98082s9s.png"></p>
<p>在类 UNIX 系统中，我们使用 <code>cat</code> 命令去打印和连接文件。使用 <code>cat</code> 命令，我们能将文件目录打印到到标准输出，合成几个文件为一个目标文件，还有追加几个文件到目标文件中。今天，我偶然发现一个具有相似作用的命令叫做 “Bat” ，它是 <code>cat</code> 命令的一个克隆版，具有一些例如语法高亮、 Git 集成和自动分页等非常酷的特性。在这个简略指南中，我们将讲述如何在 Linux 中安装和使用 <code>bat</code> 命令。</p>
<h3>安装</h3>
<p>Bat 可以在 Arch Linux 的默认软件源中获取。 所以你可以使用 <code>pacman</code> 命令在任何基于 arch 的系统上来安装它。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>sudo<span class="w"> </span>pacman<span class="w"> </span>-S<span class="w"> </span>bat
</code></pre></div>

<p>在 Debian、Ubuntu、Linux Mint 等系统中，从其<a href="https://github.com/sharkdp/bat/releases">发布页面</a>下载 <strong>.deb</strong> 文件，然后用下面的命令来安装。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>gdebi
$<span class="w"> </span>sudo<span class="w"> </span>gdebi<span class="w"> </span>bat_0.5.0_amd64.deb
</code></pre></div>

<p>对于其他系统，你也许需要从软件源编译并安装。确保你已经安装了 Rust 1.26 或者更高版本。</p>
<p>然后运行以下命令来安装 Bat：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>cargo<span class="w"> </span>install<span class="w"> </span>bat
</code></pre></div>

<p>或者，你可以从 <a href="https://www.ostechnix.com/linuxbrew-common-package-manager-linux-mac-os-x/">Linuxbrew</a> 软件包管理中来安装它。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>brew<span class="w"> </span>install<span class="w"> </span>bat
</code></pre></div>

<h3>bat 命令的使用</h3>
<p><code>bat</code> 命令的使用与 <code>cat</code> 命令的使用非常相似。</p>
<p>使用 <code>bat</code> 命令创建一个新的文件:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>bat<span class="w"> </span>&gt;<span class="w"> </span>file.txt
</code></pre></div>

<p>使用 <code>bat</code> 命令来查看文件内容，只需要:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>bat<span class="w"> </span>file.txt
</code></pre></div>

<p>你能同时查看多个文件:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>bat<span class="w"> </span>file1.txt<span class="w"> </span>file2.txt
</code></pre></div>

<p>将多个文件的内容合并至一个单独文件中:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>bat<span class="w"> </span>file1.txt<span class="w"> </span>file2.txt<span class="w"> </span>file3.txt<span class="w"> </span>&gt;<span class="w"> </span>document.txt
</code></pre></div>

<p>就像我之前提到的那样，除了浏览和编辑文件以外，<code>bat</code> 命令有一些非常酷的特性。</p>
<p><code>bat</code> 命令支持大多数编程和标记语言的<ruby> 语法高亮 <rt>  syntax highlighting </rt></ruby>。比如，下面这个例子。我将使用 <code>cat</code> 和 <code>bat</code> 命令来展示 <code>reverse.py</code> 的内容。</p>
<p><img alt="" src="/data/attachment/album/201809/29/230447q2rsnyifq9iiiyvn.png"></p>
<p>你注意到区别了吗？ <code>cat</code> 命令以纯文本格式显示文件的内容，而 <code>bat</code> 命令显示了语法高亮和整齐的文本对齐格式。更好了不是吗？</p>
<p>如果你只想显示行号（而没有表格）使用 <code>-n</code> 标记。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>bat<span class="w"> </span>-n<span class="w"> </span>reverse.py
</code></pre></div>

<p><img alt="" src="/data/attachment/album/201809/29/230447h0mmjpjokzpoohqb.png"></p>
<p>另一个 <code>bat</code> 命令中值得注意的特性是它支持<ruby> 自动分页 <rt>  automatic paging </rt></ruby>。 它的意思是当文件的输出对于屏幕来说太大的时候，<code>bat</code> 命令自动将自己的输出内容传输到 <code>less</code> 命令中，所以你可以一页一页的查看输出内容。</p>
<p>让我给你看一个例子，使用 <code>cat</code> 命令查看跨多个页面的文件的内容时，提示符会快速跳至文件的最后一页，你看不到内容的开头和中间部分。</p>
<p>看一下下面的输出：</p>
<p><img alt="" src="/data/attachment/album/201809/29/230448aeax0yeseaygciy2.png"></p>
<p>正如你所看到的，<code>cat</code> 命令显示了文章的最后一页。</p>
<p>所以你也许需要去将使用 <code>cat</code> 命令的输出传输到 <code>less</code> 命令中去从开头一页一页的查看内容。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>cat<span class="w"> </span>reverse.py<span class="w"> </span><span class="p">|</span><span class="w"> </span>less
</code></pre></div>

<p>现在你可以使用回车键去一页一页的查看输出。然而当你使用 <code>bat</code> 命令时这些都是不必要的。<code>bat</code> 命令将自动传输跨越多个页面的文件的输出。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>bat<span class="w"> </span>reverse.py
</code></pre></div>

<p><img alt="" src="/data/attachment/album/201809/29/230449j69j3i01zlmvj8h1.png"></p>
<p>现在按下回车键去往下一页。</p>
<p><code>bat</code> 命令也支持 <ruby> Git 集成 <rt>  <strong>   GIT integration  </strong> </rt></ruby>，这样您就可以轻松查看/编辑 Git 存储库中的文件。 它与 Git 连接可以显示关于索引的修改。（看左栏）</p>
<p><img alt="" src="/data/attachment/album/201809/29/230450km3bo51tzgc3uc15.png"></p>
<h3>定制 Bat</h3>
<p>如果你不喜欢默认主题，你也可以修改它。Bat 同样有修改它的选项。</p>
<p>若要显示可用主题，只需运行：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>bat<span class="w"> </span>--list-themes
<span class="m">1337</span>
DarkNeon
Default
GitHub
Monokai<span class="w"> </span>Extended
Monokai<span class="w"> </span>Extended<span class="w"> </span>Bright
Monokai<span class="w"> </span>Extended<span class="w"> </span>Light
Monokai<span class="w"> </span>Extended<span class="w"> </span>Origin
TwoDark
</code></pre></div>

<p>要使用其他主题，例如 TwoDark，请运行：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>bat<span class="w"> </span>--theme<span class="o">=</span>TwoDark<span class="w"> </span>file.txt
</code></pre></div>

<p>如果你想永久改变主题，在你的 shells 启动文件中加入 <code>export BAT_THEME="TwoDark"</code>。</p>
<p><code>bat</code> 还可以选择修改输出的外观。使用 <code>--style</code> 选项来修改输出外观。仅显示 Git 的更改和行号但不显示网格和文件头，请使用 <code>--style=numbers,changes</code>。</p>
<p>更多详细信息，请参阅 Bat 项目的 GitHub 库（链接在文末）。</p>
<p>最好，这就是目前的全部内容了。希望这篇文章会帮到你。更多精彩文章即将到来，敬请关注！</p>
<p>干杯！</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>