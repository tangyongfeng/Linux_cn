<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>Dry：一个命令行交互式 Docker 容器管理器</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Author: Magesh Maruthamuthu Docker 是一种所谓容器化的操作系统级的虚拟化软件。 基于 Linux 内核的 cgroup 和 namespace 等资源隔离特性，Docker 可以在单个 Linux 实例中 …" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">linux_cn</a></h1>
                <nav><ul>
                    <li><a href="/category/chuan-shan-jia-zhuan-fang">穿山甲专访</a></li>
                    <li><a href="/category/dai-ma-ying-xiong">代码英雄</a></li>
                    <li><a href="/category/fen-xiang">分享</a></li>
                    <li><a href="/category/guan-dian">观点</a></li>
                    <li><a href="/category/huo-dong">活动</a></li>
                    <li><a href="/category/ji-ke-man-hua">极客漫画</a></li>
                    <li><a href="/category/ji-zhu">技术</a></li>
                    <li><a href="/category/kai-yuan-zhi-hui">开源智慧</a></li>
                    <li><a href="/category/linux-fa-xing-ban">Linux 发行版</a></li>
                    <li><a href="/category/mei-ri-an-quan-zi-xun">每日安全资讯</a></li>
                    <li><a href="/category/misc">Misc</a></li>
                    <li><a href="/category/qu-kuai-lian">区块链</a></li>
                    <li class="active"><a href="/category/rong-qi-yu-yun">容器与云</a></li>
                    <li><a href="/category/ruan-jian-kai-fa">软件开发</a></li>
                    <li><a href="/category/shu-mei-pai">树莓派</a></li>
                    <li><a href="/category/xi-tong-yun-wei">系统运维</a></li>
                    <li><a href="/category/xin-wen">新闻</a></li>
                    <li><a href="/category/ying-he-guan-cha">硬核观察</a></li>
                    <li><a href="/category/zhi-ye-sheng-ya">职业生涯</a></li>
                    <li><a href="/category/zhong-jiang-ming-dan">中奖名单</a></li>
                    <li><a href="/category/zhuo-mian-ying-yong">桌面应用</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2018/05/dryyi-ge-ming-ling-xing-jiao-hu-shi-docker-rong-qi-guan-li-qi.html" rel="bookmark"
           title="Permalink to Dry：一个命令行交互式 Docker 容器管理器">Dry：一个命令行交互式 Docker 容器管理器</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2018-05-07T22:06:33+02:00">
                Published: Mon 07 May 2018
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/linux-fans-from-china.html">linux fans from china</a>
        </address>
<p>In <a href="/category/rong-qi-yu-yun">容器与云</a>.</p>

</footer><!-- /.post-info -->      <p>Author: Magesh Maruthamuthu</p>
<p><img alt="" src="/data/attachment/album/201805/07/220628oam0bmtit7lolm7i.jpg"></p>
<p>Docker 是一种所谓容器化的操作系统级的虚拟化软件。</p>
<p>基于 Linux 内核的 cgroup 和 namespace 等资源隔离特性，Docker 可以在单个 Linux 实例中运行多个独立的容器。</p>
<p>通过将应用依赖和相关库打包进容器，Docker 使得应用可以在容器中安全隔离地运行。</p>
<h3>Dry 是什么</h3>
<p><a href="https://github.com/moncho/dry">Dry</a> 是一个管理并监控 Docker 容器和镜像的命令行工具。</p>
<p>Dry 可以给出容器相关的信息，包括对应镜像、容器名称、网络、容器中运行的命令及容器状态；如果运行在 Docker Swarm 中，工具还会给出 Swarm 集群的各种状态信息。</p>
<p>Dry 可以连接至本地或远程的 Docker 守护进程。如果连接本地 Docker，Docker 主机显示为 <code>unix:///var/run/docker.sock</code>。</p>
<p>如果连接远程 Docker，Docker 主机显示为 <code>tcp://IP Address:Port Number</code> 或 <code>tcp://Host Name:Port Number</code>。</p>
<p>Dry 可以提供类似 <code>docker ps</code> 的指标输出，但输出比 <code>docker ps</code> 内容详实、富有色彩。</p>
<p>相比 Docker，Dry 还可以手动添加一个额外的名称列，用于降低记忆难度。</p>
<p><strong>推荐阅读：</strong></p>
<ul>
<li><a href="https://www.2daygeek.com/portainer-a-simple-docker-management-gui/">Portainer – 用于 Docker 管理的简明 GUI</a></li>
<li><a href="https://www.2daygeek.com/rancher-a-complete-container-management-platform-for-production-environment/">Rancher – 适用于生产环境的完备容器管理平台</a></li>
<li><a href="https://www.2daygeek.com/ctop-a-command-line-tool-for-container-monitoring-and-management-in-linux/">cTop – Linux环境下容器管理与监控的命令行工具</a></li>
</ul>
<h3>如何在 Linux 中安装 Dry</h3>
<p>在 Linux 中，可以通过一个简单的 shell 脚本安装最新版本的 Dry 工具。Dry 不依赖外部库。对于绝大多数的 Docker 命令，Dry 提供类似样式的命令。</p>
<div class="highlight"><pre><span></span><code><span class="err">$</span> <span class="s s-Atom">curl</span> <span class="o">-</span><span class="s s-Atom">sSf</span> <span class="s s-Atom">https</span><span class="p">:</span><span class="o">//</span><span class="s s-Atom">moncho</span><span class="p">.</span><span class="s s-Atom">github</span><span class="p">.</span><span class="s s-Atom">io</span><span class="o">/</span><span class="s s-Atom">dry</span><span class="o">/</span><span class="s s-Atom">dryup</span><span class="p">.</span><span class="s s-Atom">sh</span> <span class="p">|</span> <span class="s s-Atom">sudo</span> <span class="s s-Atom">sh</span>
 <span class="c1">% Total % Received % Xferd Average Speed Time Time Time Current</span>
 <span class="nv">Dload</span> <span class="nv">Upload</span> <span class="nv">Total</span> <span class="nv">Spent</span> <span class="nv">Left</span> <span class="nv">Speed</span>
<span class="mi">100</span> <span class="mi">10</span> <span class="mi">100</span> <span class="mi">10</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">35</span> <span class="mi">0</span> <span class="s s-Atom">--:--:--</span> <span class="s s-Atom">--:--:--</span> <span class="s s-Atom">--:--:--</span> <span class="mi">35</span>
<span class="s s-Atom">dryup</span><span class="p">:</span> <span class="s s-Atom">downloading</span> <span class="s s-Atom">dry</span> <span class="s s-Atom">binary</span>
<span class="s s-Atom">########################################################################</span> <span class="mf">100.0</span><span class="c1">%</span>
<span class="s s-Atom">dryup</span><span class="p">:</span> <span class="nv">Moving</span> <span class="s s-Atom">dry</span> <span class="s s-Atom">binary</span> <span class="s s-Atom">to</span> <span class="s s-Atom">its</span> <span class="s s-Atom">destination</span>
<span class="s s-Atom">dryup</span><span class="p">:</span> <span class="s s-Atom">dry</span> <span class="s s-Atom">binary</span> <span class="s s-Atom">was</span> <span class="s s-Atom">copied</span> <span class="s s-Atom">to</span> <span class="o">/</span><span class="s s-Atom">usr</span><span class="o">/</span><span class="s s-Atom">local</span><span class="o">/</span><span class="s s-Atom">bin</span><span class="p">,</span> <span class="s s-Atom">now</span> <span class="s s-Atom">you</span> <span class="s s-Atom">should</span> <span class="s s-Atom">&#39;sudo chmod 755 /usr/local/bin/dry&#39;</span>
</code></pre></div>

<p>使用如下命令将文件权限变更为 <code>755</code>：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>sudo<span class="w"> </span>chmod<span class="w"> </span><span class="m">755</span><span class="w"> </span>/usr/local/bin/dry
</code></pre></div>

<p>对于使用 Arch Linux 的用户，可以使用 <strong><a href="https://www.2daygeek.com/install-packer-aur-helper-on-arch-linux/">Packer</a></strong> 或 <strong><a href="https://www.2daygeek.com/install-yaourt-aur-helper-on-arch-linux/">Yaourt</a></strong> 包管理器，从 AUR 源安装该工具。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>yaourt<span class="w"> </span>-S<span class="w"> </span>dry-bin
或者
$<span class="w"> </span>packer<span class="w"> </span>-S<span class="w"> </span>dry-bin
</code></pre></div>

<p>如果希望在 Docker 容器中运行 dry，可以运行如下命令。前提条件是已确认在操作系统中安装了 Docker。</p>
<p><strong>推荐阅读：</strong></p>
<ul>
<li><a href="https://www.2daygeek.com/install-docker-on-centos-rhel-fedora-ubuntu-debian-oracle-archi-scentific-linux-mint-opensuse/">如何在 Linux 中安装 Docker</a></li>
<li><a href="https://www.2daygeek.com/list-search-pull-download-remove-docker-images-on-linux/">如何在 Linux 中玩转 Docker 镜像</a></li>
<li><a href="https://www.2daygeek.com/create-run-list-start-stop-attach-delete-interactive-daemonized-docker-containers-on-linux/">如何在 Linux 中玩转 Docker 容器</a></li>
<li><a href="https://www.2daygeek.com/install-run-applications-inside-docker-containers/">如何在 Docker 容器中安装并运行应用程序</a></li>
</ul>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>-it<span class="w"> </span>-v<span class="w"> </span>/var/run/docker.sock:/var/run/docker.sock<span class="w"> </span>moncho/dry
</code></pre></div>

<h3>如何启动并运行 Dry</h3>
<p>在控制台运行 <code>dry</code> 命令即可启动该工具，其默认输出如下：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>dry
</code></pre></div>

<p><img alt="" src="/data/attachment/album/201805/07/220635p8bc7qxn86a79q94.png"></p>
<h3>如何使用 Dry 监控 Docker</h3>
<p>你可以在 dry 的界面中按下 <code>m</code> 键打开监控模式。</p>
<p><img alt="" src="/data/attachment/album/201805/07/220636ilhlkx3xivy8hxkp.png"></p>
<h3>如何使用 Dry 管理容器</h3>
<p>在选中的容器上单击回车键，即可管理容器。Dry 提供如下操作：查看日志，查看、杀死、删除容器，停止、启动、重启容器，查看容器状态及镜像历史记录等。</p>
<p><img alt="" src="/data/attachment/album/201805/07/220637t682kjj1bb1q6i22.png"></p>
<h3>如何监控容器资源利用率</h3>
<p>用户可以使用 <code>Stats+Top</code> 选项查看指定容器的资源利用率。</p>
<p>该操作需要在容器管理界面完成（在上一步的基础上，点击 <code>Stats+Top</code> 选项）。另外，也可以按下 <code>s</code> 打开容器资源利用率界面。</p>
<p><img alt="" src="/data/attachment/album/201805/07/220638bz7o2z2ix5u00xzh.png"></p>
<h3>如何查看容器、镜像及本地卷的磁盘使用情况</h3>
<p>可以使用 <code>F8</code> 键查看容器、镜像及本地卷的磁盘使用情况。</p>
<p>该界面明确地给出容器、镜像和卷的总数，哪些处于使用状态，以及整体磁盘使用情况、可回收空间大小的详细信息。</p>
<p><img alt="" src="/data/attachment/album/201805/07/220639tknzbyby9yqtbv5g.png"></p>
<h3>如何查看已下载的镜像</h3>
<p>按下 <code>2</code> 键即可列出全部的已下载镜像。</p>
<p><img alt="" src="/data/attachment/album/201805/07/220640as609wn53td5wvml.png"></p>
<h3>如何查看网络列表</h3>
<p>按下 <code>3</code> 键即可查看全部网络及网关。</p>
<p><img alt="" src="/data/attachment/album/201805/07/220641deg8hj8db4l4roe8.png"></p>
<h3>如何查看全部 Docker 容器</h3>
<p>按下 <code>F2</code> 键即可列出列出全部容器，包括运行中和已关闭的容器。</p>
<p><img alt="" src="/data/attachment/album/201805/07/220643igryll5rrs5ysyys.png"></p>
<h3>Dry 快捷键</h3>
<p>查看帮助页面或 <a href="https://github.com/moncho/dry">dry GitHub</a> 即可查看全部快捷键。</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>