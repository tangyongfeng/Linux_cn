<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>如何使用 Vim 编辑器编辑多个文件</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Author: Sk 有时候，您可能需要修改多个文件，或要将一个文件的内容复制到另一个文件中。在图形用户界面中，您可以在任何图 …" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">linux_cn</a></h1>
                <nav><ul>
                    <li><a href="/category/chuan-shan-jia-zhuan-fang">穿山甲专访</a></li>
                    <li><a href="/category/dai-ma-ying-xiong">代码英雄</a></li>
                    <li><a href="/category/fen-xiang">分享</a></li>
                    <li><a href="/category/guan-dian">观点</a></li>
                    <li><a href="/category/huo-dong">活动</a></li>
                    <li><a href="/category/ji-ke-man-hua">极客漫画</a></li>
                    <li class="active"><a href="/category/ji-zhu">技术</a></li>
                    <li><a href="/category/kai-yuan-zhi-hui">开源智慧</a></li>
                    <li><a href="/category/linux-fa-xing-ban">Linux 发行版</a></li>
                    <li><a href="/category/mei-ri-an-quan-zi-xun">每日安全资讯</a></li>
                    <li><a href="/category/misc">Misc</a></li>
                    <li><a href="/category/qu-kuai-lian">区块链</a></li>
                    <li><a href="/category/rong-qi-yu-yun">容器与云</a></li>
                    <li><a href="/category/ruan-jian-kai-fa">软件开发</a></li>
                    <li><a href="/category/shu-mei-pai">树莓派</a></li>
                    <li><a href="/category/xi-tong-yun-wei">系统运维</a></li>
                    <li><a href="/category/xin-wen">新闻</a></li>
                    <li><a href="/category/ying-he-guan-cha">硬核观察</a></li>
                    <li><a href="/category/zhi-ye-sheng-ya">职业生涯</a></li>
                    <li><a href="/category/zhong-jiang-ming-dan">中奖名单</a></li>
                    <li><a href="/category/zhuo-mian-ying-yong">桌面应用</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2018/05/ru-he-shi-yong-vim-bian-ji-qi-bian-ji-duo-ge-wen-jian.html" rel="bookmark"
           title="Permalink to 如何使用 Vim 编辑器编辑多个文件">如何使用 Vim 编辑器编辑多个文件</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2018-05-11T09:22:40+02:00">
                Published: Fri 11 May 2018
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/linux-fans-from-china.html">linux fans from china</a>
        </address>
<p>In <a href="/category/ji-zhu">技术</a>.</p>

</footer><!-- /.post-info -->      <p>Author: Sk</p>
<p><img alt="" src="/data/attachment/album/201805/11/092242ho3kzb83ykq3oeo3.png"></p>
<p>有时候，您可能需要修改多个文件，或要将一个文件的内容复制到另一个文件中。在图形用户界面中，您可以在任何图形文本编辑器（如 gedit）中打开文件，并使用 <code>CTRL + C</code> 和 <code>CTRL + V</code> 复制和粘贴内容。在命令行模式下，您不能使用这种编辑器。不过别担心，只要有 <code>vim</code> 编辑器就有办法。在本教程中，我们将学习使用 <code>vim</code> 编辑器同时编辑多个文件。相信我，很有意思哒。</p>
<h3>安装 Vim</h3>
<p>Vim 编辑器可在大多数 Linux 发行版的官方软件仓库中找到，所以您可以用默认的软件包管理器来安装它。例如，在 Arch Linux 及其变体上，您可以使用如下命令：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>sudo<span class="w"> </span>pacman<span class="w"> </span>-S<span class="w"> </span>vim
</code></pre></div>

<p>在 Debian 和 Ubuntu 上：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>vim
</code></pre></div>

<p>在 RHEL 和 CentOS 上：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>sudo<span class="w"> </span>yum<span class="w"> </span>install<span class="w"> </span>vim
</code></pre></div>

<p>在 Fedora 上：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>sudo<span class="w"> </span>dnf<span class="w"> </span>install<span class="w"> </span>vim
</code></pre></div>

<p>在 openSUSE 上：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>sudo<span class="w"> </span>zypper<span class="w"> </span>install<span class="w"> </span>vim
</code></pre></div>

<h3>使用 Linux 的 Vim 编辑器同时编辑多个文件</h3>
<p>现在让我们谈谈正事，我们可以用两种方法做到这一点。</p>
<h4>方法一</h4>
<p>有两个文件，即 <code>file1.txt</code> 和 <code>file2.txt</code>，带有一堆随机单词：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>cat<span class="w"> </span>file1.txt
ostechnix
open<span class="w"> </span><span class="nb">source</span>
technology
linux
unix

$<span class="w"> </span>cat<span class="w"> </span>file2.txt
line1
line2
line3
line4
line5
</code></pre></div>

<p>现在，让我们同时编辑这两个文件。请运行：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>vim<span class="w"> </span>file1.txt<span class="w"> </span>file2.txt
</code></pre></div>

<p>Vim 将按顺序显示文件的内容。首先显示第一个文件的内容，然后显示第二个文件，依此类推。</p>
<p><img alt="" src="/data/attachment/album/201805/11/092244tzblsjnulu7444fs.png"></p>
<h5>在文件中切换</h5>
<p>要移至下一个文件，请键入：</p>
<div class="highlight"><pre><span></span><code>:n
</code></pre></div>

<p><img alt="" src="/data/attachment/album/201805/11/092246efi8tflg33mi893e.png"></p>
<p>要返回到前一个文件，请键入：</p>
<div class="highlight"><pre><span></span><code>:N
</code></pre></div>

<p>如果有任何未保存的更改，Vim 将不允许您移动到下一个文件。要保存当前文件中的更改，请键入：</p>
<div class="highlight"><pre><span></span><code>ZZ
</code></pre></div>

<p>请注意，是两个大写字母 <code>ZZ</code>（<code>SHIFT + zz</code>）。</p>
<p>要放弃更改并移至上一个文件，请键入：</p>
<div class="highlight"><pre><span></span><code>:N!
</code></pre></div>

<p>要查看当前正在编辑的文件，请键入：</p>
<div class="highlight"><pre><span></span><code>:buffers
</code></pre></div>

<p><img alt="" src="/data/attachment/album/201805/11/092247imzyu77li7q7a76z.png"></p>
<p>您将在底部看到加载文件的列表。</p>
<p><img alt="" src="/data/attachment/album/201805/11/092249ebzvit9jlih2li9l.png"></p>
<p>要切换到下一个文件，请输入 <code>:buffer</code>，后跟缓冲区编号。例如，要切换到第一个文件，请键入：</p>
<div class="highlight"><pre><span></span><code>:buffer 1
</code></pre></div>

<p><img alt="" src="/data/attachment/album/201805/11/092250i7iyhalgqwil7gam.png"></p>
<h5>打开其他文件进行编辑</h5>
<p>目前我们正在编辑两个文件，即 <code>file1.txt</code> 和 <code>file2.txt</code>。我想打开另一个名为 <code>file3.txt</code> 的文件进行编辑。</p>
<p>您会怎么做？这很容易。只需键入 <code>:e</code>，然后输入如下所示的文件名即可：</p>
<div class="highlight"><pre><span></span><code>:e file3.txt
</code></pre></div>

<p><img alt="" src="/data/attachment/album/201805/11/092252arlvqvyjll1ryhil.png"></p>
<p>现在你可以编辑 <code>file3.txt</code> 了。</p>
<p>要查看当前正在编辑的文件数量，请键入：</p>
<div class="highlight"><pre><span></span><code>:buffers
</code></pre></div>

<p><img alt="" src="/data/attachment/album/201805/11/092254wkm2sbh1mpq1uhm4.png"></p>
<p>请注意，对于使用 <code>:e</code> 打开的文件，您无法使用 <code>:n</code> 或 <code>:N</code> 进行切换。要切换到另一个文件，请输入 <code>:buffer</code>，然后输入文件缓冲区编号。</p>
<h5>将一个文件的内容复制到另一个文件中</h5>
<p>您已经知道了如何同时打开和编辑多个文件。有时，您可能想要将一个文件的内容复制到另一个文件中。这也是可以做到的。切换到您选择的文件，例如，假设您想将 <code>file1.txt</code> 的内容复制到 <code>file2.txt</code> 中：</p>
<p>首先，请切换到 <code>file1.txt</code>：</p>
<div class="highlight"><pre><span></span><code>:buffer 1
</code></pre></div>

<p>将光标移动至在想要复制的行的前面，并键入<code>yy</code> 以抽出（复制）该行。然后，移至 <code>file2.txt</code>：</p>
<div class="highlight"><pre><span></span><code>:buffer 2
</code></pre></div>

<p>将光标移至要从 <code>file1.txt</code> 粘贴复制行的位置，然后键入 <code>p</code>。例如，您想要将复制的行粘贴到 <code>line2</code> 和 <code>line3</code> 之间，请将鼠标光标置于行前并键入 <code>p</code>。</p>
<p>输出示例：</p>
<div class="highlight"><pre><span></span><code>line1
line2
ostechnix
line3
line4
line5
</code></pre></div>

<p><img alt="" src="/data/attachment/album/201805/11/092255yfqfybbwjggzhfwb.png"></p>
<p>要保存当前文件中所做的更改，请键入：</p>
<div class="highlight"><pre><span></span><code>ZZ
</code></pre></div>

<p>再次提醒，是两个大写字母 ZZ（<code>SHIFT + z</code>）。</p>
<p>保存所有文件的更改并退出 vim 编辑器，键入：</p>
<div class="highlight"><pre><span></span><code>:wq
</code></pre></div>

<p>同样，您可以将任何文件的任何行复制到其他文件中。</p>
<h5>将整个文件内容复制到另一个文件中</h5>
<p>我们知道如何复制一行，那么整个文件的内容呢？也是可以的。比如说，您要将 <code>file1.txt</code> 的全部内容复制到 <code>file2.txt</code> 中。</p>
<p>先打开 <code>file2.txt</code>：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>vim<span class="w"> </span>file2.txt
</code></pre></div>

<p>如果文件已经加载，您可以通过输入以下命令切换到 <code>file2.txt</code>：</p>
<div class="highlight"><pre><span></span><code>:buffer 2
</code></pre></div>

<p>将光标移动到您想要粘贴 <code>file1.txt</code> 的内容的位置。我想在 <code>file2.txt</code> 的第 5 行之后粘贴 <code>file1.txt</code> 的内容，所以我将光标移动到第 5 行。然后，键入以下命令并按回车键：</p>
<div class="highlight"><pre><span></span><code>:r file1.txt
</code></pre></div>

<p><img alt="" src="/data/attachment/album/201805/11/092257fcb3msdzfud4uejj.png"></p>
<p>这里，<code>r</code> 代表 “read”。</p>
<p>现在您会看到 <code>file1.txt</code> 的内容被粘贴在 <code>file2.txt</code> 的第 5 行之后。</p>
<div class="highlight"><pre><span></span><code>line1
line2
line3
line4
line5
ostechnix
open source
technology
linux
unix
</code></pre></div>

<p><img alt="" src="/data/attachment/album/201805/11/092258eryma12zwereogg2.png"></p>
<p>要保存当前文件中的更改，请键入：</p>
<div class="highlight"><pre><span></span><code>ZZ
</code></pre></div>

<p>要保存所有文件的所有更改并退出 vim 编辑器，请输入：</p>
<div class="highlight"><pre><span></span><code>:wq
</code></pre></div>

<h4>方法二</h4>
<p>另一种同时打开多个文件的方法是使用 <code>-o</code> 或 <code>-O</code> 标志。</p>
<p>要在水平窗口中打开多个文件，请运行：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>vim<span class="w"> </span>-o<span class="w"> </span>file1.txt<span class="w"> </span>file2.txt
</code></pre></div>

<p><img alt="" src="/data/attachment/album/201805/11/092300a4mvdkifffhs7vr4.png"></p>
<p>要在窗口之间切换，请按 <code>CTRL-w w</code>（即按 <code>CTRL + w</code> 并再次按 <code>w</code>）。或者，您可以使用以下快捷方式在窗口之间移动：</p>
<ul>
<li><code>CTRL-w k</code> – 上面的窗口</li>
<li><code>CTRL-w j</code> – 下面的窗口</li>
</ul>
<p>要在垂直窗口中打开多个文件，请运行：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>vim<span class="w"> </span>-O<span class="w"> </span>file1.txt<span class="w"> </span>file2.txt<span class="w"> </span>file3.txt
</code></pre></div>

<p><img alt="" src="/data/attachment/album/201805/11/092302e4onkfgodnf9gzfk.png"></p>
<p>要在窗口之间切换，请按 <code>CTRL-w w</code>（即按 <code>CTRL + w</code> 并再次按 <code>w</code>）。或者，使用以下快捷方式在窗口之间移动：</p>
<ul>
<li><code>CTRL-w l</code> – 左面的窗口</li>
<li><code>CTRL-w h</code> – 右面的窗口</li>
</ul>
<p>其他的一切都与方法一的描述相同。</p>
<p>例如，要列出当前加载的文件，请运行：</p>
<div class="highlight"><pre><span></span><code>:buffers
</code></pre></div>

<p>在文件之间切换：</p>
<div class="highlight"><pre><span></span><code>:buffer 1
</code></pre></div>

<p>打开其他文件，请键入：</p>
<div class="highlight"><pre><span></span><code>:e file3.txt
</code></pre></div>

<p>将文件的全部内容复制到另一个文件中：</p>
<div class="highlight"><pre><span></span><code>:r file1.txt
</code></pre></div>

<p>方法二的唯一区别是，只要您使用 <code>ZZ</code> 保存对当前文件的更改，文件将自动关闭。然后，您需要依次键入 <code>:wq</code> 来关闭文件。但是，如果您按照方法一进行操作，输入 <code>:wq</code> 时，所有更改将保存在所有文件中，并且所有文件将立即关闭。</p>
<p>有关更多详细信息，请参阅手册页。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>man<span class="w"> </span>vim
</code></pre></div>

<h3>建议阅读</h3>
<p>您现在掌握了如何在 Linux 中使用 vim 编辑器编辑多个文件。正如您所见，编辑多个文件并不难。Vim 编辑器还有更强大的功能。我们接下来会提供更多关于 Vim 编辑器的内容。</p>
<p>再见！</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>