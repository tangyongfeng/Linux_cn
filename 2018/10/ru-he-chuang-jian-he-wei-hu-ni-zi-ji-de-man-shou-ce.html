<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>如何创建和维护你自己的 man 手册</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Author: Sk 我们已经讨论了一些 man 手册的替代方案。 这些替代方案主要用于学习简洁的 Linux 命令示例，而无需通过全面而过于详 …" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">linux_cn</a></h1>
                <nav><ul>
                    <li><a href="/category/chuan-shan-jia-zhuan-fang">穿山甲专访</a></li>
                    <li><a href="/category/dai-ma-ying-xiong">代码英雄</a></li>
                    <li><a href="/category/fen-xiang">分享</a></li>
                    <li><a href="/category/guan-dian">观点</a></li>
                    <li><a href="/category/huo-dong">活动</a></li>
                    <li><a href="/category/ji-ke-man-hua">极客漫画</a></li>
                    <li class="active"><a href="/category/ji-zhu">技术</a></li>
                    <li><a href="/category/kai-yuan-zhi-hui">开源智慧</a></li>
                    <li><a href="/category/linux-fa-xing-ban">Linux 发行版</a></li>
                    <li><a href="/category/mei-ri-an-quan-zi-xun">每日安全资讯</a></li>
                    <li><a href="/category/misc">Misc</a></li>
                    <li><a href="/category/qu-kuai-lian">区块链</a></li>
                    <li><a href="/category/rong-qi-yu-yun">容器与云</a></li>
                    <li><a href="/category/ruan-jian-kai-fa">软件开发</a></li>
                    <li><a href="/category/shu-mei-pai">树莓派</a></li>
                    <li><a href="/category/xi-tong-yun-wei">系统运维</a></li>
                    <li><a href="/category/xin-wen">新闻</a></li>
                    <li><a href="/category/ying-he-guan-cha">硬核观察</a></li>
                    <li><a href="/category/zhi-ye-sheng-ya">职业生涯</a></li>
                    <li><a href="/category/zhong-jiang-ming-dan">中奖名单</a></li>
                    <li><a href="/category/zhuo-mian-ying-yong">桌面应用</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2018/10/ru-he-chuang-jian-he-wei-hu-ni-zi-ji-de-man-shou-ce.html" rel="bookmark"
           title="Permalink to 如何创建和维护你自己的 man 手册">如何创建和维护你自己的 man 手册</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2018-10-19T06:26:35+02:00">
                Published: Fri 19 October 2018
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/linux-fans-from-china.html">linux fans from china</a>
        </address>
<p>In <a href="/category/ji-zhu">技术</a>.</p>

</footer><!-- /.post-info -->      <p>Author: Sk</p>
<p><img alt="" src="/data/attachment/album/201810/19/062636oamaqp01aun6vqov.png"></p>
<p>我们已经讨论了一些 <a href="https://www.ostechnix.com/3-good-alternatives-man-pages-every-linux-user-know/">man 手册的替代方案</a>。 这些替代方案主要用于学习简洁的 Linux 命令示例，而无需通过全面而过于详细的手册页。 如果你正在寻找一种快速而简单的方法来轻松快速地学习 Linux 命令，那么这些替代方案值得尝试。 现在，你可能正在考虑 —— 如何为 Linux 命令创建自己的 man 式的帮助页面？ 这时 “Um” 就派上用场了。 Um 是一个命令行实用程序，可以用于轻松创建和维护包含你到目前为止所了解的所有命令的 man 页面。</p>
<p>通过创建自己的手册页，你可以在手册页中避免大量不必要的细节，并且只包含你需要记住的内容。 如果你想创建自己的一套 man 式的页面，“Um” 也能为你提供帮助。 在这个简短的教程中，我们将学习如何安装 “Um” 命令以及如何创建自己的 man 手册页。</p>
<h3>安装 Um</h3>
<p>Um 适用于 Linux 和Mac OS。 目前，它只能在 Linux 系统中使用 Linuxbrew 软件包管理器来进行安装。 如果你尚未安装 Linuxbrew，请参考以下链接：</p>
<ul>
<li><a href="https://www.ostechnix.com/linuxbrew-common-package-manager-linux-mac-os-x/">Linuxbrew：一个用于 Linux 和 MacOS 的通用包管理器</a></li>
</ul>
<p>安装 Linuxbrew 后，运行以下命令安装 Um 实用程序。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>brew<span class="w"> </span>install<span class="w"> </span>sinclairtarget/wst/um
</code></pre></div>

<p>如果你会看到类似下面的输出，恭喜你！ Um 已经安装好并且可以使用了。</p>
<div class="highlight"><pre><span></span><code><span class="k">[...]</span>
<span class="o">=</span><span class="s">=&gt; Installing sinclairtarget/wst/um</span>
<span class="o">=</span><span class="s">=&gt; Downloading https://github.com/sinclairtarget/um/archive/4.0.0.tar.gz</span>
<span class="o">=</span><span class="s">=&gt; Downloading from https://codeload.github.com/sinclairtarget/um/tar.gz/4.0.0</span>
<span class="na">-</span><span class="o">=</span><span class="c1">#=# # #</span>
<span class="o">=</span><span class="s">=&gt; Downloading https://rubygems.org/gems/kramdown-1.17.0.gem</span>
<span class="c1">######################################################################## 100.0%</span>
<span class="o">=</span><span class="s">=&gt; gem install /home/sk/.cache/Homebrew/downloads/d0a5d978120a791d9c5965fc103866815189a4e3939</span>
<span class="o">=</span><span class="s">=&gt; Caveats</span>
<span class="na">Bash completion has been installed to</span><span class="o">:</span>
<span class="na">/home/linuxbrew/.linuxbrew/etc/bash_completion.d</span>
<span class="o">=</span><span class="s">=&gt; Summary</span>
<span class="na">[] /home/linuxbrew/.linuxbrew/Cellar/um/4.0.0</span><span class="o">:</span><span class="w"> </span><span class="s">714 files, 1.3MB, built in 35 seconds</span>
<span class="o">=</span><span class="s">=&gt; Caveats</span>
<span class="o">=</span><span class="s">=&gt; openssl</span>
<span class="na">A CA file has been bootstrapped using certificates from the SystemRoots</span>
<span class="na">keychain. To add additional certificates (e.g. the certificates added in</span>
<span class="na">the System keychain), place .pem files in</span>
<span class="na">/home/linuxbrew/.linuxbrew/etc/openssl/certs</span>

<span class="na">and run</span>
<span class="na">/home/linuxbrew/.linuxbrew/opt/openssl/bin/c_rehash</span>
<span class="o">=</span><span class="s">=&gt; ruby</span>
<span class="na">Emacs Lisp files have been installed to</span><span class="o">:</span>
<span class="na">/home/linuxbrew/.linuxbrew/share/emacs/site-lisp/ruby</span>
<span class="o">=</span><span class="s">=&gt; um</span>
<span class="na">Bash completion has been installed to</span><span class="o">:</span>
<span class="na">/home/linuxbrew/.linuxbrew/etc/bash_completion.d</span>
</code></pre></div>

<p>在制作你的 man 手册页之前，你需要为 Um 启用 bash 补全。</p>
<p>要开启 bash 补全，首先你需要打开 <code>~/.bash_profile</code> 文件:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>nano<span class="w"> </span>~/.bash_profile
</code></pre></div>

<p>并在其中添加以下内容：</p>
<div class="highlight"><pre><span></span><code>if [ -f $(brew --prefix)/etc/bash_completion.d/um-completion.sh ]; then
 . $(brew --prefix)/etc/bash_completion.d/um-completion.sh
fi
</code></pre></div>

<p>保存并关闭文件。运行以下命令以更新更改。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span><span class="nb">source</span><span class="w"> </span>~/.bash_profile
</code></pre></div>

<p>准备工作全部完成。让我们继续创建我们的第一个 man 手册页。</p>
<h3>创建并维护自己的man手册</h3>
<p>如果你想为 <code>dpkg</code> 命令创建自己的 man 手册。请运行:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>um<span class="w"> </span>edit<span class="w"> </span>dpkg
</code></pre></div>

<p>上面的命令将在默认编辑器中打开 markdown 模板：</p>
<p><img alt="" src="/data/attachment/album/201810/19/062637gsizhv5ohhaoadnl.png"></p>
<p>我的默认编辑器是 Vi，因此上面的命令会在 Vi 编辑器中打开它。现在，开始在此模板中添加有关 <code>dpkg</code> 命令的所有内容。</p>
<p>下面是一个示例：</p>
<p><img alt="" src="/data/attachment/album/201810/19/062638pqq3cz99v1j6urxp.png"></p>
<p>正如你在上图的输出中看到的，我为 <code>dpkg</code> 命令添加了概要，描述和两个参数选项。 你可以在 man 手册中添加你所需要的所有部分。不过你也要确保为每个部分提供了适当且易于理解的标题。 完成后，保存并退出文件（如果使用 Vi 编辑器，请按 <code>ESC</code> 键并键入<code>:wq</code>）。</p>
<p>最后，使用以下命令查看新创建的 man 手册页：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>um<span class="w"> </span>dpkg
</code></pre></div>

<p><img alt="" src="/data/attachment/album/201810/19/062639zw2h1m7ml9sfa2s7.png"></p>
<p>如你所见，<code>dpkg</code> 的 man 手册页看起来与官方手册页完全相同。 如果要在手册页中编辑和/或添加更多详细信息，请再次运行相同的命令并添加更多详细信息。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>um<span class="w"> </span>edit<span class="w"> </span>dpkg
</code></pre></div>

<p>要使用 Um 查看新创建的 man 手册页列表，请运行：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>um<span class="w"> </span>list
</code></pre></div>

<p>所有手册页将保存在主目录中名为 <code>.um</code> 的目录下</p>
<p>以防万一，如果你不想要某个特定页面，只需删除它，如下所示。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>um<span class="w"> </span>rm<span class="w"> </span>dpkg
</code></pre></div>

<p>要查看帮助部分和所有可用的常规选项，请运行：</p>
<div class="highlight"><pre><span></span><code><span class="n">$</span><span class="w"> </span><span class="n">um</span><span class="w"> </span><span class="o">--</span><span class="n">help</span>
<span class="nl">usage</span><span class="p">:</span><span class="w"> </span><span class="n">um</span><span class="w"> </span><span class="o">&lt;</span><span class="n">page</span><span class="w"> </span><span class="n">name</span><span class="o">&gt;</span>
<span class="w"> </span><span class="n">um</span><span class="w"> </span><span class="o">&lt;</span><span class="n">sub</span><span class="o">-</span><span class="n">command</span><span class="o">&gt;</span><span class="w"> </span><span class="p">[</span><span class="n">ARGS</span><span class="p">...]</span>

<span class="n">The</span><span class="w"> </span><span class="n">first</span><span class="w"> </span><span class="n">form</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">equivalent</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="err">`</span><span class="n">um</span><span class="w"> </span><span class="n">read</span><span class="w"> </span><span class="o">&lt;</span><span class="n">page</span><span class="w"> </span><span class="n">name</span><span class="o">&gt;</span><span class="err">`</span><span class="p">.</span>

<span class="nl">Subcommands</span><span class="p">:</span>
<span class="w"> </span><span class="n">um</span><span class="w"> </span><span class="p">(</span><span class="n">l</span><span class="p">)</span><span class="n">ist</span><span class="w"> </span><span class="n">List</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">available</span><span class="w"> </span><span class="n">pages</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="n">topic</span><span class="p">.</span>
<span class="w"> </span><span class="n">um</span><span class="w"> </span><span class="p">(</span><span class="n">r</span><span class="p">)</span><span class="n">ead</span><span class="w"> </span><span class="o">&lt;</span><span class="n">page</span><span class="w"> </span><span class="n">name</span><span class="o">&gt;</span><span class="w"> </span><span class="n">Read</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">given</span><span class="w"> </span><span class="n">page</span><span class="w"> </span><span class="n">under</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="n">topic</span><span class="p">.</span>
<span class="w"> </span><span class="n">um</span><span class="w"> </span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="n">dit</span><span class="w"> </span><span class="o">&lt;</span><span class="n">page</span><span class="w"> </span><span class="n">name</span><span class="o">&gt;</span><span class="w"> </span><span class="n">Create</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">edit</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">given</span><span class="w"> </span><span class="n">page</span><span class="w"> </span><span class="n">under</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="n">topic</span><span class="p">.</span>
<span class="w"> </span><span class="n">um</span><span class="w"> </span><span class="n">rm</span><span class="w"> </span><span class="o">&lt;</span><span class="n">page</span><span class="w"> </span><span class="n">name</span><span class="o">&gt;</span><span class="w"> </span><span class="n">Remove</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">given</span><span class="w"> </span><span class="n">page</span><span class="p">.</span>
<span class="w"> </span><span class="n">um</span><span class="w"> </span><span class="p">(</span><span class="n">t</span><span class="p">)</span><span class="n">opic</span><span class="w"> </span><span class="p">[</span><span class="n">topic</span><span class="p">]</span><span class="w"> </span><span class="n">Get</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="n">topic</span><span class="p">.</span>
<span class="w"> </span><span class="n">um</span><span class="w"> </span><span class="n">topics</span><span class="w"> </span><span class="n">List</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">topics</span><span class="p">.</span>
<span class="w"> </span><span class="n">um</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="p">)</span><span class="n">onfig</span><span class="w"> </span><span class="p">[</span><span class="n">config</span><span class="w"> </span><span class="n">key</span><span class="p">]</span><span class="w"> </span><span class="n">Display</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">environment</span><span class="p">.</span>
<span class="w"> </span><span class="n">um</span><span class="w"> </span><span class="p">(</span><span class="n">h</span><span class="p">)</span><span class="n">elp</span><span class="w"> </span><span class="p">[</span><span class="n">sub</span><span class="o">-</span><span class="n">command</span><span class="p">]</span><span class="w"> </span><span class="n">Display</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">help</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">help</span><span class="w"> </span><span class="n">message</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">sub</span><span class="o">-</span><span class="n">command</span><span class="p">.</span>
</code></pre></div>

<h3>配置 Um</h3>
<p>要查看当前配置，请运行：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>um<span class="w"> </span>config
Options<span class="w"> </span>prefixed<span class="w"> </span>by<span class="w"> </span><span class="s1">&#39;*&#39;</span><span class="w"> </span>are<span class="w"> </span><span class="nb">set</span><span class="w"> </span><span class="k">in</span><span class="w"> </span>/home/sk/.um/umconfig.
<span class="nv">editor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>vi
<span class="nv">pager</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>less
<span class="nv">pages_directory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>/home/sk/.um/pages
<span class="nv">default_topic</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>shell
<span class="nv">pages_ext</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>.md
</code></pre></div>

<p>在此文件中，你可以根据需要编辑和更改 <code>pager</code>、<code>editor</code>、<code>default_topic</code>、<code>pages_directory</code> 和 <code>pages_ext</code> 选项的值。 比如说，如果你想在 <a href="https://www.ostechnix.com/install-dropbox-in-ubuntu-18-04-lts-desktop/">Dropbox</a> 文件夹中保存新创建的 Um 页面，只需更改 <code>~/.um/umconfig</code> 文件中 <code>pages_directory</code> 的值并将其更改为 Dropbox 文件夹即可。</p>
<div class="highlight"><pre><span></span><code>pages_directory = /Users/myusername/Dropbox/um
</code></pre></div>

<p>这就是全部内容，希望这些能对你有用，更多好的内容敬请关注！</p>
<p>干杯！</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>