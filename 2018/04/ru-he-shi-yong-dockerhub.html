<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>如何使用 DockerHub</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Author: Swapnil Bhartiya 在这个 Docker 系列的最后一篇文章中，我们将讲述在 DockerHub 上使用和发布镜像。 在前面的文章中，我们了解到了基本的 Docker 术 …" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">linux_cn</a></h1>
                <nav><ul>
                    <li><a href="/category/chuan-shan-jia-zhuan-fang">穿山甲专访</a></li>
                    <li><a href="/category/dai-ma-ying-xiong">代码英雄</a></li>
                    <li><a href="/category/fen-xiang">分享</a></li>
                    <li><a href="/category/guan-dian">观点</a></li>
                    <li><a href="/category/huo-dong">活动</a></li>
                    <li><a href="/category/ji-ke-man-hua">极客漫画</a></li>
                    <li><a href="/category/ji-zhu">技术</a></li>
                    <li><a href="/category/kai-yuan-zhi-hui">开源智慧</a></li>
                    <li><a href="/category/linux-fa-xing-ban">Linux 发行版</a></li>
                    <li><a href="/category/mei-ri-an-quan-zi-xun">每日安全资讯</a></li>
                    <li><a href="/category/misc">Misc</a></li>
                    <li><a href="/category/qu-kuai-lian">区块链</a></li>
                    <li class="active"><a href="/category/rong-qi-yu-yun">容器与云</a></li>
                    <li><a href="/category/ruan-jian-kai-fa">软件开发</a></li>
                    <li><a href="/category/shu-mei-pai">树莓派</a></li>
                    <li><a href="/category/xi-tong-yun-wei">系统运维</a></li>
                    <li><a href="/category/xin-wen">新闻</a></li>
                    <li><a href="/category/ying-he-guan-cha">硬核观察</a></li>
                    <li><a href="/category/zhi-ye-sheng-ya">职业生涯</a></li>
                    <li><a href="/category/zhong-jiang-ming-dan">中奖名单</a></li>
                    <li><a href="/category/zhuo-mian-ying-yong">桌面应用</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2018/04/ru-he-shi-yong-dockerhub.html" rel="bookmark"
           title="Permalink to 如何使用 DockerHub">如何使用 DockerHub</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2018-04-16T10:07:00+02:00">
                Published: Mon 16 April 2018
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/linux-fans-from-china.html">linux fans from china</a>
        </address>
<p>In <a href="/category/rong-qi-yu-yun">容器与云</a>.</p>

</footer><!-- /.post-info -->      <p>Author: Swapnil Bhartiya</p>
<blockquote>
<p>在这个 Docker 系列的最后一篇文章中，我们将讲述在 DockerHub 上使用和发布镜像。</p>
</blockquote>
<p><img alt="" src="/data/attachment/album/201804/16/100714hydmwjmalw6j7c8d.jpg"></p>
<p>在前面的文章中，我们了解到了基本的 <a href="https://www.linux.com/blog/intro-to-linux/2017/12/container-basics-terms-you-need-know">Docker 术语</a>，在 Linux 桌面、MacOS 和 Windows上 <a href="/article-9773-1.html">如何安装 Docker</a>，<a href="/article-9541-1.html">如何创建容器镜像</a> 并且在系统上运行它们。在本系列的最后一篇文章中，我们将讨论如何使用 DockerHub 中的镜像以及将自己的镜像发布到 DockerHub。</p>
<p>首先：什么是 DockerHub 以及为什么它很重要？DockerHub 是一个由 Docker 公司运行和管理的基于云的存储库。它是一个在线存储库，Docker 镜像可以由其他用户发布和使用。有两种库：公共存储库和私有存储库。如果你是一家公司，你可以在你自己的组织内拥有一个私有存储库，而公共镜像可以被任何人使用。</p>
<p>你也可以使用公开发布的官方 Docker 镜像。我使用了很多这样的镜像，包括我的试验 WordPress 环境、KDE plasma 应用程序等等。虽然我们上次学习了如何创建自己的 Docker 镜像，但你不必这样做。DockerHub 上发布了数千镜像供你使用。DockerHub 作为默认存储库硬编码到 Docker 中，所以当你对任何镜像运行 <code>docker pull</code> 命令时，它将从 DockerHub 下载。</p>
<h3>从 Docker Hub 下载镜像并在本地运行</h3>
<p>开始请查看本系列的前几篇文章，以便继续。然后，一旦 Docker 在你的系统上运行，你就可以打开终端并运行：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>docker<span class="w"> </span>images
</code></pre></div>

<p>该命令将显示当前系统上所有的 docker 镜像。假设你想在本地机器上部署 Ubuntu，你可能会：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>docker<span class="w"> </span>pull<span class="w"> </span>ubuntu
</code></pre></div>

<p>如果你的系统上已经存在 Ubuntu 镜像，那么该命令会自动将该系统更新到最新版本。因此，如果你想要更新现有的镜像，只需运行 <code>docker pull</code> 命令，易如反掌。这就像 <code>apt-get update</code> 一样，没有任何的混乱和麻烦。</p>
<p>你已经知道了如何运行镜像：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>-it<span class="w"> </span>&lt;image<span class="w"> </span>name&gt;
$<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>-it<span class="w"> </span>ubuntu
</code></pre></div>

<p>命令提示符应该变为如下内容：</p>
<div class="highlight"><pre><span></span><code><span class="n">root</span><span class="mi">@1</span><span class="n">b3ec4621737</span><span class="o">:/</span><span class="err">#</span>
</code></pre></div>

<p>现在你可以运行任何属于 Ubuntu 的命令和实用程序，这些都被包含在内而且安全。你可以在 Ubuntu 上运行你想要的所有实验和测试。一旦你完成了测试，你就可以销毁镜像并下载一个新的。在虚拟机中不存在系统开销。</p>
<p>你可以通过运行 exit 命令退出该容器：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span><span class="nb">exit</span>
</code></pre></div>

<p>现在假设你想在系统上安装 Nginx，运行 <code>search</code> 命令来找到需要的镜像：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>docker<span class="w"> </span>search<span class="w"> </span>nginx
</code></pre></div>

<p><img alt="" src="/data/attachment/album/201804/16/101005skzrmrav3x5m5llc.png"></p>
<p>正如你所看到的，DockerHub 上有很多 Nginx 镜像。为什么？因为任何人都可以发布镜像，各种镜像针对不同的项目进行了优化，因此你可以选择合适的镜像。你只需要为你的需求安装合适的镜像。</p>
<p>假设你想要拉取 Bitnami 的 Nginx 镜像：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>docker<span class="w"> </span>pull<span class="w"> </span>bitnami/nginx
</code></pre></div>

<p>现在运行：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>-it<span class="w"> </span>bitnami/nginx
</code></pre></div>

<h3>如何发布镜像到 Docker Hub？</h3>
<p>在此之前，<a href="/article-9541-1.html">我们学习了如何创建 Docker 镜像</a>，我们可以轻松地将该镜像发布到 DockerHub 中。首先，你需要登录 DockerHub，如果没有账户，请 <a href="https://hub.docker.com/">创建账户</a>。然后，你可以打开终端应用，登录：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>docker<span class="w"> </span>login<span class="w"> </span>--username<span class="o">=</span>&lt;USERNAME&gt;
</code></pre></div>

<p>将 “” 替换为你自己的 Docker Hub 用户名。我这里是 arnieswap：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>docker<span class="w"> </span>login<span class="w"> </span>--username<span class="o">=</span>arnieswap
</code></pre></div>

<p>输入密码，你就登录了。现在运行 <code>docker images</code> 命令来获取你上次创建的镜像的 ID。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>docker<span class="w"> </span>images
</code></pre></div>

<p><img alt="" src="/data/attachment/album/201804/16/101107j98rv69sm8v96bss.png"></p>
<p>现在，假设你希望将镜像 <code>ng</code> 推送到 DockerHub，首先，我们需要标记该镜像（<a href="https://www.linux.com/blog/intro-to-linux/2017/12/container-basics-terms-you-need-know">了解更多关于标记的信息</a>）：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>docker<span class="w"> </span>tag<span class="w"> </span>e7083fd898c7<span class="w"> </span>arnieswap/my_repo:testing
</code></pre></div>

<p>现在推送镜像：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>docker<span class="w"> </span>push<span class="w"> </span>arnieswap/my_repo
</code></pre></div>

<p>推送指向的是 docker.io/arnieswap/my_repo 仓库：</p>
<div class="highlight"><pre><span></span><code><span class="mi">12628</span><span class="n">b20827e</span><span class="o">:</span><span class="w"> </span><span class="n">Pushed</span>
<span class="mi">8600</span><span class="n">ee70176b</span><span class="o">:</span><span class="w"> </span><span class="n">Mounted</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">library</span><span class="o">/</span><span class="n">ubuntu</span>
<span class="mi">2</span><span class="n">bbb3cec611d</span><span class="o">:</span><span class="w"> </span><span class="n">Mounted</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">library</span><span class="o">/</span><span class="n">ubuntu</span>
<span class="n">d2bb1fc88136</span><span class="o">:</span><span class="w"> </span><span class="n">Mounted</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">library</span><span class="o">/</span><span class="n">ubuntu</span>
<span class="n">a6a01ad8b53f</span><span class="o">:</span><span class="w"> </span><span class="n">Mounted</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">library</span><span class="o">/</span><span class="n">ubuntu</span>
<span class="mi">833649</span><span class="n">a3e04c</span><span class="o">:</span><span class="w"> </span><span class="n">Mounted</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">library</span><span class="o">/</span><span class="n">ubuntu</span>
<span class="n">testing</span><span class="o">:</span><span class="w"> </span><span class="n">digest</span><span class="o">:</span><span class="w"> </span><span class="n">sha256</span><span class="o">:</span><span class="mi">286</span><span class="n">cb866f34a2aa85c9fd810ac2cedd87699c02731db1b8ca1cfad16ef17c146</span><span class="w"> </span><span class="n">size</span><span class="o">:</span><span class="w"> </span><span class="mi">1569</span>
</code></pre></div>

<p>哦耶！你的镜像正在上传。一旦完成，打开 DockerHub，登录到你的账户，你就能看到你的第一个 Docker 镜像。现在任何人都可以部署你的镜像。这是开发软件和发布软件最简单，最快速的方式。无论你何时更新镜像，用户都可以简单地运行：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>arnieswap/my_repo
</code></pre></div>

<p>现在你知道为什么人们喜欢 Docker 容器了。它解决了传统工作负载所面临的许多问题，并允许你在任何时候开发、测试和部署应用程序。通过遵循本系列中的步骤，你自己可以尝试以下。</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>