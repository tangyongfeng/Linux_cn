<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>在 Git 中怎样克隆、修改、添加和删除文件？</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Author: Kedar Vijay Kulkarni 在 本系列的第一篇文章 开始使用 Git 时，我们创建了一个简单的 Git 仓库，并用我们的计算机连接到它，向其中添加 …" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">linux_cn</a></h1>
                <nav><ul>
                    <li><a href="/category/chuan-shan-jia-zhuan-fang">穿山甲专访</a></li>
                    <li><a href="/category/dai-ma-ying-xiong">代码英雄</a></li>
                    <li><a href="/category/fen-xiang">分享</a></li>
                    <li><a href="/category/guan-dian">观点</a></li>
                    <li><a href="/category/huo-dong">活动</a></li>
                    <li><a href="/category/ji-ke-man-hua">极客漫画</a></li>
                    <li class="active"><a href="/category/ji-zhu">技术</a></li>
                    <li><a href="/category/kai-yuan-zhi-hui">开源智慧</a></li>
                    <li><a href="/category/linux-fa-xing-ban">Linux 发行版</a></li>
                    <li><a href="/category/mei-ri-an-quan-zi-xun">每日安全资讯</a></li>
                    <li><a href="/category/misc">Misc</a></li>
                    <li><a href="/category/qu-kuai-lian">区块链</a></li>
                    <li><a href="/category/rong-qi-yu-yun">容器与云</a></li>
                    <li><a href="/category/ruan-jian-kai-fa">软件开发</a></li>
                    <li><a href="/category/shu-mei-pai">树莓派</a></li>
                    <li><a href="/category/xi-tong-yun-wei">系统运维</a></li>
                    <li><a href="/category/xin-wen">新闻</a></li>
                    <li><a href="/category/ying-he-guan-cha">硬核观察</a></li>
                    <li><a href="/category/zhi-ye-sheng-ya">职业生涯</a></li>
                    <li><a href="/category/zhong-jiang-ming-dan">中奖名单</a></li>
                    <li><a href="/category/zhuo-mian-ying-yong">桌面应用</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2018/04/zai-git-zhong-zen-yang-ke-long-xiu-gai-tian-jia-he-shan-chu-wen-jian.html" rel="bookmark"
           title="Permalink to 在 Git 中怎样克隆、修改、添加和删除文件？">在 Git 中怎样克隆、修改、添加和删除文件？</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2018-04-05T22:16:16+02:00">
                Published: Thu 05 April 2018
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/linux-fans-from-china.html">linux fans from china</a>
        </address>
<p>In <a href="/category/ji-zhu">技术</a>.</p>

</footer><!-- /.post-info -->      <p>Author: Kedar Vijay Kulkarni</p>
<p><img alt="" src="/data/attachment/album/201804/05/221612b9tvoj69g1otctqp.jpg"></p>
<p>在 <a href="/article-9319-1.html">本系列的第一篇文章</a> 开始使用 Git 时，我们创建了一个简单的 Git 仓库，并用我们的计算机连接到它，向其中添加一个文件。在本文中，我们将学习一些关于 Git 的其他内容，即如何克隆（下载）、修改、添加和删除 Git 仓库中的文件。</p>
<h3>让我们来克隆一下</h3>
<p>假设你在 GitHub 上已经有一个 Git 仓库，并且想从它那里获取你的文件——也许你在你的计算机上丢失了本地副本，或者你正在另一台计算机上工作，但是想访问仓库中的文件，你该怎么办？从 GitHub 下载你的文件？没错！在 Git 术语中我们称之为“<ruby> 克隆 <rt>  clone </rt></ruby>”。（你也可以将仓库作为 ZIP 文件下载，但我们将在本文中探讨克隆方式。）</p>
<p>让我们克隆在上一篇文章中创建的名为 Demo 的仓库。（如果你还没有创建 Demo 仓库，请跳回到<a href="/article-9319-1.html">那篇文章</a>并在继续之前执行那些步骤）要克隆文件，只需打开浏览器并导航到 <code>https://github.com/&lt;your_username&gt;/Demo</code> (其中 <code>&lt;your_username&gt;</code> 是你仓库的名称。例如，我的仓库是 <code>https://github.com/kedark3/Demo</code>)。一旦你导航到该 URL，点击“<ruby> 克隆或下载 <rt>  Clone or download </rt></ruby>”按钮，你的浏览器看起来应该是这样的：</p>
<p><img alt="" src="/data/attachment/album/201804/05/221619mtj85s3jaoknanjk.png"></p>
<p>正如你在上面看到的，“<ruby> 使用 HTTPS 克隆 <rt>  Clone with HTTPS </rt></ruby>”选项已打开。从该下拉框中复制你的仓库地址（<code>https://github.com/&lt;your_username&gt;/Demo.git</code>），打开终端并输入以下命令将 GitHub 仓库克隆到你的计算机：</p>
<div class="highlight"><pre><span></span><code>git clone https://github.com/&lt;your_username&gt;/Demo.git
</code></pre></div>

<p>然后，要查看 <code>Demo</code> 目录中的文件列表，请输入以下命令：</p>
<div class="highlight"><pre><span></span><code>ls Demo/
</code></pre></div>

<p>终端看起来应该是这样的：</p>
<p><img alt="" src="/data/attachment/album/201804/05/221620iw43u2y7ldj62yu8.png"></p>
<h3>修改文件</h3>
<p>现在我们已经克隆了仓库，让我们修改文件并在 GitHub 上更新它们。首先，逐个输入下面的命令，将目录更改为 <code>Demo/</code>，检查 <code>README.md</code> 中的内容，添加新的（附加的）内容到 <code>README.md</code>，然后使用 <code>git status</code> 检查状态:</p>
<div class="highlight"><pre><span></span><code>cd Demo/
ls
cat README.md
echo &quot;Added another line to REAMD.md&quot; &gt;&gt; README.md
cat README.md
git status
</code></pre></div>

<p>如果你逐一运行这些命令，终端看起开将会是这样：</p>
<p><img alt="" src="/data/attachment/album/201804/05/221621ue0w5flhzzwdklf0.png"></p>
<p>让我们看一下 <code>git status</code> 的输出，并了解它的意思。不要担心这样的语句：</p>
<div class="highlight"><pre><span></span><code>On branch master
Your branch is up-to-date with &#39;origin/master&#39;.&quot;.
</code></pre></div>

<p>因为我们还没有学习这些。（LCTT 译注：学了你就知道了）下一行说：<code>Changes not staged for commit</code>（变化未筹划提交）；这是告诉你，它下面列出的文件没有被标记准备（“<ruby> 筹划 <rt>  stage </rt></ruby>”）提交。如果你运行 <code>git add</code>，Git 会把这些文件标记为 <code>Ready for commit</code>（准备提交）；换句话说就是 <code>Changes staged for commit</code>（变化筹划提交）。在我们这样做之前，让我们用 <code>git diff</code> 命令来检查我们添加了什么到 Git 中，然后运行 <code>git add</code>。</p>
<p>这里是终端输出：</p>
<p><img alt="" src="/data/attachment/album/201804/05/221621dfkakekf8tknk829.png"></p>
<p>我们来分析一下：</p>
<ul>
<li><code>diff --git a/README.md b/README.md</code> 是 Git 比较的内容（在这个例子中是 <code>README.md</code>）。</li>
<li><code>--- a/README.md</code> 会显示从文件中删除的任何东西。</li>
<li><code>+++ b/README.md</code> 会显示从文件中添加的任何东西。</li>
<li>任何添加到文件中的内容都以绿色文本打印，并在该行的开头加上 <code>+</code> 号。</li>
<li>如果我们删除了任何内容，它将以红色文本打印，并在该行的开头加上 <code>-</code> 号。</li>
<li>现在 <code>git status</code> 显示 <code>Changes to be committed:</code>（变化将被提交），并列出文件名（即 <code>README.md</code>）以及该文件发生了什么（即它已经被 <code>modified</code> 并准备提交）。</li>
</ul>
<p>提示：如果你已经运行了 <code>git add</code>，现在你想看看文件有什么不同，通常 <code>git diff</code> 不会输出任何东西，因为你已经添加了文件。相反，你必须使用 <code>git diff --cached</code>。它会告诉你 Git 添加的当前版本和以前版本文件之间的差别。你的终端输出看起来会是这样：</p>
<p><img alt="" src="/data/attachment/album/201804/05/221622vxb5f22xsfr3f2za.png"></p>
<h3>上传文件到你的仓库</h3>
<p>我们用一些新内容修改了 <code>README.md</code> 文件，现在是时候将它上传到 GitHub。</p>
<p>让我们提交更改并将其推送到 GitHub。运行：</p>
<div class="highlight"><pre><span></span><code>git commit -m &quot;Updated Readme file&quot;
</code></pre></div>

<p>这告诉 Git 你正在“提交”已经“添加”的更改，你可能还记得，从本系列的第一部分中，添加一条消息来解释你在提交中所做的操作是非常重要的，以便你在稍后回顾 Git 日志时了解当时的目的。（我们将在下一篇文章中更多地关注这个话题。）<code>Updated Readme file</code> 是这个提交的消息——如果你认为这没有合理解释你所做的事情，那么请根据需要写下你的提交消息。</p>
<p>运行 <code>git push -u origin master</code>，这会提示你输入用户名和密码，然后将文件上传到你的 GitHub 仓库。刷新你的 GitHub 页面，你应该会看到刚刚对 <code>README.md</code> 所做的更改。</p>
<p><img alt="" src="/data/attachment/album/201804/05/221622go895i8qtgk888x8.png"></p>
<p>终端的右下角显示我提交了更改，检查了 Git 状态，并将更改推送到了 GitHub。<code>git status</code> 显示：</p>
<div class="highlight"><pre><span></span><code>Your branch is ahead of &#39;origin/master&#39; by 1 commit
  (use &quot;git push&quot; to publish your local commits)
</code></pre></div>

<p>第一行表示在本地仓库中有一个提交，但不在 <code>origin/master</code> 中（即在 GitHub 上）。下一行指示我们将这些更改推送到 <code>origin/master</code> 中，这就是我们所做的。（在本例中，请参阅本系列的第一篇文章，以唤醒你对 <code>origin</code> 含义的记忆。我将在下一篇文章中讨论分支的时候，解释 <code>master</code> 的含义。）</p>
<h3>添加新文件到 Git</h3>
<p>现在我们修改了一个文件并在 GitHub 上更新了它，让我们创建一个新文件，将它添加到 Git，然后将其上传到 GitHub。 运行：</p>
<div class="highlight"><pre><span></span><code>echo &quot;This is a new file&quot; &gt;&gt; file.txt
</code></pre></div>

<p>这将会创建一个名为 <code>file.txt</code> 的新文件。</p>
<p>如果使用 <code>cat</code> 查看它：</p>
<div class="highlight"><pre><span></span><code>cat file.txt
</code></pre></div>

<p>你将看到文件的内容。现在继续运行：</p>
<div class="highlight"><pre><span></span><code>git status
</code></pre></div>

<p>Git 报告说你的仓库中有一个未跟踪的文件（名为 <code>file.txt</code>）。这是 Git 告诉你说在你的计算机中的仓库目录下有一个新文件，然而你并没有告诉 Git，Git 也没有跟踪你所做的任何修改。</p>
<p><img alt="" src="/data/attachment/album/201804/05/221622in1c7i37l1mm2m72.png"></p>
<p>我们需要告诉 Git 跟踪这个文件，以便我们可以提交并上传文件到我们的仓库。以下是执行该操作的命令：</p>
<div class="highlight"><pre><span></span><code>git add file.txt
git status
</code></pre></div>

<p>终端输出如下：</p>
<p><img alt="" src="/data/attachment/album/201804/05/221623on3h4nk34fvm6n7f.png"></p>
<p><code>git status</code> 告诉你有 <code>file.txt</code> 被修改，对于 Git 来说它是一个 <code>new file</code>，Git 在此之前并不知道。现在我们已经为 Git 添加了 <code>file.txt</code>，我们可以提交更改并将其推送到 <code>origin/master</code>。</p>
<p><img alt="" src="/data/attachment/album/201804/05/221624yzbda2qkwby3q1kb.png"></p>
<p>Git 现在已经将这个新文件上传到 GitHub；如果刷新 GitHub 页面，则应该在 GitHub 上的仓库中看到新文件 <code>file.txt</code>。</p>
<p><img alt="" src="/data/attachment/album/201804/05/221624w84943m9i9334k33.png"></p>
<p>通过这些步骤，你可以创建尽可能多的文件，将它们添加到 Git 中，然后提交并将它们推送到 GitHub。</p>
<h3>从 Git 中删除文件</h3>
<p>如果我们发现我们犯了一个错误，并且需要从我们的仓库中删除 <code>file.txt</code>，该怎么办？一种方法是使用以下命令从本地副本中删除文件：</p>
<div class="highlight"><pre><span></span><code>rm file.txt
</code></pre></div>

<p>如果你现在做 <code>git status</code>，Git 就会说有一个文件 <code>not staged for commit</code>（未筹划提交），并且它已经从仓库的本地拷贝中删除了。如果我们现在运行：</p>
<div class="highlight"><pre><span></span><code>git add file.txt
git status
</code></pre></div>

<p>我知道我们正在删除这个文件，但是我们仍然运行 <code>git add</code>，因为我们需要告诉 Git 我们正在做的<strong>更改</strong>，<code>git add</code> 可以用于我们添加新文件、修改一个已存在文件的内容、或者从仓库中删除文件时。实际上，<code>git add</code> 将所有更改考虑在内，并将这些筹划提交这些更改。如果有疑问，请仔细查看下面终端屏幕截图中每个命令的输出。</p>
<p>Git 会告诉我们已删除的文件正在进行提交。只要你提交此更改并将其推送到 GitHub，该文件也将从 GitHub 的仓库中删除。运行以下命令：</p>
<div class="highlight"><pre><span></span><code>git commit -m &quot;Delete file.txt&quot;
git push -u origin master
</code></pre></div>

<p>现在你的终端看起来像这样：</p>
<p><img alt="" src="/data/attachment/album/201804/05/221625nwpxb9wrulpu9bqp.png"></p>
<p>你的 GitHub 看起来像这样：</p>
<p><img alt="" src="/data/attachment/album/201804/05/221625gojuf4u3zywfybuw.png"></p>
<p>现在你知道如何从你的仓库克隆、添加、修改和删除 Git 文件。本系列的下一篇文章将检查 Git 分支。</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>