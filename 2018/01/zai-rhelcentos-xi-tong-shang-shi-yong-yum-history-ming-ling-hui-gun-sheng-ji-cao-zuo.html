<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>在 RHEL/CentOS 系统上使用 YUM history 命令回滚升级操作</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Author: 2daygeek 为服务器打补丁是 Linux 系统管理员的一项重要任务，为的是让系统更加稳定，性能更加优化。厂商经常会发布一些安全 …" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">linux_cn</a></h1>
                <nav><ul>
                    <li><a href="/category/chuan-shan-jia-zhuan-fang">穿山甲专访</a></li>
                    <li><a href="/category/dai-ma-ying-xiong">代码英雄</a></li>
                    <li><a href="/category/fen-xiang">分享</a></li>
                    <li><a href="/category/guan-dian">观点</a></li>
                    <li><a href="/category/huo-dong">活动</a></li>
                    <li><a href="/category/ji-ke-man-hua">极客漫画</a></li>
                    <li class="active"><a href="/category/ji-zhu">技术</a></li>
                    <li><a href="/category/kai-yuan-zhi-hui">开源智慧</a></li>
                    <li><a href="/category/linux-fa-xing-ban">Linux 发行版</a></li>
                    <li><a href="/category/mei-ri-an-quan-zi-xun">每日安全资讯</a></li>
                    <li><a href="/category/misc">Misc</a></li>
                    <li><a href="/category/qu-kuai-lian">区块链</a></li>
                    <li><a href="/category/rong-qi-yu-yun">容器与云</a></li>
                    <li><a href="/category/ruan-jian-kai-fa">软件开发</a></li>
                    <li><a href="/category/shu-mei-pai">树莓派</a></li>
                    <li><a href="/category/xi-tong-yun-wei">系统运维</a></li>
                    <li><a href="/category/xin-wen">新闻</a></li>
                    <li><a href="/category/ying-he-guan-cha">硬核观察</a></li>
                    <li><a href="/category/zhi-ye-sheng-ya">职业生涯</a></li>
                    <li><a href="/category/zhong-jiang-ming-dan">中奖名单</a></li>
                    <li><a href="/category/zhuo-mian-ying-yong">桌面应用</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2018/01/zai-rhelcentos-xi-tong-shang-shi-yong-yum-history-ming-ling-hui-gun-sheng-ji-cao-zuo.html" rel="bookmark"
           title="Permalink to 在 RHEL/CentOS 系统上使用 YUM history 命令回滚升级操作">在 RHEL/CentOS 系统上使用 YUM history 命令回滚升级操作</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2018-01-18T08:47:00+01:00">
                Published: Thu 18 January 2018
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/linux-fans-from-china.html">linux fans from china</a>
        </address>
<p>In <a href="/category/ji-zhu">技术</a>.</p>

</footer><!-- /.post-info -->      <p>Author: 2daygeek</p>
<p><img alt="" src="/data/attachment/album/201801/18/094229orftygtv7zdnlkmf.png"></p>
<p>为服务器打补丁是 Linux 系统管理员的一项重要任务，为的是让系统更加稳定，性能更加优化。厂商经常会发布一些安全/高危的补丁包，相关软件需要升级以防范潜在的安全风险。</p>
<p>Yum （Yellowdog Update Modified） 是 CentOS 和 RedHat 系统上用的 RPM 包管理工具，<code>yum history</code> 命令允许系统管理员将系统回滚到上一个状态，但由于某些限制，回滚不是在所有情况下都能成功，有时 <code>yum</code> 命令可能什么都不做，有时可能会删掉一些其他的包。</p>
<p>我建议你在升级之前还是要做一个完整的系统备份，而 <code>yum history</code> 并不能用来替代系统备份的。系统备份能让你将系统还原到任意时候的节点状态。</p>
<p><strong>推荐阅读：</strong></p>
<ul>
<li><a href="https://www.2daygeek.com/yum-command-examples-manage-packages-rhel-centos-systems/">在 RHEL/CentOS 系统上使用 YUM 命令管理软件包</a></li>
<li><a href="https://www.2daygeek.com/dnf-command-examples-manage-packages-fedora-system/">在 Fedora 系统上使用 DNF （YUM 的一个分支）命令管理软件包</a></li>
<li><a href="https://www.2daygeek.com/display-date-time-linux-bash-history-command/">如何让 history 命令显示日期和时间</a></li>
</ul>
<p>某些情况下，安装的应用程序在升级了补丁之后不能正常工作或者出现一些错误（可能是由于库不兼容或者软件包升级导致的），那该怎么办呢？</p>
<p>与应用开发团队沟通，并找出导致库和软件包的问题所在，然后使用 <code>yum history</code> 命令进行回滚。</p>
<p><strong>注意：</strong></p>
<ul>
<li>它不支持回滚 selinux，selinux-policy-*，kernel，glibc （以及依赖 glibc 的包，比如 gcc）。</li>
<li>不建议将系统降级到更低的版本（比如 CentOS 6.9 降到 CentOS 6.8），这会导致系统处于不稳定的状态</li>
</ul>
<p>让我们先来看看系统上有哪些包可以升级，然后挑选出一些包来做实验。</p>
<div class="highlight"><pre><span></span><code><span class="c1"># yum update</span>
<span class="n">Loaded</span><span class="w"> </span><span class="n">plugins</span><span class="p">:</span><span class="w"> </span><span class="n">fastestmirror</span><span class="p">,</span><span class="w"> </span><span class="n">security</span>
<span class="n">Setting</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">Update</span><span class="w"> </span><span class="n">Process</span>
<span class="n">Loading</span><span class="w"> </span><span class="n">mirror</span><span class="w"> </span><span class="n">speeds</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">cached</span><span class="w"> </span><span class="n">hostfile</span>
<span class="n">epel</span><span class="o">/</span><span class="n">metalink</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">12</span><span class="w"> </span><span class="n">kB</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>
<span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">epel</span><span class="p">:</span><span class="w"> </span><span class="n">mirror</span><span class="o">.</span><span class="n">csclub</span><span class="o">.</span><span class="n">uwaterloo</span><span class="o">.</span><span class="n">ca</span>
<span class="n">base</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mf">3.7</span><span class="w"> </span><span class="n">kB</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>
<span class="n">dockerrepo</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mf">2.9</span><span class="w"> </span><span class="n">kB</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>
<span class="n">draios</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mf">2.9</span><span class="w"> </span><span class="n">kB</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>
<span class="n">draios</span><span class="o">/</span><span class="n">primary_db</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">13</span><span class="w"> </span><span class="n">kB</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>
<span class="n">epel</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mf">4.3</span><span class="w"> </span><span class="n">kB</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>
<span class="n">epel</span><span class="o">/</span><span class="n">primary_db</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mf">5.9</span><span class="w"> </span><span class="n">MB</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>
<span class="n">extras</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mf">3.4</span><span class="w"> </span><span class="n">kB</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>
<span class="n">updates</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mf">3.4</span><span class="w"> </span><span class="n">kB</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>
<span class="n">updates</span><span class="o">/</span><span class="n">primary_db</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mf">2.5</span><span class="w"> </span><span class="n">MB</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>
<span class="n">Resolving</span><span class="w"> </span><span class="n">Dependencies</span>
<span class="o">--&gt;</span><span class="w"> </span><span class="n">Running</span><span class="w"> </span><span class="n">transaction</span><span class="w"> </span><span class="n">check</span>
<span class="o">---&gt;</span><span class="w"> </span><span class="n">Package</span><span class="w"> </span><span class="n">git</span><span class="o">.</span><span class="n">x86_64</span><span class="w"> </span><span class="mi">0</span><span class="p">:</span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">8.</span><span class="n">el6</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">updated</span>
<span class="o">---&gt;</span><span class="w"> </span><span class="n">Package</span><span class="w"> </span><span class="n">git</span><span class="o">.</span><span class="n">x86_64</span><span class="w"> </span><span class="mi">0</span><span class="p">:</span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">9.</span><span class="n">el6_9</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">update</span>
<span class="o">---&gt;</span><span class="w"> </span><span class="n">Package</span><span class="w"> </span><span class="n">httpd</span><span class="o">.</span><span class="n">x86_64</span><span class="w"> </span><span class="mi">0</span><span class="p">:</span><span class="mf">2.2</span><span class="o">.</span><span class="mi">15</span><span class="o">-</span><span class="mf">60.</span><span class="n">el6</span><span class="o">.</span><span class="n">centos</span><span class="o">.</span><span class="mi">4</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">updated</span>
<span class="o">---&gt;</span><span class="w"> </span><span class="n">Package</span><span class="w"> </span><span class="n">httpd</span><span class="o">.</span><span class="n">x86_64</span><span class="w"> </span><span class="mi">0</span><span class="p">:</span><span class="mf">2.2</span><span class="o">.</span><span class="mi">15</span><span class="o">-</span><span class="mf">60.</span><span class="n">el6</span><span class="o">.</span><span class="n">centos</span><span class="o">.</span><span class="mi">5</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">update</span>
<span class="o">---&gt;</span><span class="w"> </span><span class="n">Package</span><span class="w"> </span><span class="n">httpd</span><span class="o">-</span><span class="n">tools</span><span class="o">.</span><span class="n">x86_64</span><span class="w"> </span><span class="mi">0</span><span class="p">:</span><span class="mf">2.2</span><span class="o">.</span><span class="mi">15</span><span class="o">-</span><span class="mf">60.</span><span class="n">el6</span><span class="o">.</span><span class="n">centos</span><span class="o">.</span><span class="mi">4</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">updated</span>
<span class="o">---&gt;</span><span class="w"> </span><span class="n">Package</span><span class="w"> </span><span class="n">httpd</span><span class="o">-</span><span class="n">tools</span><span class="o">.</span><span class="n">x86_64</span><span class="w"> </span><span class="mi">0</span><span class="p">:</span><span class="mf">2.2</span><span class="o">.</span><span class="mi">15</span><span class="o">-</span><span class="mf">60.</span><span class="n">el6</span><span class="o">.</span><span class="n">centos</span><span class="o">.</span><span class="mi">5</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">update</span>
<span class="o">---&gt;</span><span class="w"> </span><span class="n">Package</span><span class="w"> </span><span class="n">perl</span><span class="o">-</span><span class="n">Git</span><span class="o">.</span><span class="n">noarch</span><span class="w"> </span><span class="mi">0</span><span class="p">:</span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">8.</span><span class="n">el6</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">updated</span>
<span class="o">---&gt;</span><span class="w"> </span><span class="n">Package</span><span class="w"> </span><span class="n">perl</span><span class="o">-</span><span class="n">Git</span><span class="o">.</span><span class="n">noarch</span><span class="w"> </span><span class="mi">0</span><span class="p">:</span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">9.</span><span class="n">el6_9</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">update</span>
<span class="o">--&gt;</span><span class="w"> </span><span class="n">Finished</span><span class="w"> </span><span class="n">Dependency</span><span class="w"> </span><span class="n">Resolution</span>

<span class="n">Dependencies</span><span class="w"> </span><span class="n">Resolved</span>

<span class="o">=================================================================================================</span>
<span class="w"> </span><span class="n">Package</span><span class="w"> </span><span class="n">Arch</span><span class="w"> </span><span class="n">Version</span><span class="w"> </span><span class="n">Repository</span><span class="w"> </span><span class="n">Size</span>
<span class="o">=================================================================================================</span>
<span class="n">Updating</span><span class="p">:</span>
<span class="w"> </span><span class="n">git</span><span class="w"> </span><span class="n">x86_64</span><span class="w"> </span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">9.</span><span class="n">el6_9</span><span class="w"> </span><span class="n">updates</span><span class="w"> </span><span class="mf">4.6</span><span class="w"> </span><span class="n">M</span>
<span class="w"> </span><span class="n">httpd</span><span class="w"> </span><span class="n">x86_64</span><span class="w"> </span><span class="mf">2.2</span><span class="o">.</span><span class="mi">15</span><span class="o">-</span><span class="mf">60.</span><span class="n">el6</span><span class="o">.</span><span class="n">centos</span><span class="o">.</span><span class="mi">5</span><span class="w"> </span><span class="n">updates</span><span class="w"> </span><span class="mi">836</span><span class="w"> </span><span class="n">k</span>
<span class="w"> </span><span class="n">httpd</span><span class="o">-</span><span class="n">tools</span><span class="w"> </span><span class="n">x86_64</span><span class="w"> </span><span class="mf">2.2</span><span class="o">.</span><span class="mi">15</span><span class="o">-</span><span class="mf">60.</span><span class="n">el6</span><span class="o">.</span><span class="n">centos</span><span class="o">.</span><span class="mi">5</span><span class="w"> </span><span class="n">updates</span><span class="w"> </span><span class="mi">80</span><span class="w"> </span><span class="n">k</span>
<span class="w"> </span><span class="n">perl</span><span class="o">-</span><span class="n">Git</span><span class="w"> </span><span class="n">noarch</span><span class="w"> </span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">9.</span><span class="n">el6_9</span><span class="w"> </span><span class="n">updates</span><span class="w"> </span><span class="mi">29</span><span class="w"> </span><span class="n">k</span>

<span class="n">Transaction</span><span class="w"> </span><span class="n">Summary</span>
<span class="o">=================================================================================================</span>
<span class="n">Upgrade</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="n">Package</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>

<span class="n">Total</span><span class="w"> </span><span class="n">download</span><span class="w"> </span><span class="n">size</span><span class="p">:</span><span class="w"> </span><span class="mf">5.5</span><span class="w"> </span><span class="n">M</span>
<span class="n">Is</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="p">[</span><span class="n">y</span><span class="o">/</span><span class="n">N</span><span class="p">]:</span><span class="w"> </span><span class="n">n</span>
</code></pre></div>

<p>你会发现 <code>git</code> 包可以被升级，那我们就用它来实验吧。运行下面命令获得软件包的版本信息（当前安装的版本和可以升级的版本）。</p>
<div class="highlight"><pre><span></span><code><span class="err">#</span><span class="w"> </span><span class="n">yum</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="n">git</span>
<span class="n">Loaded</span><span class="w"> </span><span class="nl">plugins</span><span class="p">:</span><span class="w"> </span><span class="n">fastestmirror</span><span class="p">,</span><span class="w"> </span><span class="n">security</span>
<span class="n">Setting</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="k">Update</span><span class="w"> </span><span class="n">Process</span>
<span class="n">Loading</span><span class="w"> </span><span class="n">mirror</span><span class="w"> </span><span class="n">speeds</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">cached</span><span class="w"> </span><span class="n">hostfile</span>
<span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nl">epel</span><span class="p">:</span><span class="w"> </span><span class="n">mirror</span><span class="p">.</span><span class="n">csclub</span><span class="p">.</span><span class="n">uwaterloo</span><span class="p">.</span><span class="n">ca</span>
<span class="n">Installed</span><span class="w"> </span><span class="n">Packages</span>
<span class="n">git</span><span class="p">.</span><span class="n">x86_64</span><span class="w"> </span><span class="mf">1.7.1</span><span class="o">-</span><span class="mf">8.</span><span class="n">el6</span><span class="w"> </span><span class="nv">@base</span>
<span class="n">Available</span><span class="w"> </span><span class="n">Packages</span>
<span class="n">git</span><span class="p">.</span><span class="n">x86_64</span><span class="w"> </span><span class="mf">1.7.1</span><span class="o">-</span><span class="mf">9.</span><span class="n">el6_9</span><span class="w"> </span><span class="n">updates</span>
</code></pre></div>

<p>运行下面命令来将 <code>git</code> 从 <code>1.7.1-8</code> 升级到 <code>1.7.1-9</code>。</p>
<div class="highlight"><pre><span></span><code><span class="c1"># yum update git</span>
<span class="n">Loaded</span><span class="w"> </span><span class="n">plugins</span><span class="p">:</span><span class="w"> </span><span class="n">fastestmirror</span><span class="p">,</span><span class="w"> </span><span class="n">presto</span>
<span class="n">Setting</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">Update</span><span class="w"> </span><span class="n">Process</span>
<span class="n">Loading</span><span class="w"> </span><span class="n">mirror</span><span class="w"> </span><span class="n">speeds</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">cached</span><span class="w"> </span><span class="n">hostfile</span>
<span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">base</span><span class="p">:</span><span class="w"> </span><span class="n">repos</span><span class="o">.</span><span class="n">lax</span><span class="o">.</span><span class="n">quadranet</span><span class="o">.</span><span class="n">com</span>
<span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">epel</span><span class="p">:</span><span class="w"> </span><span class="n">fedora</span><span class="o">.</span><span class="n">mirrors</span><span class="o">.</span><span class="n">pair</span><span class="o">.</span><span class="n">com</span>
<span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">extras</span><span class="p">:</span><span class="w"> </span><span class="n">mirrors</span><span class="o">.</span><span class="n">seas</span><span class="o">.</span><span class="n">harvard</span><span class="o">.</span><span class="n">edu</span>
<span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">updates</span><span class="p">:</span><span class="w"> </span><span class="n">mirror</span><span class="o">.</span><span class="n">sesp</span><span class="o">.</span><span class="n">northwestern</span><span class="o">.</span><span class="n">edu</span>
<span class="n">Resolving</span><span class="w"> </span><span class="n">Dependencies</span>
<span class="o">--&gt;</span><span class="w"> </span><span class="n">Running</span><span class="w"> </span><span class="n">transaction</span><span class="w"> </span><span class="n">check</span>
<span class="o">---&gt;</span><span class="w"> </span><span class="n">Package</span><span class="w"> </span><span class="n">git</span><span class="o">.</span><span class="n">x86_64</span><span class="w"> </span><span class="mi">0</span><span class="p">:</span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">8.</span><span class="n">el6</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">updated</span>
<span class="o">--&gt;</span><span class="w"> </span><span class="n">Processing</span><span class="w"> </span><span class="n">Dependency</span><span class="p">:</span><span class="w"> </span><span class="n">git</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">8.</span><span class="n">el6</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">package</span><span class="p">:</span><span class="w"> </span><span class="n">perl</span><span class="o">-</span><span class="n">Git</span><span class="o">-</span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">8.</span><span class="n">el6</span><span class="o">.</span><span class="n">noarch</span>
<span class="o">---&gt;</span><span class="w"> </span><span class="n">Package</span><span class="w"> </span><span class="n">git</span><span class="o">.</span><span class="n">x86_64</span><span class="w"> </span><span class="mi">0</span><span class="p">:</span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">9.</span><span class="n">el6_9</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">update</span>
<span class="o">--&gt;</span><span class="w"> </span><span class="n">Running</span><span class="w"> </span><span class="n">transaction</span><span class="w"> </span><span class="n">check</span>
<span class="o">---&gt;</span><span class="w"> </span><span class="n">Package</span><span class="w"> </span><span class="n">perl</span><span class="o">-</span><span class="n">Git</span><span class="o">.</span><span class="n">noarch</span><span class="w"> </span><span class="mi">0</span><span class="p">:</span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">8.</span><span class="n">el6</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">updated</span>
<span class="o">---&gt;</span><span class="w"> </span><span class="n">Package</span><span class="w"> </span><span class="n">perl</span><span class="o">-</span><span class="n">Git</span><span class="o">.</span><span class="n">noarch</span><span class="w"> </span><span class="mi">0</span><span class="p">:</span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">9.</span><span class="n">el6_9</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">update</span>
<span class="o">--&gt;</span><span class="w"> </span><span class="n">Finished</span><span class="w"> </span><span class="n">Dependency</span><span class="w"> </span><span class="n">Resolution</span>

<span class="n">Dependencies</span><span class="w"> </span><span class="n">Resolved</span>

<span class="o">=================================================================================================</span>
<span class="w"> </span><span class="n">Package</span><span class="w"> </span><span class="n">Arch</span><span class="w"> </span><span class="n">Version</span><span class="w"> </span><span class="n">Repository</span><span class="w"> </span><span class="n">Size</span>
<span class="o">=================================================================================================</span>
<span class="n">Updating</span><span class="p">:</span>
<span class="w"> </span><span class="n">git</span><span class="w"> </span><span class="n">x86_64</span><span class="w"> </span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">9.</span><span class="n">el6_9</span><span class="w"> </span><span class="n">updates</span><span class="w"> </span><span class="mf">4.6</span><span class="w"> </span><span class="n">M</span>
<span class="n">Updating</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">dependencies</span><span class="p">:</span>
<span class="w"> </span><span class="n">perl</span><span class="o">-</span><span class="n">Git</span><span class="w"> </span><span class="n">noarch</span><span class="w"> </span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">9.</span><span class="n">el6_9</span><span class="w"> </span><span class="n">updates</span><span class="w"> </span><span class="mi">29</span><span class="w"> </span><span class="n">k</span>

<span class="n">Transaction</span><span class="w"> </span><span class="n">Summary</span>
<span class="o">=================================================================================================</span>
<span class="n">Upgrade</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="n">Package</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>

<span class="n">Total</span><span class="w"> </span><span class="n">download</span><span class="w"> </span><span class="n">size</span><span class="p">:</span><span class="w"> </span><span class="mf">4.6</span><span class="w"> </span><span class="n">M</span>
<span class="n">Is</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="p">[</span><span class="n">y</span><span class="o">/</span><span class="n">N</span><span class="p">]:</span><span class="w"> </span><span class="n">y</span>
<span class="n">Downloading</span><span class="w"> </span><span class="n">Packages</span><span class="p">:</span>
<span class="n">Setting</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">reading</span><span class="w"> </span><span class="n">Presto</span><span class="w"> </span><span class="n">delta</span><span class="w"> </span><span class="n">metadata</span>
<span class="n">Processing</span><span class="w"> </span><span class="n">delta</span><span class="w"> </span><span class="n">metadata</span>
<span class="n">Package</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="n">still</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">download</span><span class="p">:</span><span class="w"> </span><span class="mf">4.6</span><span class="w"> </span><span class="n">M</span>
<span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">):</span><span class="w"> </span><span class="n">git</span><span class="o">-</span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">9.</span><span class="n">el6_9</span><span class="o">.</span><span class="n">x86_64</span><span class="o">.</span><span class="n">rpm</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mf">4.6</span><span class="w"> </span><span class="n">MB</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>
<span class="p">(</span><span class="mi">2</span><span class="o">/</span><span class="mi">2</span><span class="p">):</span><span class="w"> </span><span class="n">perl</span><span class="o">-</span><span class="n">Git</span><span class="o">-</span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">9.</span><span class="n">el6_9</span><span class="o">.</span><span class="n">noarch</span><span class="o">.</span><span class="n">rpm</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">29</span><span class="w"> </span><span class="n">kB</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>
<span class="o">-------------------------------------------------------------------------------------------------</span>
<span class="n">Total</span><span class="w"> </span><span class="mf">5.8</span><span class="w"> </span><span class="n">MB</span><span class="o">/</span><span class="n">s</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mf">4.6</span><span class="w"> </span><span class="n">MB</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>
<span class="n">Running</span><span class="w"> </span><span class="n">rpm_check_debug</span>
<span class="n">Running</span><span class="w"> </span><span class="n">Transaction</span><span class="w"> </span><span class="n">Test</span>
<span class="n">Transaction</span><span class="w"> </span><span class="n">Test</span><span class="w"> </span><span class="n">Succeeded</span>
<span class="n">Running</span><span class="w"> </span><span class="n">Transaction</span>
<span class="w"> </span><span class="n">Updating</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">perl</span><span class="o">-</span><span class="n">Git</span><span class="o">-</span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">9.</span><span class="n">el6_9</span><span class="o">.</span><span class="n">noarch</span><span class="w"> </span><span class="mi">1</span><span class="o">/</span><span class="mi">4</span>
<span class="w"> </span><span class="n">Updating</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">git</span><span class="o">-</span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">9.</span><span class="n">el6_9</span><span class="o">.</span><span class="n">x86_64</span><span class="w"> </span><span class="mi">2</span><span class="o">/</span><span class="mi">4</span>
<span class="w"> </span><span class="n">Cleanup</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">perl</span><span class="o">-</span><span class="n">Git</span><span class="o">-</span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">8.</span><span class="n">el6</span><span class="o">.</span><span class="n">noarch</span><span class="w"> </span><span class="mi">3</span><span class="o">/</span><span class="mi">4</span>
<span class="w"> </span><span class="n">Cleanup</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">git</span><span class="o">-</span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">8.</span><span class="n">el6</span><span class="o">.</span><span class="n">x86_64</span><span class="w"> </span><span class="mi">4</span><span class="o">/</span><span class="mi">4</span>
<span class="w"> </span><span class="n">Verifying</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">git</span><span class="o">-</span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">9.</span><span class="n">el6_9</span><span class="o">.</span><span class="n">x86_64</span><span class="w"> </span><span class="mi">1</span><span class="o">/</span><span class="mi">4</span>
<span class="w"> </span><span class="n">Verifying</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">perl</span><span class="o">-</span><span class="n">Git</span><span class="o">-</span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">9.</span><span class="n">el6_9</span><span class="o">.</span><span class="n">noarch</span><span class="w"> </span><span class="mi">2</span><span class="o">/</span><span class="mi">4</span>
<span class="w"> </span><span class="n">Verifying</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">git</span><span class="o">-</span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">8.</span><span class="n">el6</span><span class="o">.</span><span class="n">x86_64</span><span class="w"> </span><span class="mi">3</span><span class="o">/</span><span class="mi">4</span>
<span class="w"> </span><span class="n">Verifying</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">perl</span><span class="o">-</span><span class="n">Git</span><span class="o">-</span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">8.</span><span class="n">el6</span><span class="o">.</span><span class="n">noarch</span><span class="w"> </span><span class="mi">4</span><span class="o">/</span><span class="mi">4</span>

<span class="n">Updated</span><span class="p">:</span>
<span class="w"> </span><span class="n">git</span><span class="o">.</span><span class="n">x86_64</span><span class="w"> </span><span class="mi">0</span><span class="p">:</span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">9.</span><span class="n">el6_9</span>

<span class="n">Dependency</span><span class="w"> </span><span class="n">Updated</span><span class="p">:</span>
<span class="w"> </span><span class="n">perl</span><span class="o">-</span><span class="n">Git</span><span class="o">.</span><span class="n">noarch</span><span class="w"> </span><span class="mi">0</span><span class="p">:</span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">9.</span><span class="n">el6_9</span>

<span class="n">Complete</span><span class="o">!</span>
</code></pre></div>

<p>验证升级后的 <code>git</code> 版本.</p>
<div class="highlight"><pre><span></span><code><span class="err">#</span><span class="w"> </span><span class="n">yum</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="n">git</span>
<span class="n">Installed</span><span class="w"> </span><span class="n">Packages</span>
<span class="n">git</span><span class="p">.</span><span class="n">x86_64</span><span class="w"> </span><span class="mf">1.7.1</span><span class="o">-</span><span class="mf">9.</span><span class="n">el6_9</span><span class="w"> </span><span class="nv">@updates</span>

<span class="n">或</span>
<span class="err">#</span><span class="w"> </span><span class="n">rpm</span><span class="w"> </span><span class="o">-</span><span class="n">q</span><span class="w"> </span><span class="n">git</span>
<span class="n">git</span><span class="o">-</span><span class="mf">1.7.1</span><span class="o">-</span><span class="mf">9.</span><span class="n">el6_9</span><span class="p">.</span><span class="n">x86_64</span>
</code></pre></div>

<p>现在我们成功升级这个软件包，可以对它进行回滚了。步骤如下。</p>
<h3>使用 YUM history 命令回滚升级操作</h3>
<p>首先，使用下面命令获取 yum 操作的 id。下面的输出很清晰地列出了所有需要的信息，例如操作 id、谁做的这个操作（用户名）、操作日期和时间、操作的动作（安装还是升级）、操作影响的包数量。</p>
<div class="highlight"><pre><span></span><code># yum history
或
# yum history list all
Loaded plugins: fastestmirror, presto
ID | Login user | Date and time | Action(s) | Altered
-------------------------------------------------------------------------------
 13 | root | 2017-08-18 13:30 | Update | 2
 12 | root | 2017-08-10 07:46 | Install | 1
 11 | root | 2017-07-28 17:10 | E, I, U | 28 EE
 10 | root | 2017-04-21 09:16 | E, I, U | 162 EE
 9 | root | 2017-02-09 17:09 | E, I, U | 20 EE
 8 | root | 2017-02-02 10:45 | Install | 1
 7 | root | 2016-12-15 06:48 | Update | 1
 6 | root | 2016-12-15 06:43 | Install | 1
 5 | root | 2016-12-02 10:28 | E, I, U | 23 EE
 4 | root | 2016-10-28 05:37 | E, I, U | 13 EE
 3 | root | 2016-10-18 12:53 | Install | 1
 2 | root | 2016-09-30 10:28 | E, I, U | 31 EE
 1 | root | 2016-07-26 11:40 | E, I, U | 160 EE
</code></pre></div>

<p>上面命令显示有两个包受到了影响，因为 <code>git</code> 还升级了它的依赖包 <code>perl-Git</code>。 运行下面命令来查看关于操作的详细信息。</p>
<div class="highlight"><pre><span></span><code><span class="err">#</span><span class="w"> </span><span class="n">yum</span><span class="w"> </span><span class="n">history</span><span class="w"> </span><span class="n">info</span><span class="w"> </span><span class="mi">13</span>
<span class="n">Loaded</span><span class="w"> </span><span class="nl">plugins</span><span class="p">:</span><span class="w"> </span><span class="n">fastestmirror</span><span class="p">,</span><span class="w"> </span><span class="n">presto</span>
<span class="k">Transaction</span><span class="w"> </span><span class="n">ID</span><span class="w"> </span><span class="err">:</span><span class="w"> </span><span class="mi">13</span>
<span class="k">Begin</span><span class="w"> </span><span class="nc">time</span><span class="w"> </span><span class="err">:</span><span class="w"> </span><span class="n">Fri</span><span class="w"> </span><span class="n">Aug</span><span class="w"> </span><span class="mi">18</span><span class="w"> </span><span class="mi">13</span><span class="err">:</span><span class="mi">30</span><span class="err">:</span><span class="mi">52</span><span class="w"> </span><span class="mi">2017</span>
<span class="k">Begin</span><span class="w"> </span><span class="n">rpmdb</span><span class="w"> </span><span class="err">:</span><span class="w"> </span><span class="mi">420</span><span class="err">:</span><span class="n">f5c5f9184f44cf317de64d3a35199e894ad71188</span>
<span class="k">End</span><span class="w"> </span><span class="nc">time</span><span class="w"> </span><span class="err">:</span><span class="w"> </span><span class="mi">13</span><span class="err">:</span><span class="mi">30</span><span class="err">:</span><span class="mi">54</span><span class="w"> </span><span class="mi">2017</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="w"> </span><span class="n">seconds</span><span class="p">)</span>
<span class="k">End</span><span class="w"> </span><span class="n">rpmdb</span><span class="w"> </span><span class="err">:</span><span class="w"> </span><span class="mi">420</span><span class="err">:</span><span class="n">d04a95c25d4526ef87598f0dcaec66d3f99b98d4</span>
<span class="k">User</span><span class="w"> </span><span class="err">:</span><span class="w"> </span><span class="n">root</span>
<span class="k">Return</span><span class="o">-</span><span class="n">Code</span><span class="w"> </span><span class="err">:</span><span class="w"> </span><span class="n">Success</span>
<span class="n">Command</span><span class="w"> </span><span class="n">Line</span><span class="w"> </span><span class="err">:</span><span class="w"> </span><span class="k">update</span><span class="w"> </span><span class="n">git</span>
<span class="k">Transaction</span><span class="w"> </span><span class="n">performed</span><span class="w"> </span><span class="k">with</span><span class="err">:</span>
<span class="w"> </span><span class="n">Installed</span><span class="w"> </span><span class="n">rpm</span><span class="o">-</span><span class="mf">4.8.0</span><span class="o">-</span><span class="mf">55.</span><span class="n">el6</span><span class="p">.</span><span class="n">x86_64</span><span class="w"> </span><span class="nv">@base</span>
<span class="w"> </span><span class="n">Installed</span><span class="w"> </span><span class="n">yum</span><span class="o">-</span><span class="mf">3.2.29</span><span class="o">-</span><span class="mf">81.</span><span class="n">el6</span><span class="p">.</span><span class="n">centos</span><span class="p">.</span><span class="n">noarch</span><span class="w"> </span><span class="nv">@base</span>
<span class="w"> </span><span class="n">Installed</span><span class="w"> </span><span class="n">yum</span><span class="o">-</span><span class="n">plugin</span><span class="o">-</span><span class="n">fastestmirror</span><span class="o">-</span><span class="mf">1.1.30</span><span class="o">-</span><span class="mf">40.</span><span class="n">el6</span><span class="p">.</span><span class="n">noarch</span><span class="w"> </span><span class="nv">@base</span>
<span class="w"> </span><span class="n">Installed</span><span class="w"> </span><span class="n">yum</span><span class="o">-</span><span class="n">presto</span><span class="o">-</span><span class="mf">0.6.2</span><span class="o">-</span><span class="mf">1.</span><span class="n">el6</span><span class="p">.</span><span class="n">noarch</span><span class="w"> </span><span class="nv">@anaconda</span><span class="o">-</span><span class="n">CentOS</span><span class="o">-</span><span class="mf">201207061011.</span><span class="n">x86_64</span><span class="o">/</span><span class="mf">6.3</span>
<span class="n">Packages</span><span class="w"> </span><span class="nl">Altered</span><span class="p">:</span>
<span class="w"> </span><span class="n">Updated</span><span class="w"> </span><span class="n">git</span><span class="o">-</span><span class="mf">1.7.1</span><span class="o">-</span><span class="mf">8.</span><span class="n">el6</span><span class="p">.</span><span class="n">x86_64</span><span class="w"> </span><span class="nv">@base</span>
<span class="w"> </span><span class="k">Update</span><span class="w"> </span><span class="mf">1.7.1</span><span class="o">-</span><span class="mf">9.</span><span class="n">el6_9</span><span class="p">.</span><span class="n">x86_64</span><span class="w"> </span><span class="nv">@updates</span>
<span class="w"> </span><span class="n">Updated</span><span class="w"> </span><span class="n">perl</span><span class="o">-</span><span class="n">Git</span><span class="o">-</span><span class="mf">1.7.1</span><span class="o">-</span><span class="mf">8.</span><span class="n">el6</span><span class="p">.</span><span class="n">noarch</span><span class="w"> </span><span class="nv">@base</span>
<span class="w"> </span><span class="k">Update</span><span class="w"> </span><span class="mf">1.7.1</span><span class="o">-</span><span class="mf">9.</span><span class="n">el6_9</span><span class="p">.</span><span class="n">noarch</span><span class="w"> </span><span class="nv">@updates</span>
<span class="n">history</span><span class="w"> </span><span class="n">info</span>
</code></pre></div>

<p>运行下面命令来回滚 <code>git</code> 包到上一个版本。</p>
<div class="highlight"><pre><span></span><code><span class="c1"># yum history undo 13</span>
<span class="n">Loaded</span><span class="w"> </span><span class="n">plugins</span><span class="p">:</span><span class="w"> </span><span class="n">fastestmirror</span><span class="p">,</span><span class="w"> </span><span class="n">presto</span>
<span class="n">Undoing</span><span class="w"> </span><span class="n">transaction</span><span class="w"> </span><span class="mi">53</span><span class="p">,</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">Fri</span><span class="w"> </span><span class="n">Aug</span><span class="w"> </span><span class="mi">18</span><span class="w"> </span><span class="mi">13</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mi">52</span><span class="w"> </span><span class="mi">2017</span>
<span class="w"> </span><span class="n">Updated</span><span class="w"> </span><span class="n">git</span><span class="o">-</span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">8.</span><span class="n">el6</span><span class="o">.</span><span class="n">x86_64</span><span class="w"> </span><span class="err">@</span><span class="n">base</span>
<span class="w"> </span><span class="n">Update</span><span class="w"> </span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">9.</span><span class="n">el6_9</span><span class="o">.</span><span class="n">x86_64</span><span class="w"> </span><span class="err">@</span><span class="n">updates</span>
<span class="w"> </span><span class="n">Updated</span><span class="w"> </span><span class="n">perl</span><span class="o">-</span><span class="n">Git</span><span class="o">-</span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">8.</span><span class="n">el6</span><span class="o">.</span><span class="n">noarch</span><span class="w"> </span><span class="err">@</span><span class="n">base</span>
<span class="w"> </span><span class="n">Update</span><span class="w"> </span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">9.</span><span class="n">el6_9</span><span class="o">.</span><span class="n">noarch</span><span class="w"> </span><span class="err">@</span><span class="n">updates</span>
<span class="n">Loading</span><span class="w"> </span><span class="n">mirror</span><span class="w"> </span><span class="n">speeds</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">cached</span><span class="w"> </span><span class="n">hostfile</span>
<span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">base</span><span class="p">:</span><span class="w"> </span><span class="n">repos</span><span class="o">.</span><span class="n">lax</span><span class="o">.</span><span class="n">quadranet</span><span class="o">.</span><span class="n">com</span>
<span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">epel</span><span class="p">:</span><span class="w"> </span><span class="n">fedora</span><span class="o">.</span><span class="n">mirrors</span><span class="o">.</span><span class="n">pair</span><span class="o">.</span><span class="n">com</span>
<span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">extras</span><span class="p">:</span><span class="w"> </span><span class="n">repo1</span><span class="o">.</span><span class="n">dal</span><span class="o">.</span><span class="n">innoscale</span><span class="o">.</span><span class="n">net</span>
<span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">updates</span><span class="p">:</span><span class="w"> </span><span class="n">mirror</span><span class="o">.</span><span class="n">vtti</span><span class="o">.</span><span class="n">vt</span><span class="o">.</span><span class="n">edu</span>
<span class="n">Resolving</span><span class="w"> </span><span class="n">Dependencies</span>
<span class="o">--&gt;</span><span class="w"> </span><span class="n">Running</span><span class="w"> </span><span class="n">transaction</span><span class="w"> </span><span class="n">check</span>
<span class="o">---&gt;</span><span class="w"> </span><span class="n">Package</span><span class="w"> </span><span class="n">git</span><span class="o">.</span><span class="n">x86_64</span><span class="w"> </span><span class="mi">0</span><span class="p">:</span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">8.</span><span class="n">el6</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">downgrade</span>
<span class="o">---&gt;</span><span class="w"> </span><span class="n">Package</span><span class="w"> </span><span class="n">git</span><span class="o">.</span><span class="n">x86_64</span><span class="w"> </span><span class="mi">0</span><span class="p">:</span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">9.</span><span class="n">el6_9</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">erased</span>
<span class="o">---&gt;</span><span class="w"> </span><span class="n">Package</span><span class="w"> </span><span class="n">perl</span><span class="o">-</span><span class="n">Git</span><span class="o">.</span><span class="n">noarch</span><span class="w"> </span><span class="mi">0</span><span class="p">:</span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">8.</span><span class="n">el6</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">downgrade</span>
<span class="o">---&gt;</span><span class="w"> </span><span class="n">Package</span><span class="w"> </span><span class="n">perl</span><span class="o">-</span><span class="n">Git</span><span class="o">.</span><span class="n">noarch</span><span class="w"> </span><span class="mi">0</span><span class="p">:</span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">9.</span><span class="n">el6_9</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">erased</span>
<span class="o">--&gt;</span><span class="w"> </span><span class="n">Finished</span><span class="w"> </span><span class="n">Dependency</span><span class="w"> </span><span class="n">Resolution</span>

<span class="n">Dependencies</span><span class="w"> </span><span class="n">Resolved</span>

<span class="o">=================================================================================================</span>
<span class="w"> </span><span class="n">Package</span><span class="w"> </span><span class="n">Arch</span><span class="w"> </span><span class="n">Version</span><span class="w"> </span><span class="n">Repository</span><span class="w"> </span><span class="n">Size</span>
<span class="o">=================================================================================================</span>
<span class="n">Downgrading</span><span class="p">:</span>
<span class="w"> </span><span class="n">git</span><span class="w"> </span><span class="n">x86_64</span><span class="w"> </span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">8.</span><span class="n">el6</span><span class="w"> </span><span class="n">base</span><span class="w"> </span><span class="mf">4.6</span><span class="w"> </span><span class="n">M</span>
<span class="w"> </span><span class="n">perl</span><span class="o">-</span><span class="n">Git</span><span class="w"> </span><span class="n">noarch</span><span class="w"> </span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">8.</span><span class="n">el6</span><span class="w"> </span><span class="n">base</span><span class="w"> </span><span class="mi">29</span><span class="w"> </span><span class="n">k</span>

<span class="n">Transaction</span><span class="w"> </span><span class="n">Summary</span>
<span class="o">=================================================================================================</span>
<span class="n">Downgrade</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="n">Package</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>

<span class="n">Total</span><span class="w"> </span><span class="n">download</span><span class="w"> </span><span class="n">size</span><span class="p">:</span><span class="w"> </span><span class="mf">4.6</span><span class="w"> </span><span class="n">M</span>
<span class="n">Is</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="p">[</span><span class="n">y</span><span class="o">/</span><span class="n">N</span><span class="p">]:</span><span class="w"> </span><span class="n">y</span>
<span class="n">Downloading</span><span class="w"> </span><span class="n">Packages</span><span class="p">:</span>
<span class="n">Setting</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">reading</span><span class="w"> </span><span class="n">Presto</span><span class="w"> </span><span class="n">delta</span><span class="w"> </span><span class="n">metadata</span>
<span class="n">Processing</span><span class="w"> </span><span class="n">delta</span><span class="w"> </span><span class="n">metadata</span>
<span class="n">Package</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="n">still</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">download</span><span class="p">:</span><span class="w"> </span><span class="mf">4.6</span><span class="w"> </span><span class="n">M</span>
<span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">):</span><span class="w"> </span><span class="n">git</span><span class="o">-</span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">8.</span><span class="n">el6</span><span class="o">.</span><span class="n">x86_64</span><span class="o">.</span><span class="n">rpm</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mf">4.6</span><span class="w"> </span><span class="n">MB</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>
<span class="p">(</span><span class="mi">2</span><span class="o">/</span><span class="mi">2</span><span class="p">):</span><span class="w"> </span><span class="n">perl</span><span class="o">-</span><span class="n">Git</span><span class="o">-</span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">8.</span><span class="n">el6</span><span class="o">.</span><span class="n">noarch</span><span class="o">.</span><span class="n">rpm</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">29</span><span class="w"> </span><span class="n">kB</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>
<span class="o">-------------------------------------------------------------------------------------------------</span>
<span class="n">Total</span><span class="w"> </span><span class="mf">3.4</span><span class="w"> </span><span class="n">MB</span><span class="o">/</span><span class="n">s</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mf">4.6</span><span class="w"> </span><span class="n">MB</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">01</span>
<span class="n">Running</span><span class="w"> </span><span class="n">rpm_check_debug</span>
<span class="n">Running</span><span class="w"> </span><span class="n">Transaction</span><span class="w"> </span><span class="n">Test</span>
<span class="n">Transaction</span><span class="w"> </span><span class="n">Test</span><span class="w"> </span><span class="n">Succeeded</span>
<span class="n">Running</span><span class="w"> </span><span class="n">Transaction</span>
<span class="w"> </span><span class="n">Installing</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">perl</span><span class="o">-</span><span class="n">Git</span><span class="o">-</span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">8.</span><span class="n">el6</span><span class="o">.</span><span class="n">noarch</span><span class="w"> </span><span class="mi">1</span><span class="o">/</span><span class="mi">4</span>
<span class="w"> </span><span class="n">Installing</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">git</span><span class="o">-</span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">8.</span><span class="n">el6</span><span class="o">.</span><span class="n">x86_64</span><span class="w"> </span><span class="mi">2</span><span class="o">/</span><span class="mi">4</span>
<span class="w"> </span><span class="n">Cleanup</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">perl</span><span class="o">-</span><span class="n">Git</span><span class="o">-</span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">9.</span><span class="n">el6_9</span><span class="o">.</span><span class="n">noarch</span><span class="w"> </span><span class="mi">3</span><span class="o">/</span><span class="mi">4</span>
<span class="w"> </span><span class="n">Cleanup</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">git</span><span class="o">-</span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">9.</span><span class="n">el6_9</span><span class="o">.</span><span class="n">x86_64</span><span class="w"> </span><span class="mi">4</span><span class="o">/</span><span class="mi">4</span>
<span class="w"> </span><span class="n">Verifying</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">git</span><span class="o">-</span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">8.</span><span class="n">el6</span><span class="o">.</span><span class="n">x86_64</span><span class="w"> </span><span class="mi">1</span><span class="o">/</span><span class="mi">4</span>
<span class="w"> </span><span class="n">Verifying</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">perl</span><span class="o">-</span><span class="n">Git</span><span class="o">-</span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">8.</span><span class="n">el6</span><span class="o">.</span><span class="n">noarch</span><span class="w"> </span><span class="mi">2</span><span class="o">/</span><span class="mi">4</span>
<span class="w"> </span><span class="n">Verifying</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">git</span><span class="o">-</span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">9.</span><span class="n">el6_9</span><span class="o">.</span><span class="n">x86_64</span><span class="w"> </span><span class="mi">3</span><span class="o">/</span><span class="mi">4</span>
<span class="w"> </span><span class="n">Verifying</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">perl</span><span class="o">-</span><span class="n">Git</span><span class="o">-</span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">9.</span><span class="n">el6_9</span><span class="o">.</span><span class="n">noarch</span><span class="w"> </span><span class="mi">4</span><span class="o">/</span><span class="mi">4</span>

<span class="n">Removed</span><span class="p">:</span>
<span class="w"> </span><span class="n">git</span><span class="o">.</span><span class="n">x86_64</span><span class="w"> </span><span class="mi">0</span><span class="p">:</span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">9.</span><span class="n">el6_9</span><span class="w"> </span><span class="n">perl</span><span class="o">-</span><span class="n">Git</span><span class="o">.</span><span class="n">noarch</span><span class="w"> </span><span class="mi">0</span><span class="p">:</span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">9.</span><span class="n">el6_9</span>

<span class="n">Installed</span><span class="p">:</span>
<span class="w"> </span><span class="n">git</span><span class="o">.</span><span class="n">x86_64</span><span class="w"> </span><span class="mi">0</span><span class="p">:</span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">8.</span><span class="n">el6</span><span class="w"> </span><span class="n">perl</span><span class="o">-</span><span class="n">Git</span><span class="o">.</span><span class="n">noarch</span><span class="w"> </span><span class="mi">0</span><span class="p">:</span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">8.</span><span class="n">el6</span>

<span class="n">Complete</span><span class="o">!</span>
</code></pre></div>

<p>回滚后，使用下面命令来检查降级包的版本。</p>
<div class="highlight"><pre><span></span><code><span class="gh">#</span> yum list git
或
<span class="gh">#</span> rpm -q git
git-1.7.1-8.el6.x86_64
</code></pre></div>

<h3>使用YUM downgrade 命令回滚升级</h3>
<p>此外，我们也可以使用 YUM <code>downgrade</code> 命令回滚升级。</p>
<div class="highlight"><pre><span></span><code><span class="c1"># yum downgrade git-1.7.1-8.el6 perl-Git-1.7.1-8.el6</span>
<span class="n">Loaded</span><span class="w"> </span><span class="n">plugins</span><span class="p">:</span><span class="w"> </span><span class="n">search</span><span class="o">-</span><span class="n">disabled</span><span class="o">-</span><span class="n">repos</span><span class="p">,</span><span class="w"> </span><span class="n">security</span><span class="p">,</span><span class="w"> </span><span class="n">ulninfo</span>
<span class="n">Setting</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">Downgrade</span><span class="w"> </span><span class="n">Process</span>
<span class="n">Resolving</span><span class="w"> </span><span class="n">Dependencies</span>
<span class="o">--&gt;</span><span class="w"> </span><span class="n">Running</span><span class="w"> </span><span class="n">transaction</span><span class="w"> </span><span class="n">check</span>
<span class="o">---&gt;</span><span class="w"> </span><span class="n">Package</span><span class="w"> </span><span class="n">git</span><span class="o">.</span><span class="n">x86_64</span><span class="w"> </span><span class="mi">0</span><span class="p">:</span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">8.</span><span class="n">el6</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">downgrade</span>
<span class="o">---&gt;</span><span class="w"> </span><span class="n">Package</span><span class="w"> </span><span class="n">git</span><span class="o">.</span><span class="n">x86_64</span><span class="w"> </span><span class="mi">0</span><span class="p">:</span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">9.</span><span class="n">el6_9</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">erased</span>
<span class="o">---&gt;</span><span class="w"> </span><span class="n">Package</span><span class="w"> </span><span class="n">perl</span><span class="o">-</span><span class="n">Git</span><span class="o">.</span><span class="n">noarch</span><span class="w"> </span><span class="mi">0</span><span class="p">:</span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">8.</span><span class="n">el6</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">downgrade</span>
<span class="o">---&gt;</span><span class="w"> </span><span class="n">Package</span><span class="w"> </span><span class="n">perl</span><span class="o">-</span><span class="n">Git</span><span class="o">.</span><span class="n">noarch</span><span class="w"> </span><span class="mi">0</span><span class="p">:</span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">9.</span><span class="n">el6_9</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">erased</span>
<span class="o">--&gt;</span><span class="w"> </span><span class="n">Finished</span><span class="w"> </span><span class="n">Dependency</span><span class="w"> </span><span class="n">Resolution</span>

<span class="n">Dependencies</span><span class="w"> </span><span class="n">Resolved</span>

<span class="o">=================================================================================================</span>
<span class="w"> </span><span class="n">Package</span><span class="w"> </span><span class="n">Arch</span><span class="w"> </span><span class="n">Version</span><span class="w"> </span><span class="n">Repository</span><span class="w"> </span><span class="n">Size</span>
<span class="o">=================================================================================================</span>
<span class="n">Downgrading</span><span class="p">:</span>
<span class="w"> </span><span class="n">git</span><span class="w"> </span><span class="n">x86_64</span><span class="w"> </span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">8.</span><span class="n">el6</span><span class="w"> </span><span class="n">base</span><span class="w"> </span><span class="mf">4.6</span><span class="w"> </span><span class="n">M</span>
<span class="w"> </span><span class="n">perl</span><span class="o">-</span><span class="n">Git</span><span class="w"> </span><span class="n">noarch</span><span class="w"> </span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">8.</span><span class="n">el6</span><span class="w"> </span><span class="n">base</span><span class="w"> </span><span class="mi">29</span><span class="w"> </span><span class="n">k</span>

<span class="n">Transaction</span><span class="w"> </span><span class="n">Summary</span>
<span class="o">=================================================================================================</span>
<span class="n">Downgrade</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="n">Package</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>

<span class="n">Total</span><span class="w"> </span><span class="n">download</span><span class="w"> </span><span class="n">size</span><span class="p">:</span><span class="w"> </span><span class="mf">4.6</span><span class="w"> </span><span class="n">M</span>
<span class="n">Is</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="p">[</span><span class="n">y</span><span class="o">/</span><span class="n">N</span><span class="p">]:</span><span class="w"> </span><span class="n">y</span>
<span class="n">Downloading</span><span class="w"> </span><span class="n">Packages</span><span class="p">:</span>
<span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">):</span><span class="w"> </span><span class="n">git</span><span class="o">-</span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">8.</span><span class="n">el6</span><span class="o">.</span><span class="n">x86_64</span><span class="o">.</span><span class="n">rpm</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mf">4.6</span><span class="w"> </span><span class="n">MB</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>
<span class="p">(</span><span class="mi">2</span><span class="o">/</span><span class="mi">2</span><span class="p">):</span><span class="w"> </span><span class="n">perl</span><span class="o">-</span><span class="n">Git</span><span class="o">-</span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">8.</span><span class="n">el6</span><span class="o">.</span><span class="n">noarch</span><span class="o">.</span><span class="n">rpm</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">28</span><span class="w"> </span><span class="n">kB</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>
<span class="o">-------------------------------------------------------------------------------------------------</span>
<span class="n">Total</span><span class="w"> </span><span class="mf">3.7</span><span class="w"> </span><span class="n">MB</span><span class="o">/</span><span class="n">s</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mf">4.6</span><span class="w"> </span><span class="n">MB</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">01</span>
<span class="n">Running</span><span class="w"> </span><span class="n">rpm_check_debug</span>
<span class="n">Running</span><span class="w"> </span><span class="n">Transaction</span><span class="w"> </span><span class="n">Test</span>
<span class="n">Transaction</span><span class="w"> </span><span class="n">Test</span><span class="w"> </span><span class="n">Succeeded</span>
<span class="n">Running</span><span class="w"> </span><span class="n">Transaction</span>
<span class="w"> </span><span class="n">Installing</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">perl</span><span class="o">-</span><span class="n">Git</span><span class="o">-</span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">8.</span><span class="n">el6</span><span class="o">.</span><span class="n">noarch</span><span class="w"> </span><span class="mi">1</span><span class="o">/</span><span class="mi">4</span>
<span class="w"> </span><span class="n">Installing</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">git</span><span class="o">-</span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">8.</span><span class="n">el6</span><span class="o">.</span><span class="n">x86_64</span><span class="w"> </span><span class="mi">2</span><span class="o">/</span><span class="mi">4</span>
<span class="w"> </span><span class="n">Cleanup</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">perl</span><span class="o">-</span><span class="n">Git</span><span class="o">-</span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">9.</span><span class="n">el6_9</span><span class="o">.</span><span class="n">noarch</span><span class="w"> </span><span class="mi">3</span><span class="o">/</span><span class="mi">4</span>
<span class="w"> </span><span class="n">Cleanup</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">git</span><span class="o">-</span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">9.</span><span class="n">el6_9</span><span class="o">.</span><span class="n">x86_64</span><span class="w"> </span><span class="mi">4</span><span class="o">/</span><span class="mi">4</span>
<span class="w"> </span><span class="n">Verifying</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">git</span><span class="o">-</span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">8.</span><span class="n">el6</span><span class="o">.</span><span class="n">x86_64</span><span class="w"> </span><span class="mi">1</span><span class="o">/</span><span class="mi">4</span>
<span class="w"> </span><span class="n">Verifying</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">perl</span><span class="o">-</span><span class="n">Git</span><span class="o">-</span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">8.</span><span class="n">el6</span><span class="o">.</span><span class="n">noarch</span><span class="w"> </span><span class="mi">2</span><span class="o">/</span><span class="mi">4</span>
<span class="w"> </span><span class="n">Verifying</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">git</span><span class="o">-</span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">9.</span><span class="n">el6_9</span><span class="o">.</span><span class="n">x86_64</span><span class="w"> </span><span class="mi">3</span><span class="o">/</span><span class="mi">4</span>
<span class="w"> </span><span class="n">Verifying</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">perl</span><span class="o">-</span><span class="n">Git</span><span class="o">-</span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">9.</span><span class="n">el6_9</span><span class="o">.</span><span class="n">noarch</span><span class="w"> </span><span class="mi">4</span><span class="o">/</span><span class="mi">4</span>

<span class="n">Removed</span><span class="p">:</span>
<span class="w"> </span><span class="n">git</span><span class="o">.</span><span class="n">x86_64</span><span class="w"> </span><span class="mi">0</span><span class="p">:</span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">9.</span><span class="n">el6_9</span><span class="w"> </span><span class="n">perl</span><span class="o">-</span><span class="n">Git</span><span class="o">.</span><span class="n">noarch</span><span class="w"> </span><span class="mi">0</span><span class="p">:</span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">9.</span><span class="n">el6_9</span>

<span class="n">Installed</span><span class="p">:</span>
<span class="w"> </span><span class="n">git</span><span class="o">.</span><span class="n">x86_64</span><span class="w"> </span><span class="mi">0</span><span class="p">:</span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">8.</span><span class="n">el6</span><span class="w"> </span><span class="n">perl</span><span class="o">-</span><span class="n">Git</span><span class="o">.</span><span class="n">noarch</span><span class="w"> </span><span class="mi">0</span><span class="p">:</span><span class="mf">1.7</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mf">8.</span><span class="n">el6</span>

<span class="n">Complete</span><span class="o">!</span>
</code></pre></div>

<p>注意： 你也需要降级依赖包，否则它会删掉当前版本的依赖包而不是对依赖包做降级，因为 <code>downgrade</code> 命令无法处理依赖关系。</p>
<h3>至于 Fedora 用户</h3>
<p>命令是一样的，只需要将包管理器名称从 <code>yum</code> 改成 <code>dnf</code> 就行了。</p>
<div class="highlight"><pre><span></span><code># dnf list git
# dnf history
# dnf history info
# dnf history undo
# dnf list git
# dnf downgrade git-1.7.1-8.el6 perl-Git-1.7.1-8.el6
</code></pre></div>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>