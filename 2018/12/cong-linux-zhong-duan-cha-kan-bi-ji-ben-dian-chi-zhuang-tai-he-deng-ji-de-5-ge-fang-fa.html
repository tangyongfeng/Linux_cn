<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>从 Linux 终端查看笔记本电池状态和等级的 5 个方法</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Author: Magesh Maruthamuthu 我们可以轻松地通过图形化界面查看当前电量百分比、是否在充电以及当前电量还可以使用多长时间等电池状 …" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">linux_cn</a></h1>
                <nav><ul>
                    <li><a href="/category/chuan-shan-jia-zhuan-fang">穿山甲专访</a></li>
                    <li><a href="/category/dai-ma-ying-xiong">代码英雄</a></li>
                    <li><a href="/category/fen-xiang">分享</a></li>
                    <li><a href="/category/guan-dian">观点</a></li>
                    <li><a href="/category/huo-dong">活动</a></li>
                    <li><a href="/category/ji-ke-man-hua">极客漫画</a></li>
                    <li><a href="/category/ji-zhu">技术</a></li>
                    <li><a href="/category/kai-yuan-zhi-hui">开源智慧</a></li>
                    <li><a href="/category/linux-fa-xing-ban">Linux 发行版</a></li>
                    <li><a href="/category/mei-ri-an-quan-zi-xun">每日安全资讯</a></li>
                    <li><a href="/category/misc">Misc</a></li>
                    <li><a href="/category/qu-kuai-lian">区块链</a></li>
                    <li><a href="/category/rong-qi-yu-yun">容器与云</a></li>
                    <li><a href="/category/ruan-jian-kai-fa">软件开发</a></li>
                    <li><a href="/category/shu-mei-pai">树莓派</a></li>
                    <li><a href="/category/xi-tong-yun-wei">系统运维</a></li>
                    <li><a href="/category/xin-wen">新闻</a></li>
                    <li><a href="/category/ying-he-guan-cha">硬核观察</a></li>
                    <li><a href="/category/zhi-ye-sheng-ya">职业生涯</a></li>
                    <li><a href="/category/zhong-jiang-ming-dan">中奖名单</a></li>
                    <li class="active"><a href="/category/zhuo-mian-ying-yong">桌面应用</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2018/12/cong-linux-zhong-duan-cha-kan-bi-ji-ben-dian-chi-zhuang-tai-he-deng-ji-de-5-ge-fang-fa.html" rel="bookmark"
           title="Permalink to 从 Linux 终端查看笔记本电池状态和等级的 5 个方法">从 Linux 终端查看笔记本电池状态和等级的 5 个方法</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2018-12-16T20:12:36+01:00">
                Published: Sun 16 December 2018
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/linux-fans-from-china.html">linux fans from china</a>
        </address>
<p>In <a href="/category/zhuo-mian-ying-yong">桌面应用</a>.</p>

</footer><!-- /.post-info -->      <p>Author: Magesh Maruthamuthu</p>
<p><img alt="" src="/data/attachment/album/201812/16/201147imjo55telvtievof.jpg"></p>
<p>我们可以轻松地通过图形化界面查看当前电量百分比、是否在充电以及当前电量还可以使用多长时间等电池状态，但是却无法查看电池健康度等相关信息。</p>
<p>在这篇文章就是为了解决这些问题。</p>
<p>在 Linux 上有很多这样的实用工具，而且可以在命令行使用。</p>
<p>这篇文章今天就要探讨这个主题，我会尽我所能的覆盖尽可能多的信息。</p>
<p>每月检查一次你的电池健康度是一个很好的想法。它可以帮你检查你当前遇到的问题是否与电池或者充电相关。</p>
<p>同时，我们也可以查看电池模组名称、电源、厂商以及电池规格等。</p>
<p>电源管理是在不使用时关闭电源或者切换系统的组件到低耗模式的一种功能。</p>
<h3>几种在 Linux 下检查电池状态的实用工具</h3>
<ul>
<li><code>upower</code>：是一个命令行工具，其提供了罗列系统中电源的接口。</li>
<li><code>acpi</code>：显示来自 <code>/proc</code> 或者 <code>/sys</code> 文件系统中的一些信息，例如电池状态或者热量信息。</li>
<li><code>batstat</code>：是一个为 Linux 打印电池状态的命令行工具。</li>
<li><code>tlp</code>：可以为你带来更高级的电源管理，而无需修改任何配置。</li>
<li><code>class file</code>：这个 sysfs 文件系统是一个提供了内核数据结构接口的伪文件系统。</li>
</ul>
<h3>如何使用 upower 命令检查笔记本电池状态</h3>
<p><a href="https://upower.freedesktop.org/">upower</a> 是一个命令行工具，其提供了罗列系统中电源的接口。它在你的电脑上可以控制不同操作的延迟，这可以为你节省很大一部分电量。</p>
<p>只需要在 Linux 中运行以下命令获取电池以及它所依赖的其他信息。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>upower<span class="w"> </span>-i<span class="w"> </span>/org/freedesktop/UPower/devices/battery_BAT0
<span class="w">  </span>native-path:<span class="w">          </span>BAT0
<span class="w">  </span>vendor:<span class="w">               </span>SMP
<span class="w">  </span>model:<span class="w">                </span>L14M4P23
<span class="w">  </span>serial:<span class="w">               </span><span class="m">756</span>
<span class="w">  </span>power<span class="w"> </span>supply:<span class="w">         </span>yes
<span class="w">  </span>updated:<span class="w">              </span>Monday<span class="w"> </span><span class="m">03</span><span class="w"> </span>December<span class="w"> </span><span class="m">2018</span><span class="w"> </span><span class="m">07</span>:56:18<span class="w"> </span>PM<span class="w"> </span>IST<span class="w"> </span><span class="o">(</span><span class="m">95</span><span class="w"> </span>seconds<span class="w"> </span>ago<span class="o">)</span>
<span class="w">  </span>has<span class="w"> </span>history:<span class="w">          </span>yes
<span class="w">  </span>has<span class="w"> </span>statistics:<span class="w">       </span>yes
<span class="w">  </span>battery
<span class="w">    </span>present:<span class="w">             </span>yes
<span class="w">    </span>rechargeable:<span class="w">        </span>yes
<span class="w">    </span>state:<span class="w">               </span>discharging
<span class="w">    </span>warning-level:<span class="w">       </span>none
<span class="w">    </span>energy:<span class="w">              </span><span class="m">28</span>.23<span class="w"> </span>Wh
<span class="w">    </span>energy-empty:<span class="w">        </span><span class="m">0</span><span class="w"> </span>Wh
<span class="w">    </span>energy-full:<span class="w">         </span><span class="m">52</span>.26<span class="w"> </span>Wh
<span class="w">    </span>energy-full-design:<span class="w">  </span><span class="m">60</span><span class="w"> </span>Wh
<span class="w">    </span>energy-rate:<span class="w">         </span><span class="m">10</span>.714<span class="w"> </span>W
<span class="w">    </span>voltage:<span class="w">             </span><span class="m">14</span>.819<span class="w"> </span>V
<span class="w">    </span><span class="nb">time</span><span class="w"> </span>to<span class="w"> </span>empty:<span class="w">       </span><span class="m">2</span>.6<span class="w"> </span>hours
<span class="w">    </span>percentage:<span class="w">          </span><span class="m">54</span>%
<span class="w">    </span>capacity:<span class="w">            </span><span class="m">87</span>.1%
<span class="w">    </span>technology:<span class="w">          </span>lithium-ion
<span class="w">    </span>icon-name:<span class="w">          </span><span class="s1">&#39;battery-good-symbolic&#39;</span>
<span class="w">  </span>History<span class="w"> </span><span class="o">(</span>charge<span class="o">)</span>:
<span class="w">    </span><span class="m">1543847178</span><span class="w">  </span><span class="m">54</span>.000<span class="w">  </span>discharging
<span class="w">  </span>History<span class="w"> </span><span class="o">(</span>rate<span class="o">)</span>:
<span class="w">    </span><span class="m">1543847178</span><span class="w">  </span><span class="m">10</span>.714<span class="w">  </span>discharging
</code></pre></div>

<p>使用下面的格式检查电池的特定信息。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>upower<span class="w"> </span>-i<span class="w"> </span>/org/freedesktop/UPower/devices/battery_BAT0<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-i<span class="w"> </span><span class="s2">&quot;state\|percentage\|time to empty&quot;</span>
<span class="w">    </span>state:<span class="w">               </span>discharging
<span class="w">    </span><span class="nb">time</span><span class="w"> </span>to<span class="w"> </span>empty:<span class="w">       </span><span class="m">2</span>.1<span class="w"> </span>hours
<span class="w">    </span>percentage:<span class="w">          </span><span class="m">43</span>%
</code></pre></div>

<p>这个类似于上面的那个，但是是在充电线缆的插入后运行，这也就是为什么下面会显示正在充电状态的原因。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>upower<span class="w"> </span>-i<span class="w"> </span>/org/freedesktop/UPower/devices/battery_BAT0<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-i<span class="w"> </span><span class="s2">&quot;state\|percentage\|time to empty&quot;</span>
<span class="w">    </span>state:<span class="w">               </span>charging
<span class="w">    </span>percentage:<span class="w">          </span><span class="m">41</span>%
</code></pre></div>

<h3>如何使用 TLP 命令检查笔记本电池状态</h3>
<p>TLP 是一个自由开源的多功能的命令行工具，它可以优化笔记本电池而无需修改任何配置。</p>
<p>TLP 可以为你的 Linux 带来更高级的电源管理，而无需理解任何技术细节。TLP 默认附带了一个已经为你的电池优化好的配置，所以你可以安装好后就不再管它了。尽管 TLP 是一个可以根据你的需求高度可定制的工具。</p>
<p>TLP 在绝大多数 Linux 发行版，例如 Arch、Debian、Fedora、Gentoo、openSUSE 等的官方库中都可用。使用你的 Linux 发行版的包管理安装 TLP 即可。</p>
<p>只需要在 Linux 中运行以下命令获取电池以及其他所依赖的信息。</p>
<div class="highlight"><pre><span></span><code><span class="err">$</span><span class="w"> </span><span class="n">sudo</span><span class="w"> </span><span class="n">tlp</span><span class="o">-</span><span class="n">stat</span><span class="w"> </span><span class="o">-</span><span class="n">b</span>
<span class="o">---</span><span class="w"> </span><span class="n">TLP</span><span class="w"> </span><span class="mf">1.1</span><span class="w"> </span><span class="o">--------------------------------------------</span>

<span class="o">+++</span><span class="w"> </span><span class="n">Battery</span><span class="w"> </span><span class="n">Status</span>
<span class="o">/</span><span class="n">sys</span><span class="o">/</span><span class="k">class</span><span class="o">/</span><span class="n">power_supply</span><span class="o">/</span><span class="n">BAT0</span><span class="o">/</span><span class="n">manufacturer</span><span class="w">                   </span><span class="o">=</span><span class="w"> </span><span class="n">SMP</span>
<span class="o">/</span><span class="n">sys</span><span class="o">/</span><span class="k">class</span><span class="o">/</span><span class="n">power_supply</span><span class="o">/</span><span class="n">BAT0</span><span class="o">/</span><span class="n">model_name</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="n">L14M4P23</span>
<span class="o">/</span><span class="n">sys</span><span class="o">/</span><span class="k">class</span><span class="o">/</span><span class="n">power_supply</span><span class="o">/</span><span class="n">BAT0</span><span class="o">/</span><span class="n">cycle_count</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="ow">not</span><span class="w"> </span><span class="n">supported</span><span class="p">)</span>
<span class="o">/</span><span class="n">sys</span><span class="o">/</span><span class="k">class</span><span class="o">/</span><span class="n">power_supply</span><span class="o">/</span><span class="n">BAT0</span><span class="o">/</span><span class="n">energy_full_design</span><span class="w">             </span><span class="o">=</span><span class="w">  </span><span class="mi">60000</span><span class="w"> </span><span class="o">[</span><span class="n">mWh</span><span class="o">]</span>
<span class="o">/</span><span class="n">sys</span><span class="o">/</span><span class="k">class</span><span class="o">/</span><span class="n">power_supply</span><span class="o">/</span><span class="n">BAT0</span><span class="o">/</span><span class="n">energy_full</span><span class="w">                    </span><span class="o">=</span><span class="w">  </span><span class="mi">52260</span><span class="w"> </span><span class="o">[</span><span class="n">mWh</span><span class="o">]</span>
<span class="o">/</span><span class="n">sys</span><span class="o">/</span><span class="k">class</span><span class="o">/</span><span class="n">power_supply</span><span class="o">/</span><span class="n">BAT0</span><span class="o">/</span><span class="n">energy_now</span><span class="w">                     </span><span class="o">=</span><span class="w">  </span><span class="mi">21950</span><span class="w"> </span><span class="o">[</span><span class="n">mWh</span><span class="o">]</span>
<span class="o">/</span><span class="n">sys</span><span class="o">/</span><span class="k">class</span><span class="o">/</span><span class="n">power_supply</span><span class="o">/</span><span class="n">BAT0</span><span class="o">/</span><span class="n">power_now</span><span class="w">                      </span><span class="o">=</span><span class="w">  </span><span class="mi">10923</span><span class="w"> </span><span class="o">[</span><span class="n">mW</span><span class="o">]</span>
<span class="o">/</span><span class="n">sys</span><span class="o">/</span><span class="k">class</span><span class="o">/</span><span class="n">power_supply</span><span class="o">/</span><span class="n">BAT0</span><span class="o">/</span><span class="n">status</span><span class="w">                         </span><span class="o">=</span><span class="w"> </span><span class="n">Discharging</span>

<span class="n">Charge</span><span class="w">                                                      </span><span class="o">=</span><span class="w">   </span><span class="mf">42.0</span><span class="w"> </span><span class="o">[</span><span class="n">%</span><span class="o">]</span>
<span class="n">Capacity</span><span class="w">                                                    </span><span class="o">=</span><span class="w">   </span><span class="mf">87.1</span><span class="w"> </span><span class="o">[</span><span class="n">%</span><span class="o">]</span>
</code></pre></div>

<p>也可以查看其他的信息。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>sudo<span class="w"> </span>tlp-stat<span class="w"> </span>-s
---<span class="w"> </span>TLP<span class="w"> </span>1.1<span class="w"> </span>--------------------------------------------

+++<span class="w"> </span>System<span class="w"> </span>Info
System<span class="w">         </span>=<span class="w"> </span>LENOVO<span class="w"> </span>Lenovo<span class="w"> </span>ideapad<span class="w"> </span>Y700-15ISK<span class="w"> </span>80NV
BIOS<span class="w">           </span>=<span class="w"> </span>CDCN35WW
Release<span class="w">        </span>=<span class="w"> </span>&quot;Manjaro<span class="w"> </span>Linux&quot;
Kernel<span class="w">         </span>=<span class="w"> </span>4.19.6-1-MANJARO<span class="w"> </span>#1<span class="w"> </span>SMP<span class="w"> </span>PREEMPT<span class="w"> </span>Sat<span class="w"> </span>Dec<span class="w"> </span>1<span class="w"> </span>12:21:26<span class="w"> </span>UTC<span class="w"> </span>2018<span class="w"> </span>x86_64
/proc/cmdline<span class="w">  </span>=<span class="w"> </span>BOOT_IMAGE=/boot/vmlinuz-4.19-x86_64<span class="w"> </span>root=UUID=69d9dd18-36be-4631-9ebb-78f05fe3217f<span class="w"> </span>rw<span class="w"> </span>quiet<span class="w"> </span>resume=UUID=a2092b92-af29-4760-8e68-7a201922573b
Init<span class="w"> </span>system<span class="w">    </span>=<span class="w"> </span>systemd<span class="w"> </span>
Boot<span class="w"> </span>mode<span class="w">      </span>=<span class="w"> </span>BIOS<span class="w"> </span>(CSM,<span class="w"> </span>Legacy)

+++<span class="w"> </span>TLP<span class="w"> </span>Status
State<span class="w">          </span>=<span class="w"> </span>enabled
Last<span class="w"> </span>run<span class="w">       </span>=<span class="w"> </span>07:16:12<span class="w">  </span>IST,<span class="w">   </span>4362<span class="w"> </span>sec(s)<span class="w"> </span>ago
Mode<span class="w">           </span>=<span class="w"> </span>battery
Power<span class="w"> </span>source<span class="w">   </span>=<span class="w"> </span>battery```

###<span class="w"> </span>如何使用<span class="w"> </span>ACPI<span class="w"> </span>命令检查电池状态<span class="w">  </span>

ACPI<span class="w"> </span>代表<span class="nt">&lt;ruby&gt;</span>高级配置和电源接口<span class="nt">&lt;rt&gt;</span>Advanced<span class="w"> </span>Configuration<span class="w"> </span>and<span class="w"> </span>Power<span class="w"> </span>Interface<span class="nt">&lt;/rt&gt;&lt;/ruby&gt;</span>模块，它们是不同<span class="w"> </span>ACPI<span class="w"> </span>部件的内核模块。它们启用特殊的<span class="w"> </span>ACPI<span class="w"> </span>函数向<span class="w"> </span>`/proc`<span class="w"> </span>或者<span class="w"> </span>`/sys`<span class="w"> </span>中添加信息。这些信息可以通过事件或者其他监控程序的<span class="w"> </span>acpid<span class="w"> </span>进行解析。<span class="w">   </span>
</code></pre></div>

<p>$ acpi Battery 0: Charging, 43%, 01:05:11 until charged “`</p>
<p>查看电池容量。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>acpi<span class="w"> </span>-i
Battery<span class="w"> </span><span class="m">0</span>:<span class="w"> </span>Charging,<span class="w"> </span><span class="m">43</span>%,<span class="w"> </span><span class="m">01</span>:05:07<span class="w"> </span><span class="k">until</span><span class="w"> </span>charged
Battery<span class="w"> </span><span class="m">0</span>:<span class="w"> </span>design<span class="w"> </span>capacity<span class="w"> </span><span class="m">3817</span><span class="w"> </span>mAh,<span class="w"> </span>last<span class="w"> </span>full<span class="w"> </span>capacity<span class="w"> </span><span class="m">3324</span><span class="w"> </span><span class="nv">mAh</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">87</span>%
</code></pre></div>

<p>查看更多有关电池及其相关的信息。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>acpi<span class="w"> </span>-V
Battery<span class="w"> </span><span class="m">0</span>:<span class="w"> </span>Charging,<span class="w"> </span><span class="m">43</span>%,<span class="w"> </span><span class="m">01</span>:05:07<span class="w"> </span><span class="k">until</span><span class="w"> </span>charged
Battery<span class="w"> </span><span class="m">0</span>:<span class="w"> </span>design<span class="w"> </span>capacity<span class="w"> </span><span class="m">3815</span><span class="w"> </span>mAh,<span class="w"> </span>last<span class="w"> </span>full<span class="w"> </span>capacity<span class="w"> </span><span class="m">3323</span><span class="w"> </span><span class="nv">mAh</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">87</span>%
Adapter<span class="w"> </span><span class="m">0</span>:<span class="w"> </span>on-line
Cooling<span class="w"> </span><span class="m">0</span>:<span class="w"> </span>Processor<span class="w"> </span><span class="m">0</span><span class="w"> </span>of<span class="w"> </span><span class="m">10</span>
Cooling<span class="w"> </span><span class="m">1</span>:<span class="w"> </span>Processor<span class="w"> </span><span class="m">0</span><span class="w"> </span>of<span class="w"> </span><span class="m">10</span>
Cooling<span class="w"> </span><span class="m">2</span>:<span class="w"> </span>Processor<span class="w"> </span><span class="m">0</span><span class="w"> </span>of<span class="w"> </span><span class="m">10</span>
Cooling<span class="w"> </span><span class="m">3</span>:<span class="w"> </span>iwlwifi<span class="w"> </span><span class="m">0</span><span class="w"> </span>of<span class="w"> </span><span class="m">19</span>
Cooling<span class="w"> </span><span class="m">4</span>:<span class="w"> </span>Processor<span class="w"> </span><span class="m">0</span><span class="w"> </span>of<span class="w"> </span><span class="m">10</span>
Cooling<span class="w"> </span><span class="m">5</span>:<span class="w"> </span>iwlwifi<span class="w"> </span>no<span class="w"> </span>state<span class="w"> </span>information<span class="w"> </span>available
Cooling<span class="w"> </span><span class="m">6</span>:<span class="w"> </span>Processor<span class="w"> </span><span class="m">0</span><span class="w"> </span>of<span class="w"> </span><span class="m">10</span>
Cooling<span class="w"> </span><span class="m">7</span>:<span class="w"> </span>Processor<span class="w"> </span><span class="m">0</span><span class="w"> </span>of<span class="w"> </span><span class="m">10</span>
Cooling<span class="w"> </span><span class="m">8</span>:<span class="w"> </span>Processor<span class="w"> </span><span class="m">0</span><span class="w"> </span>of<span class="w"> </span><span class="m">10</span>
Cooling<span class="w"> </span><span class="m">9</span>:<span class="w"> </span>intel_powerclamp<span class="w"> </span>no<span class="w"> </span>state<span class="w"> </span>information<span class="w"> </span>available
Cooling<span class="w"> </span><span class="m">10</span>:<span class="w"> </span>x86_pkg_temp<span class="w"> </span>no<span class="w"> </span>state<span class="w"> </span>information<span class="w"> </span>available
Cooling<span class="w"> </span><span class="m">11</span>:<span class="w"> </span>Processor<span class="w"> </span><span class="m">0</span><span class="w"> </span>of<span class="w"> </span><span class="m">10</span>
</code></pre></div>

<h3>如何使用 Batstat 命令查看笔记本电池状态</h3>
<p><code>batstat</code> 是一个在 Linux 终端打印电池信息的命令行工具。</p>
<div class="highlight"><pre><span></span><code><span class="n">Status</span><span class="o">:</span><span class="w">                       </span><span class="n">Charging</span>
<span class="n">Max</span><span class="w"> </span><span class="n">energy</span><span class="o">:</span><span class="w">                   </span><span class="mf">50.00</span><span class="w"> </span><span class="n">Wh</span>
<span class="n">Energy</span><span class="w"> </span><span class="n">left</span><span class="o">:</span><span class="w">                  </span><span class="mf">24.50</span><span class="w"> </span><span class="n">Wh</span>
<span class="n">Power</span><span class="w"> </span><span class="n">Consumption</span><span class="o">:</span><span class="w">            </span><span class="mf">26.40</span><span class="w"> </span><span class="n">W</span>
<span class="n">Percentage</span><span class="w"> </span><span class="n">left</span><span class="o">:</span><span class="w">              </span><span class="mf">49.00</span><span class="o">%</span>
<span class="n">Average</span><span class="w"> </span><span class="n">power</span><span class="w"> </span><span class="n">Consumption</span><span class="o">:</span><span class="w">    </span><span class="mf">0.00</span><span class="w"> </span><span class="n">W</span>
<span class="n">Time</span><span class="w"> </span><span class="n">elapsed</span><span class="o">:</span><span class="w">                  </span><span class="mi">0</span><span class="o">:</span><span class="w"> </span><span class="mi">0</span><span class="o">:</span><span class="mi">12</span><span class="w"> </span><span class="n">since</span><span class="w"> </span><span class="mf">49.00</span><span class="o">%</span>
<span class="o">=</span><span class="w"> </span><span class="n">Time</span><span class="w">   </span><span class="o">========</span><span class="w"> </span><span class="n">Percent</span><span class="w"> </span><span class="o">============================================</span>
<span class="w"> </span><span class="mi">0</span><span class="o">:</span><span class="w"> </span><span class="mi">0</span><span class="o">:</span><span class="w"> </span><span class="mi">0</span><span class="w">          </span><span class="mf">49.00</span><span class="o">%</span>
</code></pre></div>

<h3>如何使用 sysfs 文件系统查看笔记本电池状态</h3>
<p>sysfs 文件系统是一个提供了内核数据结构接口的伪文件系统。sysfs 下的文件提供有关设备、内核模块、文件系统和其他内核组件的信息。</p>
<p>sysfs 文件系统通常挂载在 <code>/sys</code>。通常来说，它会被系统自动挂载，但是也可以使用例如 <code>mount -t sysfs sysfs /sys</code> 命令进行手动挂载。</p>
<p>在 sysfs 文件系统中的很多文件都是只读的，但也有一些是可写的，允许更改内核变量。为了避免冗余，符号链接被大量用于连接文件系统数中的条目。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>cat<span class="w"> </span>/sys/class/power_supply/BAT0/*
<span class="m">0</span>
<span class="m">51</span>
Normal
<span class="m">0</span>
cat:<span class="w"> </span>/sys/class/power_supply/BAT0/device:<span class="w"> </span>Is<span class="w"> </span>a<span class="w"> </span>directory
<span class="m">52260000</span>
<span class="m">60000000</span>
<span class="m">26660000</span>
SMP
L14M4P23
cat:<span class="w"> </span>/sys/class/power_supply/BAT0/power:<span class="w"> </span>Is<span class="w"> </span>a<span class="w"> </span>directory
<span class="m">27656000</span>
<span class="m">1</span>
<span class="w">  </span><span class="m">756</span>
Charging
cat:<span class="w"> </span>/sys/class/power_supply/BAT0/subsystem:<span class="w"> </span>Is<span class="w"> </span>a<span class="w"> </span>directory
Li-ion
Battery
<span class="nv">POWER_SUPPLY_NAME</span><span class="o">=</span>BAT0
<span class="nv">POWER_SUPPLY_STATUS</span><span class="o">=</span>Charging
<span class="nv">POWER_SUPPLY_PRESENT</span><span class="o">=</span><span class="m">1</span>
<span class="nv">POWER_SUPPLY_TECHNOLOGY</span><span class="o">=</span>Li-ion
<span class="nv">POWER_SUPPLY_CYCLE_COUNT</span><span class="o">=</span><span class="m">0</span>
<span class="nv">POWER_SUPPLY_VOLTAGE_MIN_DESIGN</span><span class="o">=</span><span class="m">14800000</span>
<span class="nv">POWER_SUPPLY_VOLTAGE_NOW</span><span class="o">=</span><span class="m">15840000</span>
<span class="nv">POWER_SUPPLY_POWER_NOW</span><span class="o">=</span><span class="m">27656000</span>
<span class="nv">POWER_SUPPLY_ENERGY_FULL_DESIGN</span><span class="o">=</span><span class="m">60000000</span>
<span class="nv">POWER_SUPPLY_ENERGY_FULL</span><span class="o">=</span><span class="m">52260000</span>
<span class="nv">POWER_SUPPLY_ENERGY_NOW</span><span class="o">=</span><span class="m">26660000</span>
<span class="nv">POWER_SUPPLY_CAPACITY</span><span class="o">=</span><span class="m">51</span>
<span class="nv">POWER_SUPPLY_CAPACITY_LEVEL</span><span class="o">=</span>Normal
<span class="nv">POWER_SUPPLY_MODEL_NAME</span><span class="o">=</span>L14M4P23
<span class="nv">POWER_SUPPLY_MANUFACTURER</span><span class="o">=</span>SMP
<span class="nv">POWER_SUPPLY_SERIAL_NUMBER</span><span class="o">=</span><span class="w">  </span><span class="m">756</span>
<span class="m">14800000</span>
<span class="m">15840000</span>
</code></pre></div>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>