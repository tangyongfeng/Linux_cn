<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>在 Linux 下交换 Ctrl 与大写锁定键</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Author: Chris Hermansen Linux 桌面环境使你可以根据需要轻松设置键盘。下面来演示如何去做。 对于许多使用计算机很多年的用户来说，自从 …" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">linux_cn</a></h1>
                <nav><ul>
                    <li><a href="/category/chuan-shan-jia-zhuan-fang">穿山甲专访</a></li>
                    <li><a href="/category/dai-ma-ying-xiong">代码英雄</a></li>
                    <li><a href="/category/fen-xiang">分享</a></li>
                    <li><a href="/category/guan-dian">观点</a></li>
                    <li><a href="/category/huo-dong">活动</a></li>
                    <li><a href="/category/ji-ke-man-hua">极客漫画</a></li>
                    <li><a href="/category/ji-zhu">技术</a></li>
                    <li><a href="/category/kai-yuan-zhi-hui">开源智慧</a></li>
                    <li><a href="/category/linux-fa-xing-ban">Linux 发行版</a></li>
                    <li><a href="/category/mei-ri-an-quan-zi-xun">每日安全资讯</a></li>
                    <li><a href="/category/misc">Misc</a></li>
                    <li><a href="/category/qu-kuai-lian">区块链</a></li>
                    <li><a href="/category/rong-qi-yu-yun">容器与云</a></li>
                    <li><a href="/category/ruan-jian-kai-fa">软件开发</a></li>
                    <li><a href="/category/shu-mei-pai">树莓派</a></li>
                    <li><a href="/category/xi-tong-yun-wei">系统运维</a></li>
                    <li><a href="/category/xin-wen">新闻</a></li>
                    <li><a href="/category/ying-he-guan-cha">硬核观察</a></li>
                    <li><a href="/category/zhi-ye-sheng-ya">职业生涯</a></li>
                    <li><a href="/category/zhong-jiang-ming-dan">中奖名单</a></li>
                    <li class="active"><a href="/category/zhuo-mian-ying-yong">桌面应用</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2018/12/zai-linux-xia-jiao-huan-ctrl-yu-da-xie-suo-ding-jian.html" rel="bookmark"
           title="Permalink to 在 Linux 下交换 Ctrl 与大写锁定键">在 Linux 下交换 Ctrl 与大写锁定键</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2018-12-17T22:38:55+01:00">
                Published: Mon 17 December 2018
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/linux-fans-from-china.html">linux fans from china</a>
        </address>
<p>In <a href="/category/zhuo-mian-ying-yong">桌面应用</a>.</p>

</footer><!-- /.post-info -->      <p>Author: Chris Hermansen</p>
<blockquote>
<p>Linux 桌面环境使你可以根据需要轻松设置键盘。下面来演示如何去做。</p>
</blockquote>
<p><img alt="" src="/data/attachment/album/201812/17/223900ek7wi7vvhabi7iav.jpg"></p>
<p>对于许多使用计算机很多年的用户来说，自从第一批 PC 键盘从生产线上下线后不久，Ctrl 和大写锁定键就已经在错误的位置上了。对我来说，这张 1995 年 Sun 工作站的老式键盘照片上的两个键的位置才是正确的。（原谅我放了一张模糊的图片，它是在昏暗的光线下使用 Minox 间谍相机拍摄的。）</p>
<p><img alt="" src="/data/attachment/album/201812/17/223901ac7cczp33ir8xc2i.jpg"></p>
<p>感兴趣的话，可以读一下维基百科上对于 <a href="https://en.wikipedia.org/wiki/Control_key">Ctrl 键位置的历史</a> 的介绍。我不打算讨论将 Ctrl 键放在“a”旁边而不是 Shift 键下方的各种理由，也不评论大写锁定键的无用性，也没有打算与那些主张使用手掌根来触发 Ctrl 键的人争论，即使在一些笔记本电脑键盘上不可能这样做到，因为有的键会位于腕托以下。</p>
<p>相反，我将假设我不是唯一喜欢把 Ctrl 键放在“a”旁边的人，并说明如何使用 Linux 自带的灵活性在各种桌面环境中交换 Ctrl 和大写锁定键的位置。请注意，下面的演示可能只有有限的有效期，因为调整桌面设置的方法经常发生变化，但我希望这为你开了一个好头。</p>
<h3>GNOME 3</h3>
<p><a href="https://www.gnome.org/gnome-3/">GNOME 3</a> 桌面环境用户可以使用 <a href="https://wiki.gnome.org/Apps/Tweaks">Tweaks</a> 工具交换大写锁定和 Ctrl 键，如下所示。</p>
<p><img alt="" src="/data/attachment/album/201812/17/223916k64eueibnlx9jg6e.png"></p>
<p>具体步骤如下：</p>
<ol>
<li>从你的 Linux 发行版的软件仓库安装 Tweaks 工具。</li>
<li>启动 Tweaks 程序。</li>
<li>从左侧菜单中选择 “Keyboard &amp; Mouse”。</li>
<li>单击 “Additional Layout Options”。</li>
<li>在打开的窗口中单击 “Ctrl position”，然后选择 “Swap Ctrl and Caps Lock”。</li>
</ol>
<p>完成！顺便说一句，你可以使用 Tweaks 工具做很多很酷的事情。例如，我将我的右 Ctrl 键设置为 Compose 键，这让我可以使用键盘快捷键打出各种字符，例如通过 <code>Compose+c+,</code>、<code>Compose+e+'</code>、<code>Compose+o+^</code> 以及 <code>Compose+n+~</code> 分别键入 ç、é、ô 和 ñ。（LCTT 译注：可参考 <a href="https://www.ibm.com/support/knowledgecenter/en/SSKTWP_9.0.0/com.ibm.notes900.help.doc/acc_spec_characters_r.html">Special characters listed by extended compose sequence</a>）</p>
<h3>KDE</h3>
<p>我不使用 <a href="https://www.kde.org/">KDE</a>，但我的同事 Seth Kenlon 写的 <a href="https://opensource.com/article/17/5/7-cool-kde-tweaks-will-improve-your-life">将改变你的生命的 KDE tweaks</a> 这篇文章的第 5 项演示了如何重新映射按键。</p>
<h3>Xfce</h3>
<p>据我所知，<a href="https://www.xfce.org/">Xfce</a> 桌面环境没有一个方便的工具来管理这些（指交换按键）设置。 但是，<code>setxkbmap</code> 命令的 <code>ctrl:swapcaps</code> 选项可以帮助你完成交换按键的修改。这个修改包含两部分：</p>
<ol>
<li>弄清楚命令的用法；</li>
<li>找出调用命令的位置，以便在桌面启动时激活它。</li>
</ol>
<p>第一部分非常简单，命令是：</p>
<div class="highlight"><pre><span></span><code>/usr/bin/setxkbmap -option &quot;ctrl:nocaps&quot;
</code></pre></div>

<p>在终端窗口中执行此命令，以确保结果符合你的预期。</p>
<p>假设上述命令有效，应该在哪里调用此命令呢？这需要一些实验。一种可能是在用户主目录的 <code>.profile</code> 文件中；另一个可能是将命令添加到 Xfce 的自启动配置（在设置管理器中查找 “Session and Startup”）里。</p>
<p>还有一种可能性是在文件 <code>/etc/default/keyboard</code> 中使用相同的选项，最终可能看起来像这样：</p>
<div class="highlight"><pre><span></span><code># KEYBOARD CONFIGURATION FILE

# Consult the keyboard(5) manual page.

XKBMODEL=&quot;pc105&quot;
XKBLAYOUT=&quot;us&quot;
XKBVARIANT=&quot;&quot;
XKBOPTIONS=&quot;ctrl:swapcaps&quot;

BACKSPACE=&quot;guess&quot;
</code></pre></div>

<p>注意，这个更改将影响所有用户，因此如果你和其他人共享计算机，请准备好进行一些说明。此外，系统更新可能会覆盖此文件，因此如果你的设置失效了，就需要再次编辑它。将相同的信息放在用户主目录中的 <code>.keyboard</code> 文件内，可以为每个用户进行设置。</p>
<p>最后请注意，这些更改需要重新启动 Xfce（除非在终端窗口中的命令行上运行，但这在会话结束之后便会失效）。</p>
<h3>LXQt 和其他桌面环境</h3>
<p>我没有用过 <a href="https://lxqt.org/">LXQt</a>，但根据我使用 <a href="https://lxde.org/">LXDE</a> 的经验，我会尝试上面用于 Xfce 的方法。我也希望适用于 Xfce 的方法可以用于其他 Linux 桌面环境。当然了，在其他桌面环境上遇到问题的时候，可以通过你最喜欢的搜索引擎来查找解决办法。</p>
<h3>控制台</h3>
<p>我没有在控制台上进行过尝试，因为我很少有机会与控制台（你在服务器上看到的或你的窗口系统没有正确显示时出现的界面）进行交互。上面给出的方法以人们希望的方式（即与其他应用程序一致）调整终端窗口。</p>
<p>但是，如果像上面一样已经编辑了 <code>/etc/default/keyboard</code> 文件或 <code>〜/.keyboard</code>，则实用程序 <code>setupcon</code> 可以用于更改控制台的键盘设置，以便实现相同的功能。<a href="https://askubuntu.com/questions/485454/how-to-remap-keys-on-a-user-level-both-with-and-without-x">链接 1</a>、<a href="https://unix.stackexchange.com/questions/198791/how-do-i-permanently-change-the-console-tty-font-type-so-it-holds-after-reboot">链接 2</a> 和 <a href="https://superuser.com/questions/290115/how-to-change-console-keymap-in-linux">链接 3</a> 给出了一些关于如何从这两个文件实现这些更改的想法。第三个链接还讨论了使用 <code>dumpkeys</code> 和 <code>loadkeys</code> 来实现想要的效果。<a href="http://man.he.net/man1/setupcon">setupcon 的手册</a> 简短而重要，值得阅读，再结合上面 StackExchange 问题的一些评论，应该足以得到一个解决办法。</p>
<h3>其他环境</h3>
<p>最后，上面 StackExchange 的链接中提到的这一点值得强调 —— 配置控制台与配置终端窗口不同；如前所述，后者是通过桌面管理器进行配置的。</p>
<p><code>setxkbmap</code>、<code>xkeyboard-config</code>、<code>keyboard</code>、<code>console-setup</code> 和 <code>setupcon</code> 命令的手册都是有用的参考资料。或者，如果你不喜欢阅读手册，可以看一下 <a href="http://www.noah.org/wiki/CapsLock_Remap_Howto">这篇极好的文章</a>。</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>