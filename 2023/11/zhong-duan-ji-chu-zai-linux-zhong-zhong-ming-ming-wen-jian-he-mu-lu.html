<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>终端基础：在 Linux 中重命名文件和目录</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Author: Abhishek Prakash 在这篇基本命令行教程中，你将学习在 Linux 终端重命名文件和目录的各种方法。 如何在 Linux 终端中重命名文件和目录 …" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">linux_cn</a></h1>
                <nav><ul>
                    <li><a href="/category/chuan-shan-jia-zhuan-fang">穿山甲专访</a></li>
                    <li><a href="/category/dai-ma-ying-xiong">代码英雄</a></li>
                    <li><a href="/category/fen-xiang">分享</a></li>
                    <li><a href="/category/guan-dian">观点</a></li>
                    <li><a href="/category/huo-dong">活动</a></li>
                    <li><a href="/category/ji-ke-man-hua">极客漫画</a></li>
                    <li class="active"><a href="/category/ji-zhu">技术</a></li>
                    <li><a href="/category/kai-yuan-zhi-hui">开源智慧</a></li>
                    <li><a href="/category/linux-fa-xing-ban">Linux 发行版</a></li>
                    <li><a href="/category/mei-ri-an-quan-zi-xun">每日安全资讯</a></li>
                    <li><a href="/category/misc">Misc</a></li>
                    <li><a href="/category/qu-kuai-lian">区块链</a></li>
                    <li><a href="/category/rong-qi-yu-yun">容器与云</a></li>
                    <li><a href="/category/ruan-jian-kai-fa">软件开发</a></li>
                    <li><a href="/category/shu-mei-pai">树莓派</a></li>
                    <li><a href="/category/xi-tong-yun-wei">系统运维</a></li>
                    <li><a href="/category/xin-wen">新闻</a></li>
                    <li><a href="/category/ying-he-guan-cha">硬核观察</a></li>
                    <li><a href="/category/zhi-ye-sheng-ya">职业生涯</a></li>
                    <li><a href="/category/zhong-jiang-ming-dan">中奖名单</a></li>
                    <li><a href="/category/zhuo-mian-ying-yong">桌面应用</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2023/11/zhong-duan-ji-chu-zai-linux-zhong-zhong-ming-ming-wen-jian-he-mu-lu.html" rel="bookmark"
           title="Permalink to 终端基础：在 Linux 中重命名文件和目录">终端基础：在 Linux 中重命名文件和目录</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2023-11-24T21:55:00+01:00">
                Published: Fri 24 November 2023
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/linux-fans-from-china.html">linux fans from china</a>
        </address>
<p>In <a href="/category/ji-zhu">技术</a>.</p>

</footer><!-- /.post-info -->      <p>Author: Abhishek Prakash</p>
<p><img alt="" src="/data/attachment/album/202311/24/215355ef7zfwuh9cx74u47.jpg"></p>
<blockquote>
<p>在这篇基本命令行教程中，你将学习在 Linux 终端重命名文件和目录的各种方法。</p>
</blockquote>
<p>如何在 Linux 终端中重命名文件和目录？你可以使用 <code>mv</code> 命令。</p>
<p>是的，与用于将文件和文件夹从一个位置“移动”到另一个位置的 <code>mv</code> 命令相同。</p>
<p>你可以在“移动文件和目录”时简单地指定文件和目录的新名称。</p>
<p>要重命名文件，请使用：</p>
<div class="highlight"><pre><span></span><code>mv old_file new_file
</code></pre></div>

<p>同样，要重命名目录，请使用：</p>
<div class="highlight"><pre><span></span><code>mv old_dir new_dir
</code></pre></div>

<p>听起来很容易，对吧？ 但我将在这里详细讨论文件重命名：</p>
<ul>
<li>向你展示重命名的实际示例</li>
<li>显示通过结合 <code>find</code> 和 <code>exec</code> 命令批量重命名多个文件的示例</li>
<li>讨论用于批量重命名文件的专用程序</li>
</ul>
<p>我们来一一看看。</p>
<h3>使用 mv 命令重命名文件和目录</h3>
<p>使用 <code>mv</code> 命令重命名同一目录中的文件：</p>
<div class="highlight"><pre><span></span><code>mv file1.txt file2.txt
</code></pre></div>

<p>同样，你可以重命名同一位置的目录：</p>
<div class="highlight"><pre><span></span><code>mv dir1 dir2
</code></pre></div>

<p>这是我重命名文件和目录的示例：</p>
<p><img alt="" src="/data/attachment/album/202311/24/215501wemmamublbg7lwzz.png"></p>
<p>如你所见，与 <a href="https://itsfoss.com/cp-command/">cp 命令</a> 不同，你不必使用递归选项来通过 <a href="https://linuxhandbook.com/mv-command/">mv 命令</a> 处理目录。</p>
<blockquote>
<p>? 如果你尝试使用相同的名称重命名该文件，你会看到一个错误（显然）。</p>
</blockquote>
<p>你还可以在将文件移动到另一个位置时重命名它：</p>
<div class="highlight"><pre><span></span><code>mv old-file-name another_dir/new-file-name
</code></pre></div>

<p>在下面的示例中，我将名为 <code>firefox-quiz.txt</code> 的文件移动到示例目录。在这样做的同时，我将其重命名为 <code>quiz.txt</code>。</p>
<p><img alt="" src="/data/attachment/album/202311/24/215503krxkl7zxyr2frsrz.png"></p>
<p>我将其视为剪切粘贴操作。</p>
<blockquote>
<p>? 虽然你可以将多个文件移动到另一个位置（<code>mv file1 file2 file2 dir</code>），但你不能使用 <code>mv</code> 重命名多个文件。为此，你必须采用我在以下部分中讨论的其他策略。</p>
</blockquote>
<h3>通过组合 mv、find 和 exec 命令重命名与某个模式匹配的多个文件</h3>
<blockquote>
<p>? 批量重命名此类文件时要格外小心。一步错误的举动就会导致无法挽回的不良结果。</p>
</blockquote>
<p><code>find</code> 命令用于根据文件名、类型、修改时间和其他参数在给定目录中查找文件。<a href="https://linuxhandbook.com/find-exec-command/">exec 命令与 find</a> 结合使用，对 <code>find</code> 命令的结果执行命令。</p>
<p>使用 <code>find</code>、<code>exec</code> 和 <code>mv</code> 命令没有固定标准的结构。你可以根据需要组合它们。</p>
<p>假设你想通过在名称中添加 <code>_old</code> 来重命名当前目录中以 <code>.txt</code> 结尾的所有文件。所以 <code>file_1.txt</code> 变成 <code>file_1.txt_old</code> 等等。</p>
<div class="highlight"><pre><span></span><code><span class="nx">find</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="o">-</span><span class="k">type</span><span class="w"> </span><span class="nx">f</span><span class="w"> </span><span class="o">-</span><span class="nx">name</span><span class="w"> </span><span class="s">&quot;*.txt&quot;</span><span class="w"> </span><span class="o">-</span><span class="nx">exec</span><span class="w"> </span><span class="nx">mv</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">{}</span><span class="nx">_old</span><span class="w"> </span><span class="p">;</span>
</code></pre></div>

<p><img alt="" src="/data/attachment/album/202311/24/215503wuh325amr5ru55s3.png"></p>
<p>这只是一个示例，你的重命名要求可能会有所不同。另外，<strong>以上仅适用于不带空格的文件名</strong>。</p>
<p><strong>专业提示</strong>：在处理这样的批量操作时，你可以巧妙地使用 <code>echo</code> 命令来查看将执行什么操作，而不是实际执行它。如果看起来不错，那就采取实际行动吧。</p>
<p>例如，首先查看哪些文件将被重命名：</p>
<div class="highlight"><pre><span></span><code><span class="nx">find</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="o">-</span><span class="k">type</span><span class="w"> </span><span class="nx">f</span><span class="w"> </span><span class="o">-</span><span class="nx">name</span><span class="w"> </span><span class="s">&quot;*.txt&quot;</span><span class="w"> </span><span class="o">-</span><span class="nx">exec</span><span class="w"> </span><span class="nx">echo</span><span class="w"> </span><span class="nx">mv</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">{}</span><span class="nx">_old</span><span class="w"> </span><span class="err">\</span><span class="p">;</span>
</code></pre></div>

<p><img alt="" src="/data/attachment/album/202311/24/215504atnsvbs4izsvl483.png"></p>
<p>如你所见，实际上没有重命名任何文件。但是，如果你在没有使用回显（<code>echo</code>）命令的情况下运行上述命令，你将看到将执行什么命令。</p>
<p>如果你觉得没问题，请删除 <code>echo</code> 命令并继续进行实际的重命名。</p>
<div class="highlight"><pre><span></span><code><span class="nx">find</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="o">-</span><span class="k">type</span><span class="w"> </span><span class="nx">f</span><span class="w"> </span><span class="o">-</span><span class="nx">name</span><span class="w"> </span><span class="s">&quot;*.txt&quot;</span><span class="w"> </span><span class="o">-</span><span class="nx">exec</span><span class="w"> </span><span class="nx">mv</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">{}</span><span class="nx">_old</span><span class="w"> </span><span class="err">\</span><span class="p">;</span>
</code></pre></div>

<p>我在 《Efficient Linux 命令行》一书中学到了这个技巧。一本充满了这样的小宝石的优秀书。难怪它已成为 <a href="https://itsfoss.com/best-linux-books/">我最喜欢的 Linux 书籍</a>之一。</p>
<h3>使用 rename 命令轻松重命名多个文件</h3>
<p>有一个名为 <code>rename</code> 的便捷命令行程序，可用于根据给定的 Perl 正则表达式模式批量重命名文件。</p>
<p>该实用程序不是 GNU 工具链的一部分，也不是预安装的。因此，你必须首先使用发行版的包管理器来安装它。</p>
<p>对于 Debian/Ubuntu，命令为：</p>
<div class="highlight"><pre><span></span><code>sudo apt install rename
</code></pre></div>

<p>你可以通过以下方式使用它：</p>
<div class="highlight"><pre><span></span><code><span class="n">rename</span><span class="w"> </span><span class="o">[</span><span class="n">options</span><span class="o">]</span><span class="w"> </span><span class="n">perl_regex</span><span class="w"> </span><span class="o">[</span><span class="n">files</span><span class="o">]</span>
</code></pre></div>

<p>选项有：</p>
<ul>
<li><code>-v</code> : 详细模式</li>
<li><code>-n</code> ：无操作，显示将被重命名的文件，但不重命名它们</li>
<li><code>-o</code> : 不覆盖</li>
<li><code>-f</code> : 强制覆盖现有文件</li>
<li><code>-s</code> : 不重命名软链接，只重命名其目标</li>
</ul>
<p>现在，让我们采用你在上一节中看到的相同示例。将 <code>*.txt</code> 重命名为 <code>.txt_old</code>。</p>
<div class="highlight"><pre><span></span><code>rename &#39;s/\.txt$/.txt_old/&#39; **
</code></pre></div>

<p>我不打算在这里解释正则表达式。<code>**</code> 表示查看所有子目录中的所有文件。</p>
<p><img alt="" src="/data/attachment/album/202311/24/215504cbliwwlwglfjljqj.png"></p>
<p>正如你所看到的，它按预期工作。</p>
<h3>总结</h3>
<p>我希望你喜欢这个技巧，它可以帮助你学习在 Linux 命令行中执行基本任务。当然是针对那些想学习和使用命令行的人。桌面用户始终拥有用于此类任务的 GUI 工具。</p>
<p>如果你对 Linux 命令完全陌生，本系列将对你有很大帮助。</p>
<blockquote>
<p><strong><a href="/article-16104-1.html">终端基础：Linux 终端入门</a></strong></p>
</blockquote>
<p>如果你有疑问或建议，请告诉我。</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>