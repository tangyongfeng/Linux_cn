<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>如何在 Java 中使用方法</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Author: Seth Kenlon 在这个简便的教程中，我们可以了解到 Java 中方法的定义，如何使用方法，以及何时使用方法。 Java 中的方法（在许多其他 …" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">linux_cn</a></h1>
                <nav><ul>
                    <li><a href="/category/chuan-shan-jia-zhuan-fang">穿山甲专访</a></li>
                    <li><a href="/category/dai-ma-ying-xiong">代码英雄</a></li>
                    <li><a href="/category/fen-xiang">分享</a></li>
                    <li><a href="/category/guan-dian">观点</a></li>
                    <li><a href="/category/huo-dong">活动</a></li>
                    <li><a href="/category/ji-ke-man-hua">极客漫画</a></li>
                    <li><a href="/category/ji-zhu">技术</a></li>
                    <li><a href="/category/kai-yuan-zhi-hui">开源智慧</a></li>
                    <li><a href="/category/linux-fa-xing-ban">Linux 发行版</a></li>
                    <li><a href="/category/mei-ri-an-quan-zi-xun">每日安全资讯</a></li>
                    <li><a href="/category/misc">Misc</a></li>
                    <li><a href="/category/qu-kuai-lian">区块链</a></li>
                    <li><a href="/category/rong-qi-yu-yun">容器与云</a></li>
                    <li class="active"><a href="/category/ruan-jian-kai-fa">软件开发</a></li>
                    <li><a href="/category/shu-mei-pai">树莓派</a></li>
                    <li><a href="/category/xi-tong-yun-wei">系统运维</a></li>
                    <li><a href="/category/xin-wen">新闻</a></li>
                    <li><a href="/category/ying-he-guan-cha">硬核观察</a></li>
                    <li><a href="/category/zhi-ye-sheng-ya">职业生涯</a></li>
                    <li><a href="/category/zhong-jiang-ming-dan">中奖名单</a></li>
                    <li><a href="/category/zhuo-mian-ying-yong">桌面应用</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2023/01/ru-he-zai-java-zhong-shi-yong-fang-fa.html" rel="bookmark"
           title="Permalink to 如何在 Java 中使用方法">如何在 Java 中使用方法</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2023-01-24T18:29:00+01:00">
                Published: Tue 24 January 2023
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/linux-fans-from-china.html">linux fans from china</a>
        </address>
<p>In <a href="/category/ruan-jian-kai-fa">软件开发</a>.</p>

</footer><!-- /.post-info -->      <p>Author: Seth Kenlon</p>
<blockquote>
<p>在这个简便的教程中，我们可以了解到 Java 中方法的定义，如何使用方法，以及何时使用方法。</p>
</blockquote>
<p><img alt="" src="/data/attachment/album/202301/24/003036jk84quk8ngdqgd8z.jpg"></p>
<p>Java 中的方法（在许多其他编程语言中称为“函数”）是被组合在一起并标记为可重用的一块代码。方法很有用，因为它们允许你在不重写相同代码的情况下，执行相同的操作或一系列操作，这不仅意味着你的工作量减少，还意味着出现问题时需要维护和调试的代码减少。</p>
<p>方法存在于类中，因此标准 Java 样板代码适用：</p>
<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nx">com</span><span class="p">.</span><span class="nx">opensource</span><span class="p">.</span><span class="nx">example</span><span class="p">;</span>

<span class="nx">public</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nx">Example</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// 在此写代码</span>
<span class="p">}</span>
</code></pre></div>

<p>在这样一个简单的单文件应用程序中，包定义并不是绝对必要的，但它是一个很好的习惯，而且大多数 IDE 都强制执行它。</p>
<p>默认情况下，Java 会寻找在类中运行的 <code>main</code> 方法。方法可以是公有的或私有的，也可以是静态的或非静态的，但 <code>main</code> 方法必须是公有的、静态的，Java 编译器才能识别和使用它。当方法是公有的时，它可以从类外部执行。要在程序启动时调用 <code>Example</code> 类，其 <code>main</code> 方法必须是可访问的，因此将其设置为 <code>public</code>。</p>
<p>下面是两个方法的简单演示：一个 <code>main</code> 方法在调用 <code>Example</code> 类时默认执行，另一个 <code>report</code> 方法接受 <code>main</code> 的输入并执行简单操作。</p>
<p>为了模拟任意数据输入，我使用了 <code>if</code>-<code>then</code> 语句，该语句根据你启动应用程序的时间在两个字符串之间进行选择。换句话说，<code>main</code> 方法首先设置一些数据（在现实生活中，这些数据可以来自用户输入，也可以来自应用程序其他地方的其他方法），然后 “调用” <code>report</code>方法，将处理后的数据作为输入提供：</p>
<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nx">com</span><span class="p">.</span><span class="nx">opensource</span><span class="p">.</span><span class="nx">example</span><span class="p">;</span>

<span class="nx">public</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nx">Example</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">public</span><span class="w"> </span><span class="nx">static</span><span class="w"> </span><span class="nx">void</span><span class="w"> </span><span class="nx">main</span><span class="p">(</span><span class="nx">String</span><span class="p">[]</span><span class="w"> </span><span class="nx">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// 生成一些数据</span>
<span class="w">    </span><span class="nx">long</span><span class="w"> </span><span class="nx">myTime</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">System</span><span class="p">.</span><span class="nx">currentTimeMillis</span><span class="p">();</span>
<span class="w">    </span><span class="nx">String</span><span class="w"> </span><span class="nx">weather</span><span class="p">;</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="nx">myTime</span><span class="o">%</span><span class="mi">2</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">weather</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;party&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">weather</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;apocalypse&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// 调用其他方法</span>
<span class="w">    </span><span class="nx">report</span><span class="p">(</span><span class="nx">weather</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="nx">static</span><span class="w"> </span><span class="nx">void</span><span class="w"> </span><span class="nx">report</span><span class="p">(</span><span class="nx">String</span><span class="w"> </span><span class="nx">day</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">System</span><span class="p">.</span><span class="nx">out</span><span class="p">.</span><span class="nx">printf</span><span class="p">(</span><span class="s">&quot;Welcome to the zombie %s\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">day</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p>运行代码：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>java<span class="w"> </span>./Example.java
Welcome<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>zombie<span class="w"> </span>apocalypse
$<span class="w"> </span>java<span class="w"> </span>./Example.java
Welcome<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>zombie<span class="w"> </span>party
</code></pre></div>

<p>请注意，同一 <code>report</code> 方法有两个不同的结果。当然，在这个简单的演示中，不需要第二种方法。模拟数据生成的 <code>if</code>-<code>then</code> 语句可能生成了相同的结果。但是，当一个方法执行一项复杂的任务时，比如将图像调整为缩略图，然后使用调整后的图像在屏幕上生成小部件，那么附加组件的“费用”就很有意义了。</p>
<h3>何时使用 Java 方法</h3>
<p>很难知道何时使用方法，何时只将数据发送到 <a href="https://opensource.com/article/20/1/javastream">Java 流</a> 或循环中。如果你面临这个决定，答案通常是使用一种方法。原因如下：</p>
<ul>
<li>方法开销少。它们不会给代码增加处理开销。</li>
<li>方法减少代码的行数。</li>
<li>方法是特定的。查找名为 <code>resizeImage</code> 的方法通常比查找隐藏在从驱动器加载图像的函数中某个循环中的代码更容易。</li>
<li>方法是可重用的。当你第一次编写方法时，你可能会 <em>认为</em> 它只对应用程序中的一个任务有用。然而，随着应用程序的编写，你可能会发现自己正在使用一种你认为“已完成”的方法。</li>
</ul>
<h3>函数式编程与面向对象编程</h3>
<p>函数式编程利用方法作为执行任务的主要构造。创建一个方法，该方法接受一种数据，处理该数据，并输出新数据。将许多方法串在一起，你就拥有了一个动态且功能强大的应用程序。像 C 和 <a href="https://opensource.com/article/22/11/lua-worth-learning">Lua</a> 这样的编程语言就是这种编码风格的例子。</p>
<p>用代码完成任务的另一种方式是 Java 使用的面向对象模型。在面向对象编程中，方法是模板的组成部分。你可以创建对象，而不是将数据从一个方法发送到另一个方法，并可以通过使用它们的方法来更改它们。</p>
<p>从面向对象的角度来看，这是一个简单的 “僵尸末日” 演示程序。在函数方法中，我使用一种方法生成数据，另一种方法使用该数据执行操作。面向对象的等价物是具有表示工作单元的类。这个示例应用程序向用户显示一条当天的消息，宣布这一天会有僵尸派对或是僵尸末日。编写一个“天”对象，然后查询该对象以了解其特性是有意义的。作为演示面向对象构造的不同方面的借口，新的示例应用程序还将统计有多少僵尸出现在派对上（或末日）。</p>
<p>Java 为每个类使用一个文件，因此要创建的第一个文件是 <code>Day.Java</code>，它用作 <code>Day</code> 对象：</p>
<div class="highlight"><pre><span></span><code><span class="n">package</span> <span class="n">com</span><span class="o">.</span><span class="n">opensource</span><span class="o">.</span><span class="n">example</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">java.util.Random</span><span class="p">;</span>

<span class="o">//</span> <span class="n">类</span>
<span class="n">public</span> <span class="k">class</span> <span class="nc">Day</span> <span class="p">{</span>
    <span class="n">public</span> <span class="n">static</span> <span class="n">String</span> <span class="n">weather</span><span class="p">;</span>
    <span class="n">public</span> <span class="nb">int</span> <span class="n">count</span><span class="p">;</span>

<span class="o">//</span> <span class="n">构造方法</span>
  <span class="n">public</span> <span class="n">Day</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">long</span> <span class="n">myTime</span> <span class="o">=</span> <span class="n">System</span><span class="o">.</span><span class="n">currentTimeMillis</span><span class="p">();</span>

    <span class="k">if</span> <span class="p">(</span> <span class="n">myTime</span><span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">{</span>
      <span class="n">weather</span> <span class="o">=</span> <span class="s2">&quot;paradise&quot;</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="n">weather</span> <span class="o">=</span> <span class="s2">&quot;apocalypse&quot;</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>

<span class="o">//</span> <span class="n">方法</span>
  <span class="n">public</span> <span class="n">String</span> <span class="n">report</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">return</span> <span class="n">weather</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="n">public</span> <span class="nb">int</span> <span class="n">counter</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">Random</span> <span class="n">rand</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Random</span><span class="p">();</span>
    <span class="n">count</span> <span class="o">=</span> <span class="n">count</span> <span class="o">+</span> <span class="n">rand</span><span class="o">.</span><span class="n">nextInt</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>

    <span class="k">return</span><span class="p">(</span><span class="n">count</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p>在“类”部分中，创建了两个域：天象 <code>weather</code> 和计数 <code>count</code>。<code>weather</code> 是静态的。在一天的过程中（在这种假想的情况下），<code>weather</code> 不会改变。要么是派对 <code>paradise</code>，要么是末日 <code>apocalypse</code>，持续了一整天。然而，僵尸的数量在一天中会增加。</p>
<p>在“构造方法”部分，确定当天的天象。它是作为一个 <a href="https://opensource.com/article/19/6/what-java-constructor">构造方法</a> 完成的，因为它只在类最初被调用时发生一次。</p>
<p>在“方法”部分，<code>report</code> 方法只返回由构造方法确定和设置的天象报告。然而，<code>counter</code> 方法生成一个随机数，并将其添加到当前僵尸计数中。</p>
<p>换句话说，这个类做了三件不同的事情：</p>
<ul>
<li>表示应用程序定义的“天”。</li>
<li>设置当天不变的天气报告。</li>
<li>设置一天中不断增加的僵尸数量。</li>
</ul>
<p>要使用这所有，请创建第二个文件：</p>
<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nx">com</span><span class="p">.</span><span class="nx">opensource</span><span class="p">.</span><span class="nx">example</span><span class="p">;</span>

<span class="nx">public</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nx">Example</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">public</span><span class="w"> </span><span class="nx">static</span><span class="w"> </span><span class="nx">void</span><span class="w"> </span><span class="nx">main</span><span class="p">(</span><span class="nx">String</span><span class="p">[]</span><span class="w"> </span><span class="nx">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">Day</span><span class="w"> </span><span class="nx">myDay</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">new</span><span class="w"> </span><span class="nx">Day</span><span class="p">();</span>
<span class="w">    </span><span class="nx">String</span><span class="w"> </span><span class="nx">foo</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">myDay</span><span class="p">.</span><span class="nx">report</span><span class="p">();</span>
<span class="w">    </span><span class="nx">String</span><span class="w"> </span><span class="nx">bar</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">myDay</span><span class="p">.</span><span class="nx">report</span><span class="p">();</span>

<span class="w">    </span><span class="nx">System</span><span class="p">.</span><span class="nx">out</span><span class="p">.</span><span class="nx">printf</span><span class="p">(</span><span class="s">&quot;Welcome to a zombie %s\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">foo</span><span class="p">);</span>
<span class="w">    </span><span class="nx">System</span><span class="p">.</span><span class="nx">out</span><span class="p">.</span><span class="nx">printf</span><span class="p">(</span><span class="s">&quot;Welcome to a zombie %s\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">bar</span><span class="p">);</span>
<span class="w">    </span><span class="nx">System</span><span class="p">.</span><span class="nx">out</span><span class="p">.</span><span class="nx">printf</span><span class="p">(</span><span class="s">&quot;There are %d zombies out today.\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">myDay</span><span class="p">.</span><span class="nx">counter</span><span class="p">());</span>
<span class="w">    </span><span class="nx">System</span><span class="p">.</span><span class="nx">out</span><span class="p">.</span><span class="nx">printf</span><span class="p">(</span><span class="s">&quot;UPDATE: %d zombies. &quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">myDay</span><span class="p">.</span><span class="nx">counter</span><span class="p">());</span>
<span class="w">    </span><span class="nx">System</span><span class="p">.</span><span class="nx">out</span><span class="p">.</span><span class="nx">printf</span><span class="p">(</span><span class="s">&quot;UPDATE: %d zombies. &quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">myDay</span><span class="p">.</span><span class="nx">counter</span><span class="p">());</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p>因为现在有两个文件，所以使用 Java IDE 运行代码是最简单的，但是如果不想使用 IDE，可以创建自己的 <a href="https://opensource.com/article/21/8/fastjar">JAR 文件</a>。运行代码以查看结果：</p>
<div class="highlight"><pre><span></span><code>Welcome to a zombie apocalypse
Welcome to a zombie apocalypse
There are 35 zombies out today.
UPDATE: 67 zombies. UPDATE: 149 zombies.
</code></pre></div>

<p>无论调用 <code>report</code> 方法多少次，<code>weather</code> 都保持不变，但调用 <code>counter</code> 方法的次数越多，僵尸的数量就会增加。</p>
<h3>Java 方法</h3>
<p>方法（或函数）是编程中的重要组成。在 Java 中，你可以将它们作为函数式编程的单个类的一部分使用，也可以在面向对象编程的类之间使用它们。两种类型的编程对于解决同一个问题有不同的视角，因此没有对与错之分。通过反复尝试，积累一点经验，你会知道哪一个最适合某个特定的问题。</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>