<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>'Rust 基础系列 #6: 条件语句'</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Author: Pratham Patel 在 上一篇文章 中，你学习了函数。在这篇文章中，我们将学习使用条件语句来管理 Rust 程序的控制流。 什么是条件语句 …" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">linux_cn</a></h1>
                <nav><ul>
                    <li><a href="/category/chuan-shan-jia-zhuan-fang">穿山甲专访</a></li>
                    <li><a href="/category/dai-ma-ying-xiong">代码英雄</a></li>
                    <li><a href="/category/fen-xiang">分享</a></li>
                    <li><a href="/category/guan-dian">观点</a></li>
                    <li><a href="/category/huo-dong">活动</a></li>
                    <li><a href="/category/ji-ke-man-hua">极客漫画</a></li>
                    <li><a href="/category/ji-zhu">技术</a></li>
                    <li><a href="/category/kai-yuan-zhi-hui">开源智慧</a></li>
                    <li><a href="/category/linux-fa-xing-ban">Linux 发行版</a></li>
                    <li><a href="/category/mei-ri-an-quan-zi-xun">每日安全资讯</a></li>
                    <li><a href="/category/misc">Misc</a></li>
                    <li><a href="/category/qu-kuai-lian">区块链</a></li>
                    <li><a href="/category/rong-qi-yu-yun">容器与云</a></li>
                    <li class="active"><a href="/category/ruan-jian-kai-fa">软件开发</a></li>
                    <li><a href="/category/shu-mei-pai">树莓派</a></li>
                    <li><a href="/category/xi-tong-yun-wei">系统运维</a></li>
                    <li><a href="/category/xin-wen">新闻</a></li>
                    <li><a href="/category/ying-he-guan-cha">硬核观察</a></li>
                    <li><a href="/category/zhi-ye-sheng-ya">职业生涯</a></li>
                    <li><a href="/category/zhong-jiang-ming-dan">中奖名单</a></li>
                    <li><a href="/category/zhuo-mian-ying-yong">桌面应用</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2023/06/rust-ji-chu-xi-lie-6-tiao-jian-yu-ju.html" rel="bookmark"
           title="Permalink to 'Rust 基础系列 #6: 条件语句'">'Rust 基础系列 #6: 条件语句'</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2023-06-11T09:49:25+02:00">
                Published: Sun 11 June 2023
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/linux-fans-from-china.html">linux fans from china</a>
        </address>
<p>In <a href="/category/ruan-jian-kai-fa">软件开发</a>.</p>

</footer><!-- /.post-info -->      <p>Author: Pratham Patel</p>
<p><img alt="" src="/data/attachment/album/202306/11/094832bkkbs7oxntx7zxas.jpg"></p>
<p>在 <a href="/article-15855-1.html">上一篇文章</a> 中，你学习了函数。在这篇文章中，我们将学习使用条件语句来管理 Rust 程序的控制流。</p>
<h3>什么是条件语句？</h3>
<p>在编写代码的时候，最常见的任务之一就是检查某些条件是否为 <code>true</code> 或 <code>false</code>。“如果温度高于 35°C，打开空调。”</p>
<p>通过使用 <code>if</code> 和 <code>else</code> 这样的关键字（有时候结合使用），程序员可以根据条件（例如提供的参数数量、从命令行传递的选项、文件名、错误发生等）改变程序的行为。</p>
<p>所以，对一个程序员来说，了解任何语言的控制流都是至关重要的，更不用说 Rust 了。</p>
<h4>条件运算符</h4>
<p>下表列出了所有常用的单个条件运算符：</p>
<table>
<thead>
<tr>
<th>运算符</th>
<th>示例</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&gt;</code></td>
<td><code>a &gt; b</code></td>
<td><code>a</code> <strong>大于</strong> <code>b</code></td>
</tr>
<tr>
<td><code>&lt;</code></td>
<td><code>a &lt; b</code></td>
<td><code>a</code> <strong>小于</strong> <code>b</code></td>
</tr>
<tr>
<td><code>==</code></td>
<td><code>a == b</code></td>
<td><code>a</code> <strong>等于</strong> <code>b</code></td>
</tr>
<tr>
<td><code>!=</code></td>
<td><code>a != b</code></td>
<td><code>a</code> <strong>不等于</strong> <code>b</code></td>
</tr>
<tr>
<td><code>&gt;=</code></td>
<td><code>a &gt;= b</code></td>
<td><code>a</code> <strong>大于</strong> 或 <strong>等于</strong> <code>b</code></td>
</tr>
<tr>
<td><code>&lt;=</code></td>
<td><code>a &lt;= b</code></td>
<td><code>a</code> <strong>小于</strong> 或 <strong>等于</strong> <code>b</code></td>
</tr>
</tbody>
</table>
<p>以及下表是逻辑运算符，它们用于一个或多个条件之间：</p>
<table>
<thead>
<tr>
<th>运算符</th>
<th>示例</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>||</code> （逻辑或）</td>
<td><code>条件1 || 条件2</code></td>
<td><code>条件1</code> 或 <code>条件2</code> 中至少有一个为 <code>true</code></td>
</tr>
<tr>
<td><code>&amp;&amp;</code> （逻辑与）</td>
<td><code>条件1 &amp;&amp; 条件2</code></td>
<td><strong>所有</strong> 条件都为 <code>true</code></td>
</tr>
<tr>
<td><code>!</code> （逻辑非）</td>
<td><code>!条件</code></td>
<td><code>条件</code> 的布尔值的相反值</td>
</tr>
</tbody>
</table>
<blockquote>
<p>? 与数学相似，你可以使用圆括号来指定操作的优先级。</p>
</blockquote>
<h3>使用 if else</h3>
<p>要控制 Rust 代码的基本流程，使用两个关键字：<code>if</code> 和 <code>else</code>。这可以根据提供的条件的状态创建两个“执行路径”。</p>
<p>一个简单的带有替代执行路径的 if 块的语法如下：</p>
<div class="highlight"><pre><span></span><code><span class="k">if</span><span class="w"> </span>条件<span class="w"> </span>{
<span class="w">    </span><span class="o">&lt;</span>语句<span class="o">&gt;</span><span class="c1">;</span>
}<span class="w"> </span><span class="k">else</span><span class="w"> </span>{
<span class="w">    </span><span class="o">&lt;</span>语句<span class="o">&gt;</span><span class="c1">;</span>
}
</code></pre></div>

<blockquote>
<p>? 当只有一个条件时，将其括在圆括号中并不是强制性的。根据语法，使用圆括号是可选的。你仍然应该使用它们来指定优先级并优化可读性。</p>
</blockquote>
<p>来看看一个例子。</p>
<div class="highlight"><pre><span></span><code><span class="nv">fn</span><span class="w"> </span><span class="nv">main</span><span class="ss">()</span><span class="w"> </span>{
<span class="w">    </span><span class="nv">let</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">36</span><span class="c1">;</span>
<span class="w">    </span><span class="nv">let</span><span class="w"> </span><span class="nv">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">25</span><span class="c1">;</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nv">b</span><span class="w"> </span>{
<span class="w">        </span><span class="nv">println</span><span class="o">!</span><span class="ss">(</span><span class="s2">&quot;a 大于 b&quot;</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">    </span>}<span class="w"> </span><span class="k">else</span><span class="w"> </span>{
<span class="w">        </span><span class="nv">println</span><span class="o">!</span><span class="ss">(</span><span class="s2">&quot;b 大于 a&quot;</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">    </span>}
}
</code></pre></div>

<p>这里，我声明了两个整数变量 <code>a</code> 和 <code>b</code>，它们的值分别为 '36' 和 '25'。在第 5 行，我检查变量 <code>a</code> 中存储的值是否大于变量 <code>b</code> 中存储的值。如果条件计算结果为 <code>true</code>，则会执行第 6 行的代码。如果条件计算结果为 <code>false</code>，由于我们有一个 <code>else</code> 块（可选），第 8 行的代码将被执行。</p>
<p>来看看程序的输出。</p>
<div class="highlight"><pre><span></span><code>a 大于 b
</code></pre></div>

<p>完美！</p>
<p>来修改一下变量 <code>a</code> 的值，使其小于变量 <code>b</code> 的值，看看会发生什么。我将把 <code>a</code> 的值改为 '10'。修改后的输出如下：</p>
<div class="highlight"><pre><span></span><code>b 大于 a
</code></pre></div>

<p>但是，如果我将相同的值存储在变量 <code>a</code> 和 <code>b</code> 中呢？为了看到这一点，我将两个变量的值都设置为 '40'。修改后的输出如下：</p>
<div class="highlight"><pre><span></span><code>b 大于 a
</code></pre></div>

<p>嗯？从逻辑上讲，这没有任何意义... :frowning:</p>
<p>但是这可以改进！我们继续。</p>
<h3>使用 else if 条件</h3>
<p>与其他任何编程语言一样，你可以使用 <code>else if</code> 块来提供多于两个的执行路径。语法如下：</p>
<div class="highlight"><pre><span></span><code><span class="k">if</span><span class="w"> </span>条件<span class="w"> </span>{
<span class="w">    </span><span class="o">&lt;</span>语句<span class="o">&gt;</span><span class="c1">;</span>
}<span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span>条件<span class="w"> </span>{
<span class="w">    </span><span class="o">&lt;</span>语句<span class="o">&gt;</span><span class="c1">;</span>
}<span class="w"> </span><span class="k">else</span><span class="w"> </span>{
<span class="w">    </span><span class="o">&lt;</span>语句<span class="o">&gt;</span><span class="c1">;</span>
}
</code></pre></div>

<p>现在，通过使用 <code>else if</code> 块，我可以改进程序的逻辑。下面是修改后的程序。</p>
<div class="highlight"><pre><span></span><code><span class="nv">fn</span><span class="w"> </span><span class="nv">main</span><span class="ss">()</span><span class="w"> </span>{
<span class="w">    </span><span class="nv">let</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">40</span><span class="c1">;</span>
<span class="w">    </span><span class="nv">let</span><span class="w"> </span><span class="nv">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">40</span><span class="c1">;</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">b</span><span class="w"> </span>{
<span class="w">        </span><span class="nv">println</span><span class="o">!</span><span class="ss">(</span><span class="s2">&quot;a 与 b 是相等的&quot;</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">    </span>}<span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nv">b</span><span class="w"> </span>{
<span class="w">        </span><span class="nv">println</span><span class="o">!</span><span class="ss">(</span><span class="s2">&quot;a 大于 b&quot;</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">    </span>}<span class="w"> </span><span class="k">else</span><span class="w"> </span>{
<span class="w">        </span><span class="nv">println</span><span class="o">!</span><span class="ss">(</span><span class="s2">&quot;b 大于 a&quot;</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">    </span>}
}
</code></pre></div>

<p>现在，我的程序的逻辑是正确的。它已经处理了所有的边缘情况（我能想到的）。第 5 行处理了 <code>a</code> 等于 <code>b</code> 的情况。第 7 行处理了 <code>a</code> 可能大于 <code>b</code> 的情况。而 <code>a</code> 小于 <code>b</code> 的情况则由第 9 行的 <code>else</code> 块隐式处理。</p>
<p>现在，当我运行这段代码时，我得到了以下输出：</p>
<div class="highlight"><pre><span></span><code>a 与 b 是相等的
</code></pre></div>

<p>现在这就完美了！</p>
<h3>示例：找到最大值</h3>
<p>我知道使用 <code>if</code> 和 <code>else</code> 很容易，但是让我们再看一个程序。这次，我们来比较三个数字。我还将在这个实例中使用逻辑运算符！</p>
<div class="highlight"><pre><span></span><code><span class="nv">fn</span><span class="w"> </span><span class="nv">main</span><span class="ss">()</span><span class="w"> </span>{
<span class="w">    </span><span class="nv">let</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">73</span><span class="c1">;</span>
<span class="w">    </span><span class="nv">let</span><span class="w"> </span><span class="nv">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">56</span><span class="c1">;</span>
<span class="w">    </span><span class="nv">let</span><span class="w"> </span><span class="nv">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">15</span><span class="c1">;</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">a</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nv">b</span><span class="ss">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="ss">(</span><span class="nv">a</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nv">c</span><span class="ss">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="ss">(</span><span class="nv">b</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nv">c</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">a</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nv">b</span><span class="ss">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="ss">(</span><span class="nv">a</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nv">c</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">            </span><span class="nv">println</span><span class="o">!</span><span class="ss">(</span><span class="s2">&quot;a 是最大的&quot;</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">        </span>}<span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">b</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nv">a</span><span class="ss">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="ss">(</span><span class="nv">b</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nv">c</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">            </span><span class="nv">println</span><span class="o">!</span><span class="ss">(</span><span class="s2">&quot;b 是最大的&quot;</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">        </span>}<span class="w"> </span><span class="k">else</span><span class="w"> </span>{
<span class="w">            </span><span class="nv">println</span><span class="o">!</span><span class="ss">(</span><span class="s2">&quot;c 是最大的&quot;</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">        </span>}
<span class="w">    </span>}
}
</code></pre></div>

<p>这个程序第一眼看上去可能很复杂，但是不要害怕，我会解释的！</p>
<p>最开始，我声明了三个变量 <code>a</code>、<code>b</code> 和 <code>c</code>，并赋予了我能想到的随机值。然后，在第 6 行，我检查了没有变量的值与其他变量相同的条件。首先，我检查 <code>a</code> 和 <code>b</code> 的值，然后是 <code>a</code> 和 <code>c</code>，最后是 <code>b</code> 和 <code>c</code>。这样我就可以确定没有变量中存储了重复的值。</p>
<p>然后，在第 7 行，我检查了变量 <code>a</code> 中存储的值是否是最大的。如果这个条件计算结果为 <code>true</code>，则会执行第 8 行的代码。否则，将检查第 9 行的执行路径。</p>
<p>在第 9 行，我检查了变量 <code>b</code> 中存储的值是否是最大的。如果这个条件计算结果为 <code>true</code>，则会执行第 10 行的代码。如果这个条件也是 <code>false</code>，那么只有一种可能。3 个变量中的最大值既不是 <code>a</code> 也不是 <code>b</code>。</p>
<p>所以，自然地，在 <code>else</code> 块中，我打印出变量 <code>c</code> 拥有最大值。</p>
<p>来看看程序的输出：</p>
<div class="highlight"><pre><span></span><code>a 是最大的
</code></pre></div>

<p>这是预期的结果。尝试修改分配给每个变量的值，并自己测试一下！ :smiley:</p>
<h3>总结</h3>
<p>你学习到了如何使用 <code>if</code> 和 <code>else</code> 语句。在你继续使用大量 <code>if</code> <code>else if</code> 语句制作自己的 AI 之前（哈哈），让我们在本系列的下一篇文章中学习 Rust 中的循环。</p>
<p>持续关注。</p>
<p><em>（题图：MJ/3eea3bbb-b630-4470-ae21-391ab86cd5bf）</em></p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>