<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>BASIC 与 FORTRAN 77：比较过去的编程语言</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Author: Jim Hall 如果你和我一样，在 20 世纪七八十年代使用计算机长大，你可能学过一种常见的个人计算机编程语言，名为 BASIC（全称 …" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">linux_cn</a></h1>
                <nav><ul>
                    <li><a href="/category/chuan-shan-jia-zhuan-fang">穿山甲专访</a></li>
                    <li><a href="/category/dai-ma-ying-xiong">代码英雄</a></li>
                    <li><a href="/category/fen-xiang">分享</a></li>
                    <li><a href="/category/guan-dian">观点</a></li>
                    <li><a href="/category/huo-dong">活动</a></li>
                    <li><a href="/category/ji-ke-man-hua">极客漫画</a></li>
                    <li><a href="/category/ji-zhu">技术</a></li>
                    <li><a href="/category/kai-yuan-zhi-hui">开源智慧</a></li>
                    <li><a href="/category/linux-fa-xing-ban">Linux 发行版</a></li>
                    <li><a href="/category/mei-ri-an-quan-zi-xun">每日安全资讯</a></li>
                    <li><a href="/category/misc">Misc</a></li>
                    <li><a href="/category/qu-kuai-lian">区块链</a></li>
                    <li><a href="/category/rong-qi-yu-yun">容器与云</a></li>
                    <li class="active"><a href="/category/ruan-jian-kai-fa">软件开发</a></li>
                    <li><a href="/category/shu-mei-pai">树莓派</a></li>
                    <li><a href="/category/xi-tong-yun-wei">系统运维</a></li>
                    <li><a href="/category/xin-wen">新闻</a></li>
                    <li><a href="/category/ying-he-guan-cha">硬核观察</a></li>
                    <li><a href="/category/zhi-ye-sheng-ya">职业生涯</a></li>
                    <li><a href="/category/zhong-jiang-ming-dan">中奖名单</a></li>
                    <li><a href="/category/zhuo-mian-ying-yong">桌面应用</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2023/06/basic-yu-fortran-77bi-jiao-guo-qu-de-bian-cheng-yu-yan.html" rel="bookmark"
           title="Permalink to BASIC 与 FORTRAN 77：比较过去的编程语言">BASIC 与 FORTRAN 77：比较过去的编程语言</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2023-06-11T11:07:52+02:00">
                Published: Sun 11 June 2023
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/linux-fans-from-china.html">linux fans from china</a>
        </address>
<p>In <a href="/category/ruan-jian-kai-fa">软件开发</a>.</p>

</footer><!-- /.post-info -->      <p>Author: Jim Hall</p>
<p>如果你和我一样，在 20 世纪七八十年代使用计算机长大，你可能学过一种常见的个人计算机编程语言，名为 BASIC（全称是 “<ruby> 初学者的通用符号指令代码 <rt>  Beginner's All-purpose Symbolic Instruction Code </rt></ruby>”）。那个时期，包括 TRS-80、Apple II 和 IBM PC 在内的每台个人计算机都可以找到 BASIC 实现。当时，我是一个自学的 BASIC 程序员，在尝试了 Apple II 上的 AppleSoft BASIC 后，转向 IBM PC 上的 GW-BASIC，后来在 DOS 上学习了 QuickBASIC。<img alt="" src="/data/attachment/album/202306/11/110557i6ef2ep92petw2d1.jpg"></p>
<blockquote>
<p>我通过编写一个示例程序来探索 BASIC 和 FORTRAN 77 中的 FOR 循环，以将数字列表从 1 加到 10。</p>
</blockquote>
<p>但是曾经，一种在科学编程领域受欢迎的语言是 FORTRAN（即 “<ruby> 公式翻译 <rt>  FORmula TRANslation </rt></ruby>”）。尽管在 1990 年对该语言进行的规范以后，该名称更常见的风格是 “Fortran”。</p>
<p>当我在 1990 年代初作为大学本科物理学生学习物理学时，我利用自己在 BASIC 上的经验学习了 FORTRAN 77。那时我意识到 BASIC 许多概念都来源于 FORTRAN。当然，FORTRAN 和 BASIC 在很多其他方面也存在差异，但我发现了解一点 BASIC 可以帮助我快速学习 FORTRAN 编程。</p>
<p>我想通过使用两种语言编写相同的程序，展示它们之间的一些相似之处。通过编写一个示例程序来探索 BASIC 和 FORTRAN 77 中的 <code>FOR</code> 循环，这个程序将把 1 到 10 之间的数字相加。</p>
<h3>Bywater BASIC</h3>
<p>BASIC 存在许多种不同的版本，这取决于你的计算机，但该语言总体保持不变。我喜欢的一种 BASIC 版本是 <a href="https://sourceforge.net/projects/bwbasic/">Bywater BASIC</a>，这是一种开源的 BASIC 实现，适用于包括 Linux 和 DOS 在内的不同平台。</p>
<p>要在 FreeDOS 上使用 Bywater BASIC，你必须首先从 FreeDOS 1.3 Bonus CD 中 <a href="https://opensource.com/article/21/6/freedos-package-manager">安装该软件包</a>。然后进入 <code>C:</code> 目录并输入 <code>bwbasic</code> 命令，这将启动 BASIC 解释器。你可以在这个提示符下输入程序：</p>
<div class="highlight"><pre><span></span><code>bwBASIC:
</code></pre></div>

<p>Bywater BASIC 使用较早的 BASIC 编程标准，需要你在每个程序指令上编写一个行号。将行号视为索引。你可以使用行号轻松地引用程序中的任何指令。当你将程序键入 Bywater BASIC 解释器时，请在每个指令前添加行号：</p>
<div class="highlight"><pre><span></span><code><span class="n">bwBASIC</span><span class="o">:</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="n">print</span><span class="w"> </span><span class="s2">&quot;Add the numbers from 1 to 10 ...&quot;</span>
<span class="n">bwBASIC</span><span class="o">:</span><span class="w"> </span><span class="mi">20</span><span class="w"> </span><span class="n">sum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
<span class="n">bwBASIC</span><span class="o">:</span><span class="w"> </span><span class="mi">30</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mi">10</span>
<span class="n">bwBASIC</span><span class="o">:</span><span class="w"> </span><span class="mi">40</span><span class="w"> </span><span class="n">sum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sum</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">i</span>
<span class="n">bwBASIC</span><span class="o">:</span><span class="w"> </span><span class="mi">50</span><span class="w"> </span><span class="n">next</span><span class="w"> </span><span class="n">i</span>
<span class="n">bwBASIC</span><span class="o">:</span><span class="w"> </span><span class="mi">60</span><span class="w"> </span><span class="n">print</span><span class="w"> </span><span class="n">sum</span>
<span class="n">bwBASIC</span><span class="o">:</span><span class="w"> </span><span class="mi">70</span><span class="w"> </span><span class="n">end</span>
</code></pre></div>

<p>可以使用 <code>list</code> 命令查看你已经输入到解释器中的程序：</p>
<div class="highlight"><pre><span></span><code><span class="n">bwBASIC</span><span class="o">:</span><span class="w"> </span><span class="n">list</span>
<span class="mi">10</span><span class="w"> </span><span class="n">print</span><span class="w"> </span><span class="s2">&quot;Add the numbers from 1 to 10 ...&quot;</span>
<span class="mi">20</span><span class="w"> </span><span class="n">sum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
<span class="mi">30</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mi">10</span>
<span class="mi">40</span><span class="w"> </span><span class="n">sum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sum</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">i</span>
<span class="mi">50</span><span class="w"> </span><span class="n">next</span><span class="w"> </span><span class="n">i</span>
<span class="mi">60</span><span class="w"> </span><span class="n">print</span><span class="w"> </span><span class="n">sum</span>
<span class="mi">70</span><span class="w"> </span><span class="n">end</span>
</code></pre></div>

<p>这个简短的程序演示了 BASIC 中的 <code>FOR</code> 循环。 <code>FOR</code> 是任何编程语言中最基本的循环构造，允许你迭代一组值。在 Bywater BASIC 中，<code>FOR</code> 循环的一般语法看起来像这样：</p>
<div class="highlight"><pre><span></span><code><span class="k">FOR</span><span class="w"> </span>变量<span class="w"> </span><span class="o">=</span><span class="w"> </span>起始值<span class="w"> </span><span class="nv">TO</span><span class="w"> </span>终止值
</code></pre></div>

<p>在这个示例程序中，指令 <code>for i = 1 to 10</code> 开始一个循环，迭代值为 1 到 10。在每个循环中，变量 <code>i</code> 被设置为新值。</p>
<p>在 BASIC 中，所有到 <code>next</code> 指令前的指令都将作为 <code>FOR</code> 循环的一部分执行。因为你可以将一个 <code>FOR</code> 循环放入另一个 <code>FOR</code> 循环中，Bywater BASIC 使用语法 <code>NEXT 变量</code> 来指定要迭代的循环变量。</p>
<p>在提示符下键入 <code>run</code> 来执行程序：</p>
<div class="highlight"><pre><span></span><code><span class="n">bwBASIC</span><span class="o">:</span><span class="w"> </span><span class="n">run</span>
<span class="n">Add</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">numbers</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="o">...</span>
<span class="mi">55</span>
</code></pre></div>

<p>Bywater BASIC 被称为 BASIC 解释器，因为只能从 Bywater BASIC 环境中运行程序。这意味着解释器会处理与操作系统的交互的所有繁重工作，因此你的程序不需要自己完成这个工作。 这样做的代价是，程序在解释环境中运行会比它作为编译程序运行慢一些。</p>
<h3>FreeBASIC</h3>
<p>另一个流行的 BASIC 实现是 <a href="https://www.freebasic.net/">FreeBASIC</a>，这是一个开源的 BASIC 编译器，适用于多个平台，包括 Linux 和 DOS。要使用 FreeBASIC，你需要从 FreeDOS 1.3 Bonus CD 安装 FreeBASIC 包，然后进入 <code>C:</code> 目录，你会在这里找到 FreeBASIC 程序。</p>
<p>FreeBASIC 是一个编译器，因此你首先需要创建一个包含程序指令的源文件，然后使用源代码运行编译器以创建一个可运行的程序。我编写了一个类似于“将 1 到 10 的数字相加”的程序版本，将其保存为 BASIC 文件，并命名为 <code>sum.bas</code>：</p>
<div class="highlight"><pre><span></span><code><span class="nv">dim</span><span class="w"> </span><span class="nv">sum</span><span class="w"> </span><span class="nv">as</span><span class="w"> </span><span class="nv">integer</span>
<span class="nv">dim</span><span class="w"> </span><span class="nv">i</span><span class="w"> </span><span class="nv">as</span><span class="w"> </span><span class="nv">integer</span>
<span class="nv">print</span><span class="w"> </span><span class="s2">&quot;Add the numbers from 1 to 10 ...&quot;</span>
<span class="nv">sum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
<span class="k">for</span><span class="w"> </span><span class="nv">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="mi">10</span>
<span class="nv">sum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">sum</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">i</span>
<span class="k">next</span>
<span class="nv">print</span><span class="w"> </span><span class="nv">sum</span>
<span class="k">end</span>
</code></pre></div>

<p>如果你将这段代码与 Bywater BASIC 版本的程序进行比较，你可能会注意到 FreeBASIC 不需要行号。FreeBASIC 实现了一种更现代的 BASIC 版本，使得编写程序时不需要跟踪行号更容易。</p>
<p>另一个主要的区别是你必须在源代码中定义或声明变量。使用 <code>DIM</code> 指令在 FreeBASIC 中声明变量，例如 <code>dim sum as integer</code>，以定义一个名为 <code>sum</code> 的整数变量。</p>
<p>现在可以在命令行上使用 <code>fbc</code> 编译 BASIC 程序：</p>
<div class="highlight"><pre><span></span><code>C:\DEVEL\FBC&gt; fbc sum.bas
</code></pre></div>

<p>如果你的代码没有任何错误，编译器将生成一个可以运行的程序。例如，我的程序现在称为 <code>sum</code>。运行我的程序将从 1 加到 10：</p>
<div class="highlight"><pre><span></span><code>C:\DEVEL\FBC&gt; sum
Add the numbers from 1 to 10 ...
55
</code></pre></div>

<h3>FORTRAN 77</h3>
<p>FORTRAN 编程语言类似于旧式和现代 BASIC 之间的混合体。FORTRAN 比 BASIC 更早出现，而 BASIC 显然从 FORTRAN 中汲取灵感，就像后来的 FORTRAN 版本从 BASIC 中获得启示一样。你可以将 FORTRAN 程序以源代码的形式写成文件，但并不需要在每个地方使用行号。但是，FORTRAN 77 在某些指令中使用行号（称为标签），包括 <code>FOR</code> 循环。在 FORTRAN 77 中，<code>FOR</code> 实际上被称为 <code>DO</code> 循环，它执行相同的功能并具有几乎相同的用法。</p>
<p>在 FORTRAN 77 中，<code>DO</code> 循环的语法如下：</p>
<div class="highlight"><pre><span></span><code><span class="k">DO</span><span class="w"> </span>行号<span class="w"> </span>变量<span class="w"> </span><span class="o">=</span><span class="w"> </span>起始值,<span class="w"> </span>终止值
</code></pre></div>

<p>这种情况是需要行号来指示 <code>DO</code> 循环结束位置的一种情况。你在 BASIC 中使用了 <code>NEXT</code> 指令，但 FORTRAN 需要一个行标签。通常，该行是一个 <code>CONTINUE</code> 指令。</p>
<p>查看这个示例 FORTRAN 程序，了解如何使用 <code>DO</code> 循环来循环一组数字。我将此源文件保存为 <code>sum.f</code>：</p>
<div class="highlight"><pre><span></span><code><span class="n">PROGRAM</span> <span class="n">MAIN</span>
      <span class="kt">INTEGER</span> <span class="n">SUM</span><span class="p">,</span><span class="n">I</span>
      <span class="n">PRINT</span> <span class="o">*</span><span class="p">,</span> <span class="s">&#39;ADD THE NUMBERS FROM 1 TO 10 ...&#39;</span>
      <span class="n">SUM</span> <span class="o">=</span> <span class="mi">0</span>
      <span class="kr">DO</span> <span class="mi">10</span> <span class="n">I</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10</span>
        <span class="n">SUM</span> <span class="o">=</span> <span class="n">SUM</span> <span class="o">+</span> <span class="n">I</span>
   <span class="mi">10</span> <span class="n">CONTINUE</span>
      <span class="n">PRINT</span> <span class="o">*</span><span class="p">,</span> <span class="n">SUM</span>
      <span class="kr">END</span>
</code></pre></div>

<p>在 FORTRAN 中，每个程序都需要以 <code>PROGRAM</code> 指令开始，并指定程序名称。你可能会将此程序命名为 <code>SUM</code>，但随后在程序中不能使用变量 <code>SUM</code>。当我学习 FORTRAN 时，我从 C 编程中借鉴了一些东西，并以 <code>PROGRAM MAIN</code> 开始了我的所有 FORTRAN 程序，做法类似于 C 程序中的 <code>main()</code> 函数，因为我不太可能使用名为 <code>MAIN</code> 的变量。</p>
<p>FORTRAN 中的 <code>DO</code> 循环类似于 BASIC 中的 <code>FOR</code> 循环。它迭代从 1 到 10 的值。变量 <code>I</code> 在每次循环中获取新值。这样可以将 1 到 10 的每个数字相加，并在完成时打印总和。</p>
<p>你可以在每个平台上找到适合的 FORTRAN 编译器，包括 Linux 和 DOS。FreeDOS 1.3 的 Bonus CD 中包括 OpenWatcom FORTRAN 编译器。在 Linux 上，你可能需要安装一个包来安装 GNU Fortran 支持（在 GNU 编译器集合（GCC）中）。在 Fedora Linux 上，你可以使用以下命令添加 GNU Fortran 支持：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>sudo<span class="w"> </span>dnf<span class="w"> </span>install<span class="w"> </span>gcc-gfortran
</code></pre></div>

<p>然后你可以使用以下命令编译 <code>sum.f</code> 并运行程序：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>gfortran<span class="w"> </span>-o<span class="w"> </span>sum<span class="w"> </span>sum.f
$<span class="w"> </span>./sum
ADD<span class="w"> </span>THE<span class="w"> </span>NUMBERS<span class="w"> </span>FROM<span class="w"> </span><span class="m">1</span><span class="w"> </span>TO<span class="w"> </span><span class="m">10</span><span class="w"> </span>...
<span class="m">55</span>
</code></pre></div>

<h3>一点不同之处</h3>
<p>我发现 FORTRAN 和 BASIC 非常相似，但也存在一些不同之处。这些语言的核心是不同的，但如果你了解一些 BASIC，你可以学习 FORTRAN，同样，如果你了解一些 FORTRAN，你也可以学习 BASIC。</p>
<p>如果你想探索这两种语言，有几点需要注意：</p>
<ul>
<li><strong>FORTRAN 77 使用全大写</strong>，但后来的 FORTRAN 版本允许大小写混用，只要对变量、函数和子程序使用相同的大小写。大多数 BASIC 实现都不区分大小写，这意味着你可以自由地混合大小写字母。</li>
<li><strong>有许多不同版本的 BASIC</strong>，但它们通常做同样的事情。如果你学会了一种 BASIC 实现方式，很容易学会另一种。注意 BASIC 解释器或编译器的警告或错误信息，查阅手册了解差异。</li>
<li><strong>某些 BASIC 实现需要使用行号</strong>，例如 Bywater BASIC 和 GW-BASIC。更现代的 BASIC 版本允许你编写不使用行号的程序。FreeBASIC 需要使用 <code>-lang</code> 废弃选项编译带有行号的程序。</li>
</ul>
<p><em>（题图：MJ/dba28597-dd62-4ffe-bb4a-e38874a65239）</em></p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>