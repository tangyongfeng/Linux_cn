<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>在 Kali Linux 中更改 GRUB2 背景的 5 种方式</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Author: blackmoreops 这是一个关于如何在 Kali Linux 中更改 GRUB 背景的简单指南（实际上它是 Kali Linux 的 GRUB 启动图像）。 Kali 开发团队在这方面做的不多 …" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">linux_cn</a></h1>
                <nav><ul>
                    <li><a href="/category/chuan-shan-jia-zhuan-fang">穿山甲专访</a></li>
                    <li><a href="/category/dai-ma-ying-xiong">代码英雄</a></li>
                    <li><a href="/category/fen-xiang">分享</a></li>
                    <li><a href="/category/guan-dian">观点</a></li>
                    <li><a href="/category/huo-dong">活动</a></li>
                    <li><a href="/category/ji-ke-man-hua">极客漫画</a></li>
                    <li><a href="/category/ji-zhu">技术</a></li>
                    <li><a href="/category/kai-yuan-zhi-hui">开源智慧</a></li>
                    <li><a href="/category/linux-fa-xing-ban">Linux 发行版</a></li>
                    <li><a href="/category/mei-ri-an-quan-zi-xun">每日安全资讯</a></li>
                    <li><a href="/category/misc">Misc</a></li>
                    <li><a href="/category/qu-kuai-lian">区块链</a></li>
                    <li><a href="/category/rong-qi-yu-yun">容器与云</a></li>
                    <li><a href="/category/ruan-jian-kai-fa">软件开发</a></li>
                    <li><a href="/category/shu-mei-pai">树莓派</a></li>
                    <li><a href="/category/xi-tong-yun-wei">系统运维</a></li>
                    <li><a href="/category/xin-wen">新闻</a></li>
                    <li><a href="/category/ying-he-guan-cha">硬核观察</a></li>
                    <li><a href="/category/zhi-ye-sheng-ya">职业生涯</a></li>
                    <li><a href="/category/zhong-jiang-ming-dan">中奖名单</a></li>
                    <li class="active"><a href="/category/zhuo-mian-ying-yong">桌面应用</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2017/03/zai-kali-linux-zhong-geng-gai-grub2-bei-jing-de-5-chong-fang-shi.html" rel="bookmark"
           title="Permalink to 在 Kali Linux 中更改 GRUB2 背景的 5 种方式">在 Kali Linux 中更改 GRUB2 背景的 5 种方式</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2017-03-31T10:54:00+02:00">
                Published: Fri 31 March 2017
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/linux-fans-from-china.html">linux fans from china</a>
        </address>
<p>In <a href="/category/zhuo-mian-ying-yong">桌面应用</a>.</p>

</footer><!-- /.post-info -->      <p>Author: blackmoreops</p>
<p>这是一个关于如何在 Kali Linux 中更改 GRUB 背景的简单指南（实际上它是 Kali Linux 的 GRUB 启动图像）。 Kali 开发团队在这方面做的不多，他们好像太忙了，所以在这篇文章中，我会对 GRUB 解释一二，但是不会冗长到我失去写作的激情。 那么我们开始吧……</p>
<p><img alt="" src="/data/attachment/album/201703/31/110456imu6o5j330zxjuj3.jpg"></p>
<p>这通常是所有人首先会遇到的一个问题，在哪里设置？有很多方法来查找 GRUB 设置。每个人都可能有自己的方法，但我发现 <code>update-grub</code> 是最简单的。如果在 VMWare 或 VirtualBox 中执行 <code>update-grub</code>，你将看到如下所示的内容：</p>
<div class="highlight"><pre><span></span><code><span class="n">root</span><span class="nv">@kali</span><span class="err">:</span><span class="o">~</span><span class="err">#</span><span class="w"> </span><span class="k">update</span><span class="o">-</span><span class="n">grub</span>
<span class="n">Generating</span><span class="w"> </span><span class="n">grub</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="k">file</span><span class="w"> </span><span class="p">...</span>
<span class="k">Found</span><span class="w"> </span><span class="n">background</span><span class="w"> </span><span class="nc">image</span><span class="err">:</span><span class="w"> </span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">images</span><span class="o">/</span><span class="n">desktop</span><span class="o">-</span><span class="n">base</span><span class="o">/</span><span class="n">desktop</span><span class="o">-</span><span class="n">grub</span><span class="p">.</span><span class="n">png</span>
<span class="k">Found</span><span class="w"> </span><span class="n">linux</span><span class="w"> </span><span class="nc">image</span><span class="err">:</span><span class="w"> </span><span class="o">/</span><span class="n">boot</span><span class="o">/</span><span class="n">vmlinuz</span><span class="o">-</span><span class="mf">4.0.0</span><span class="o">-</span><span class="n">kali1</span><span class="o">-</span><span class="n">amd64</span>
<span class="k">Found</span><span class="w"> </span><span class="n">initrd</span><span class="w"> </span><span class="nc">image</span><span class="err">:</span><span class="w"> </span><span class="o">/</span><span class="n">boot</span><span class="o">/</span><span class="n">initrd</span><span class="p">.</span><span class="n">img</span><span class="o">-</span><span class="mf">4.0.0</span><span class="o">-</span><span class="n">kali1</span><span class="o">-</span><span class="n">amd64</span>
<span class="w">  </span><span class="k">No</span><span class="w"> </span><span class="n">volume</span><span class="w"> </span><span class="n">groups</span><span class="w"> </span><span class="k">found</span>
<span class="n">done</span>
<span class="n">root</span><span class="nv">@kali</span><span class="err">:</span><span class="o">~</span><span class="err">#</span>
</code></pre></div>

<p>如果您是双系统，或者三系统，那么您将看到 GRUB 以及其他操作系统入口。然而，我们感兴趣的部分是背景图像，这是在我这里看到的（你会看到完全相同的内容）：</p>
<div class="highlight"><pre><span></span><code>Found background image: /usr/share/images/desktop-base/desktop-grub.png
</code></pre></div>

<h3>GRUB 启动图像搜索顺序</h3>
<p>在 grub-2.02 中，对基于 Debian 的系统来说，它将按照以下顺序搜索启动背景：</p>
<ol>
<li><code>/etc/default/grub</code> 里的 <code>GRUB_BACKGROUND</code> 行</li>
<li>在 <code>/boot/grub/</code> 里找到的第一个图像（如果发现多张，将以字母顺序排序）</li>
<li>在 <code>/usr/share/desktop-base/grub_background.sh</code> 中指定的</li>
<li>在 <code>/etc/grub.d/05_debian_theme</code> 里 <code>WALLPAPER</code> 行列出的</li>
</ol>
<p>现在将此信息留在这里，我们会尽快重新检查它。</p>
<h3>Kali Linux GRUB 启动图像</h3>
<p>在我使用 Kali Linux 时（因为我喜欢用它做事），会发现 Kali 正在使用这里的背景图像：<code>/usr/share/images/desktop-base/desktop-grub.png</code></p>
<p>为了确定，我们来检查一下这个 <code>.png</code> 文件的属性。</p>
<div class="highlight"><pre><span></span><code><span class="n">root</span><span class="nv">@kali</span><span class="err">:</span><span class="o">~</span><span class="err">#</span><span class="w"> </span>
<span class="n">root</span><span class="nv">@kali</span><span class="err">:</span><span class="o">~</span><span class="err">#</span><span class="w"> </span><span class="n">ls</span><span class="w"> </span><span class="o">-</span><span class="n">l</span><span class="w"> </span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">images</span><span class="o">/</span><span class="n">desktop</span><span class="o">-</span><span class="n">base</span><span class="o">/</span><span class="n">desktop</span><span class="o">-</span><span class="n">grub</span><span class="p">.</span><span class="n">png</span>
<span class="n">lrwxrwxrwx</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="mi">30</span><span class="w"> </span><span class="n">Oct</span><span class="w">  </span><span class="mi">8</span><span class="w"> </span><span class="mi">00</span><span class="err">:</span><span class="mi">31</span><span class="w"> </span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">images</span><span class="o">/</span><span class="n">desktop</span><span class="o">-</span><span class="n">base</span><span class="o">/</span><span class="n">desktop</span><span class="o">-</span><span class="n">grub</span><span class="p">.</span><span class="n">png</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">alternatives</span><span class="o">/</span><span class="n">desktop</span><span class="o">-</span><span class="n">grub</span>
<span class="n">root</span><span class="nv">@kali</span><span class="err">:</span><span class="o">~</span><span class="err">#</span>
</code></pre></div>

<p><img alt="Change GRUB background in Kali Linux - blackMORE OPs -1" src="/data/attachment/album/201703/31/105404dzss12r5gj82yssr.jpg"></p>
<p>什么？它只是 <code>/etc/alternatives/desktop-grub</code> 的一个符号链接？ 但是 <code>/etc/alternatives/desktop-grub</code> 不是图片文件。看来我也要检查一下它的属性。</p>
<div class="highlight"><pre><span></span><code><span class="n">root</span><span class="nv">@kali</span><span class="err">:</span><span class="o">~</span><span class="err">#</span><span class="w"> </span>
<span class="n">root</span><span class="nv">@kali</span><span class="err">:</span><span class="o">~</span><span class="err">#</span><span class="w"> </span><span class="n">ls</span><span class="w"> </span><span class="o">-</span><span class="n">l</span><span class="w"> </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">alternatives</span><span class="o">/</span><span class="n">desktop</span><span class="o">-</span><span class="n">grub</span>
<span class="n">lrwxrwxrwx</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="mi">44</span><span class="w"> </span><span class="n">Oct</span><span class="w">  </span><span class="mi">8</span><span class="w"> </span><span class="mi">00</span><span class="err">:</span><span class="mi">27</span><span class="w"> </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">alternatives</span><span class="o">/</span><span class="n">desktop</span><span class="o">-</span><span class="n">grub</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">images</span><span class="o">/</span><span class="n">desktop</span><span class="o">-</span><span class="n">base</span><span class="o">/</span><span class="n">kali</span><span class="o">-</span><span class="n">grub</span><span class="p">.</span><span class="n">png</span>
<span class="n">root</span><span class="nv">@kali</span><span class="err">:</span><span class="o">~</span><span class="err">#</span><span class="w"> </span>
</code></pre></div>

<p><img alt="Change GRUB background in Kali Linux - blackMORE OPs -3" src="/data/attachment/album/201703/31/105405el6vrxgjw98ajuac.jpg"></p>
<p>好吧，真让人费解。 <code>/etc/alternatives/desktop-grub</code> 也是一个符号链接，它指向 <code>/usr/share/images/desktop-base/kali-grub.png</code>，来自最初同样的文件夹。呃！ 无语。 但是现在我们至少可以替换该文件并将其解决。</p>
<p>在替换之前，我们需要检查 <code>/usr/share/images/desktop-base/kali-grub.png</code> 的属性，以确保下载相同类型和大小的文件。</p>
<div class="highlight"><pre><span></span><code><span class="n">root</span><span class="nv">@kali</span><span class="err">:</span><span class="o">~</span><span class="err">#</span><span class="w"> </span>
<span class="n">root</span><span class="nv">@kali</span><span class="err">:</span><span class="o">~</span><span class="err">#</span><span class="w"> </span><span class="k">file</span><span class="w"> </span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">images</span><span class="o">/</span><span class="n">desktop</span><span class="o">-</span><span class="n">base</span><span class="o">/</span><span class="n">kali</span><span class="o">-</span><span class="n">grub</span><span class="p">.</span><span class="n">png</span>
<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">images</span><span class="o">/</span><span class="n">desktop</span><span class="o">-</span><span class="n">base</span><span class="o">/</span><span class="n">kali</span><span class="o">-</span><span class="n">grub</span><span class="p">.</span><span class="nl">png</span><span class="p">:</span><span class="w"> </span><span class="n">PNG</span><span class="w"> </span><span class="nc">image</span><span class="w"> </span><span class="k">data</span><span class="p">,</span><span class="w"> </span><span class="mi">640</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="mi">480</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="o">-</span><span class="nc">bit</span><span class="o">/</span><span class="n">color</span><span class="w"> </span><span class="n">RGB</span><span class="p">,</span><span class="w"> </span><span class="n">non</span><span class="o">-</span><span class="n">interlaced</span>
<span class="n">root</span><span class="nv">@kali</span><span class="err">:</span><span class="o">~</span><span class="err">#</span><span class="w"> </span>
</code></pre></div>

<p>可以确定这是一个 PNG 图像文件，像素尺寸为 640 x 480。</p>
<h3>GRUB 背景图像属性</h3>
<p>可以使用 <code>PNG</code>, <code>JPG</code>/<code>JPEG</code> 以及 <code>TGA</code> 类型的图像文件作为 GRUB 2 的背景。必须符合以下规范：</p>
<ul>
<li><code>JPG</code>/<code>JPEG</code> 图像必须是 <code>8-bit</code> (256 色)</li>
<li>图像应该是非索引的，<code>RGB</code></li>
</ul>
<p>默认情况下，如果安装了 <code>desktop-base</code> 软件包，符合上述规范的图像将放在 <code>/usr/share/images/desktop-base/</code> 目录中。在谷歌上很容易找到类似的文件。我也找了一个。</p>
<div class="highlight"><pre><span></span><code><span class="n">root</span><span class="err">@</span><span class="n">kali</span><span class="p">:</span><span class="o">~</span><span class="c1"># </span>
<span class="n">root</span><span class="err">@</span><span class="n">kali</span><span class="p">:</span><span class="o">~</span><span class="c1"># file Downloads/wallpaper-1.png </span>
<span class="n">Downloads</span><span class="o">/</span><span class="n">wallpaper</span><span class="o">-</span><span class="mf">1.</span><span class="n">png</span><span class="p">:</span><span class="w"> </span><span class="n">PNG</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="mi">640</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="mi">480</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="o">-</span><span class="n">bit</span><span class="o">/</span><span class="n">color</span><span class="w"> </span><span class="n">RGB</span><span class="p">,</span><span class="w"> </span><span class="n">non</span><span class="o">-</span><span class="n">interlaced</span>
<span class="n">root</span><span class="err">@</span><span class="n">kali</span><span class="p">:</span><span class="o">~</span><span class="c1"># </span>
</code></pre></div>

<p><img alt="Change GRUB background in Kali Linux - blackMORE OPs -6" src="/data/attachment/album/201703/31/105405bcjdpxuaqcazjnb2.jpg"></p>
<h3>方式 1：替换图像</h3>
<p>现在我们只需简单的用新文件将 <code>/usr/share/images/desktop-base/kali-grub.png</code> 替换掉。值得注意这是最简单的方法，不需要修改 <code>grub-config</code> 文件。 如果你对 GRUB 很熟，建议你简单的修改 GRUB 的默认配置文件，然后执行 <code>update-grub</code>。</p>
<p>像往常一样，我会将原文件重命名为 <code>kali-grub.png.bkp</code> 进行备份。</p>
<div class="highlight"><pre><span></span><code><span class="n">root</span><span class="nv">@kali</span><span class="err">:</span><span class="o">~</span><span class="err">#</span><span class="w"> </span>
<span class="n">root</span><span class="nv">@kali</span><span class="err">:</span><span class="o">~</span><span class="err">#</span><span class="w"> </span><span class="n">mv</span><span class="w"> </span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">images</span><span class="o">/</span><span class="n">desktop</span><span class="o">-</span><span class="n">base</span><span class="o">/</span><span class="n">kali</span><span class="o">-</span><span class="n">grub</span><span class="p">.</span><span class="n">png</span><span class="w"> </span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">images</span><span class="o">/</span><span class="n">desktop</span><span class="o">-</span><span class="n">base</span><span class="o">/</span><span class="n">kali</span><span class="o">-</span><span class="n">grub</span><span class="p">.</span><span class="n">png</span><span class="p">.</span><span class="n">bkp</span>
<span class="n">root</span><span class="nv">@kali</span><span class="err">:</span><span class="o">~</span><span class="err">#</span><span class="w"> </span>
</code></pre></div>

<p><img alt="Change GRUB background in Kali Linux - blackMORE OPs -4" src="/data/attachment/album/201703/31/105406eq4rpy2vp32r6zwz.jpg"></p>
<p>现在我们将下载的文件重命名为 <code>kali-grub.png</code>。</p>
<div class="highlight"><pre><span></span><code><span class="n">root</span><span class="err">@</span><span class="n">kali</span><span class="p">:</span><span class="o">~</span><span class="c1"># </span>
<span class="n">root</span><span class="err">@</span><span class="n">kali</span><span class="p">:</span><span class="o">~</span><span class="c1"># cp Downloads/wallpaper-1.png /usr/share/images/desktop-base/kali-grub.png</span>
<span class="n">root</span><span class="err">@</span><span class="n">kali</span><span class="p">:</span><span class="o">~</span><span class="c1"># </span>
</code></pre></div>

<p><img alt="Change GRUB background in Kali Linux - blackMORE OPs -5" src="/data/attachment/album/201703/31/105407wcolok3dc5ddj3mu.jpg"></p>
<p>最后执行命令 <code>update-grub</code>：</p>
<div class="highlight"><pre><span></span><code><span class="n">root</span><span class="nv">@kali</span><span class="err">:</span><span class="o">~</span><span class="err">#</span><span class="w"> </span><span class="k">update</span><span class="o">-</span><span class="n">grub</span>
<span class="n">Generating</span><span class="w"> </span><span class="n">grub</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="k">file</span><span class="w"> </span><span class="p">...</span>
<span class="k">Found</span><span class="w"> </span><span class="n">background</span><span class="w"> </span><span class="nc">image</span><span class="err">:</span><span class="w"> </span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">images</span><span class="o">/</span><span class="n">desktop</span><span class="o">-</span><span class="n">base</span><span class="o">/</span><span class="n">desktop</span><span class="o">-</span><span class="n">grub</span><span class="p">.</span><span class="n">png</span>
<span class="k">Found</span><span class="w"> </span><span class="n">linux</span><span class="w"> </span><span class="nc">image</span><span class="err">:</span><span class="w"> </span><span class="o">/</span><span class="n">boot</span><span class="o">/</span><span class="n">vmlinuz</span><span class="o">-</span><span class="mf">4.0.0</span><span class="o">-</span><span class="n">kali1</span><span class="o">-</span><span class="n">amd64</span>
<span class="k">Found</span><span class="w"> </span><span class="n">initrd</span><span class="w"> </span><span class="nc">image</span><span class="err">:</span><span class="w"> </span><span class="o">/</span><span class="n">boot</span><span class="o">/</span><span class="n">initrd</span><span class="p">.</span><span class="n">img</span><span class="o">-</span><span class="mf">4.0.0</span><span class="o">-</span><span class="n">kali1</span><span class="o">-</span><span class="n">amd64</span>
<span class="w">  </span><span class="k">No</span><span class="w"> </span><span class="n">volume</span><span class="w"> </span><span class="n">groups</span><span class="w"> </span><span class="k">found</span>
<span class="n">done</span>
<span class="n">root</span><span class="nv">@kali</span><span class="err">:</span><span class="o">~</span><span class="err">#</span>
</code></pre></div>

<p><img alt="Change GRUB background in Kali Linux - blackMORE OPs -7" src="/data/attachment/album/201703/31/105407h90s9xxv0vkuj4j9.jpg"></p>
<p>下次重新启动你的 Kali Linux 时，你会看到 GRUB 背景变成了你自己的图像（GRUB 启动界面)。</p>
<p>下面是我现在正在使用的新 GRUB 启动背景。你呢？要不要试试这个办法？</p>
<p><img alt="Change GRUB background in Kali Linux - blackMORE OPs -9" src="/data/attachment/album/201703/31/105408y6gjjvgocvor01uu.jpg"></p>
<p>这是最简单最安全的办法，最糟的情况也不过是在 GRUB 看到一个蓝色的背景，但你依然可以登录后修复它们。现在如果你有信心，让我们尝试一个改变 GRUB 设置的更好的方法（有点复杂）。后续步骤更加有趣，而且可以在任何使用 GRUB 引导的 Linux 上使用。</p>
<p>现在回忆一下 GRUB 在哪 4 个地方寻找启动背景图像？再看一遍：</p>
<ol>
<li><code>/etc/default/grub</code> 里的 <code>GRUB_BACKGROUND</code> 行</li>
<li>在 <code>/boot/grub/</code> 里找到的第一个图像（如果发现多张，将以字母顺序排序）</li>
<li>在 <code>/usr/share/desktop-base/grub_background.sh</code> 中指定的</li>
<li>在 <code>/etc/grub.d/05_debian_theme</code> 里 WALLPAPER 行列出的</li>
</ol>
<p>那么我们再在 Kali Linux 上（或任意使用 GRUB2 的 Linux系统）试一下新的选择。</p>
<h3>方式 2：在 GRUB_BACKGROUND 中定义图像路径</h3>
<p>所以你可以根据上述的查找优先级使用上述任一项，将 GRUB 背景图像改为自己的。以下是我自己系统上 <code>/etc/default/grub</code> 的内容。</p>
<div class="highlight"><pre><span></span><code><span class="n">root</span><span class="nv">@kali</span><span class="err">:</span><span class="o">~</span><span class="err">#</span><span class="w"> </span><span class="n">vi</span><span class="w"> </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="k">default</span><span class="o">/</span><span class="n">grub</span>
</code></pre></div>

<p>按照 <code>GRUB_BACKGROUND="/root/World-Map.jpg"</code> 的格式添加一行，其中 World-Map.jpg 是你要作为 GRUB 背景的图像文件。</p>
<div class="highlight"><pre><span></span><code><span class="err">#</span><span class="w"> </span><span class="nx">If</span><span class="w"> </span><span class="nx">you</span><span class="w"> </span><span class="nx">change</span><span class="w"> </span><span class="nx">this</span><span class="w"> </span><span class="nx">file</span><span class="p">,</span><span class="w"> </span><span class="nx">run</span><span class="w"> </span><span class="err">&#39;</span><span class="nx">update</span><span class="o">-</span><span class="nx">grub</span><span class="err">&#39;</span><span class="w"> </span><span class="nx">afterwards</span><span class="w"> </span><span class="nx">to</span><span class="w"> </span><span class="nx">update</span>
<span class="err">#</span><span class="w"> </span><span class="o">/</span><span class="nx">boot</span><span class="o">/</span><span class="nx">grub</span><span class="o">/</span><span class="nx">grub</span><span class="p">.</span><span class="nx">cfg</span><span class="p">.</span>
<span class="err">#</span><span class="w"> </span><span class="nx">For</span><span class="w"> </span><span class="nx">full</span><span class="w"> </span><span class="nx">documentation</span><span class="w"> </span><span class="nx">of</span><span class="w"> </span><span class="nx">the</span><span class="w"> </span><span class="nx">options</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="nx">this</span><span class="w"> </span><span class="nx">file</span><span class="p">,</span><span class="w"> </span><span class="nx">see</span><span class="p">:</span>
<span class="err">#</span><span class="o">&amp;</span><span class="nx">nbsp</span><span class="p">;</span><span class="o">&amp;</span><span class="nx">nbsp</span><span class="p">;</span><span class="w"> </span><span class="nx">info</span><span class="w"> </span><span class="o">-</span><span class="nx">f</span><span class="w"> </span><span class="nx">grub</span><span class="w"> </span><span class="o">-</span><span class="nx">n</span><span class="w"> </span><span class="err">&#39;</span><span class="nx">Simple</span><span class="w"> </span><span class="nx">configuration</span><span class="err">&#39;</span>

<span class="nx">GRUB_DEFAULT</span><span class="p">=</span><span class="mi">0</span>
<span class="nx">GRUB_TIMEOUT</span><span class="p">=</span><span class="mi">15</span>
<span class="nx">GRUB_DISTRIBUTOR</span><span class="p">=</span><span class="err">`</span><span class="nx">lsb_release</span><span class="w"> </span><span class="o">-</span><span class="nx">i</span><span class="w"> </span><span class="o">-</span><span class="nx">s</span><span class="w"> </span><span class="mi">2</span><span class="p">&gt;</span><span class="w"> </span><span class="o">/</span><span class="nx">dev</span><span class="o">/</span><span class="nx">null</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nx">echo</span><span class="w"> </span><span class="nx">Debian</span><span class="err">`</span>
<span class="nx">GRUB_CMDLINE_LINUX_DEFAULT</span><span class="p">=</span><span class="s">&quot;quiet&quot;</span>
<span class="nx">GRUB_CMDLINE_LINUX</span><span class="p">=</span><span class="s">&quot;initrd=/install/gtk/initrd.gz&quot;</span>
<span class="nx">GRUB_BACKGROUND</span><span class="p">=</span><span class="s">&quot;/root/World-Map.jpg&quot;</span>
</code></pre></div>

<p>一旦使用上述方式完成更改，务必执行 <code>update-grub</code> 命令，如下所示。</p>
<div class="highlight"><pre><span></span><code><span class="n">root</span><span class="nv">@kali</span><span class="err">:</span><span class="o">~</span><span class="err">#</span><span class="w"> </span><span class="k">update</span><span class="o">-</span><span class="n">grub</span>
<span class="n">Generating</span><span class="w"> </span><span class="n">grub</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="k">file</span><span class="w"> </span><span class="p">...</span>
<span class="k">Found</span><span class="w"> </span><span class="nl">background</span><span class="p">:</span><span class="w"> </span><span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="n">World</span><span class="o">-</span><span class="k">Map</span><span class="p">.</span><span class="n">jpg</span>
<span class="k">Found</span><span class="w"> </span><span class="n">background</span><span class="w"> </span><span class="nc">image</span><span class="err">:</span><span class="w"> </span><span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="n">World</span><span class="o">-</span><span class="k">Map</span><span class="p">.</span><span class="n">jpg</span>
<span class="k">Found</span><span class="w"> </span><span class="n">linux</span><span class="w"> </span><span class="nc">image</span><span class="err">:</span><span class="w"> </span><span class="o">/</span><span class="n">boot</span><span class="o">/</span><span class="n">vmlinuz</span><span class="o">-</span><span class="mf">4.0.0</span><span class="o">-</span><span class="n">kali1</span><span class="o">-</span><span class="n">amd64</span>
<span class="k">Found</span><span class="w"> </span><span class="n">initrd</span><span class="w"> </span><span class="nc">image</span><span class="err">:</span><span class="w"> </span><span class="o">/</span><span class="n">boot</span><span class="o">/</span><span class="n">initrd</span><span class="p">.</span><span class="n">img</span><span class="o">-</span><span class="mf">4.0.0</span><span class="o">-</span><span class="n">kali1</span><span class="o">-</span><span class="n">amd64</span>
<span class="o">&amp;</span><span class="n">nbsp</span><span class="p">;</span><span class="w"> </span><span class="k">No</span><span class="w"> </span><span class="n">volume</span><span class="w"> </span><span class="n">groups</span><span class="w"> </span><span class="k">found</span>
<span class="n">done</span>
<span class="n">root</span><span class="nv">@kali</span><span class="err">:</span><span class="o">~</span><span class="err">#</span>
</code></pre></div>

<p>现在重启机器，你会在 GRUB 看到自定义的图像。</p>
<h3>方式 3：把图像文件放到 /boot/grub/ 文件夹</h3>
<p>如果没有在 <code>/etc/default/grub</code> 文件中指定 <code>GRUB_BACKGROUND</code> 项，理论上 GRUB 应当使用在 <code>/boot/grub/</code> 文件夹找到的第一个图像文件作为背景。如果 GRUB 在 <code>/boot/grub/</code> 找到多个图像文件，它会按字母排序并使用第一个图像文件。</p>
<h3>方式 4：在 grub_background.sh 指定图像路径</h3>
<p>如果没有在 <code>/etc/default/grub</code> 文件中指定 <code>GRUB_BACKGROUND</code> 项，而且 <code>/boot/grub/</code> 目录下没有图像文件，GRUB 将会开始在 <code>/usr/share/desktop-base/grub_background.sh</code> 文件中指定的图像路径中搜索。Kali Linux 是在这里指定的。每个 Linux 发行版都有自己的特色。</p>
<h3>方式 5：在 /etc/grub.d/05_debian_theme 文件的 WALLPAPER 一行指定图像</h3>
<p>这是 GRUB 搜寻背景图像的最后一个位置。如果在其他部分都没有找到，它将会在这里查找。</p>
<h3>结论</h3>
<p>这篇文章较长，但我想介绍一些基础但很重要的东西。如果你有仔细阅读，你会理解如何在 Kali Linux 上来回跟踪符号链接。当你需要在一些 Linux 系统上查找 GRUB 背景图像的位置时，你会感到得心应手。只要再多阅读一点来理解 GRUB 颜色的工作方式，你就是行家了。</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>