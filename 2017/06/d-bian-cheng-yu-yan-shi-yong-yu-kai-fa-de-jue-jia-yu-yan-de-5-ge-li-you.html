<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>D 编程语言是用于开发的绝佳语言的 5 个理由</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Author: Lawrence Aberba D 语言的模块化、开发效率、可读性以及其它一些特性使其非常适合用于协同软件的开发。 D 编程语言是一种静态 …" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">linux_cn</a></h1>
                <nav><ul>
                    <li><a href="/category/chuan-shan-jia-zhuan-fang">穿山甲专访</a></li>
                    <li><a href="/category/dai-ma-ying-xiong">代码英雄</a></li>
                    <li><a href="/category/fen-xiang">分享</a></li>
                    <li class="active"><a href="/category/guan-dian">观点</a></li>
                    <li><a href="/category/huo-dong">活动</a></li>
                    <li><a href="/category/ji-ke-man-hua">极客漫画</a></li>
                    <li><a href="/category/ji-zhu">技术</a></li>
                    <li><a href="/category/kai-yuan-zhi-hui">开源智慧</a></li>
                    <li><a href="/category/linux-fa-xing-ban">Linux 发行版</a></li>
                    <li><a href="/category/mei-ri-an-quan-zi-xun">每日安全资讯</a></li>
                    <li><a href="/category/misc">Misc</a></li>
                    <li><a href="/category/qu-kuai-lian">区块链</a></li>
                    <li><a href="/category/rong-qi-yu-yun">容器与云</a></li>
                    <li><a href="/category/ruan-jian-kai-fa">软件开发</a></li>
                    <li><a href="/category/shu-mei-pai">树莓派</a></li>
                    <li><a href="/category/xi-tong-yun-wei">系统运维</a></li>
                    <li><a href="/category/xin-wen">新闻</a></li>
                    <li><a href="/category/ying-he-guan-cha">硬核观察</a></li>
                    <li><a href="/category/zhi-ye-sheng-ya">职业生涯</a></li>
                    <li><a href="/category/zhong-jiang-ming-dan">中奖名单</a></li>
                    <li><a href="/category/zhuo-mian-ying-yong">桌面应用</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2017/06/d-bian-cheng-yu-yan-shi-yong-yu-kai-fa-de-jue-jia-yu-yan-de-5-ge-li-you.html" rel="bookmark"
           title="Permalink to D 编程语言是用于开发的绝佳语言的 5 个理由">D 编程语言是用于开发的绝佳语言的 5 个理由</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2017-06-16T08:09:00+02:00">
                Published: Fri 16 June 2017
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/linux-fans-from-china.html">linux fans from china</a>
        </address>
<p>In <a href="/category/guan-dian">观点</a>.</p>

</footer><!-- /.post-info -->      <p>Author: Lawrence Aberba</p>
<blockquote>
<p>D 语言的模块化、开发效率、可读性以及其它一些特性使其非常适合用于协同软件的开发。</p>
</blockquote>
<p><img alt="Why the D programming language is great for open source development" src="/data/attachment/album/201706/15/061109teln46d93d8e33n2.png" title="Why the D programming language is great for open source development"></p>
<p><a href="https://dlang.org/">D 编程语言</a>是一种静态类型的通用编程语言，它具有和 C 语言类似的语法，能够编译为本地代码。许多理由使得它很适合用于开源软件开发，下面讲到的是其中一些理由。</p>
<h3>模块化能力</h3>
<p>在大多数情况下，当你有一个好的想法，你可以完全按照你的内心所想的方式通过代码来实现它。然而，有的时候，你不得让你的想法向代码妥协，而不是通过模块化代码来适应想法。D 语言支持多种<a href="https://en.wikipedia.org/wiki/Programming_paradigm">编程范式</a>，包括函数式风格、命令式、面向对象、元编程、并发（演员模式），这些全都和谐共存。你可以选择任何一种方便的编程范式来将你的想法转换为代码。</p>
<p>通过使用<a href="http://ddili.org/ders/d.en/templates.html">模板</a>，可以生成额外的 D 代码并在编译的过程中把它编排进去，你可以把这些代码描述成编译器生成代码的一种模式。这是一种非常有用的设计算法，无需把它们绑定到任何特定的类型。由于模版的通用性，就很容易生成平台无关的代码。通过将模板与<a href="https://dlang.org/spec/version.html">条件编译</a>结合，跨平台的应用变得更加容易实现，也更容易接受来自使用不同操作系统的开发者的贡献。有了这一点，一个程序员可以通过很少的代码，利用有限的时间实现很多东西。</p>
<p><a href="http://ddili.org/ders/d.en/ranges.html">range</a> 已经深度集成到了 D 语言中，相对于具体实现，它抽象出容器元素（比如数组、关联数组和链表等）是如何访问的。这个抽象使得可以在许多容器类型中设计和使用大量的算法，而无需绑定到特定的数据结构。D 的<a href="https://dlang.org/spec/arrays.html#slicing">数组切片</a>是 range 的一个实现。最终，你可以用很少的时间写很少的代码，并且只需要很低的维护成本。</p>
<h3>开发效率</h3>
<p>大多数开源软件的代码贡献者都是基于有限的时间志愿工作的。 D 语言能够极大的提高开发效率，因为你可以用更少的时间完成更多的事情。D 的模板和 range 使得程序员在开发通用代码和可复用代码时效率更高，但这些仅仅是 D 开发效率高的其中几个优势。另外一个主要的吸引力是， D 的编译速度看起来感觉就像解释型语言一样，比如 Python、JavaScript、Ruby 和 PHP，它使得 D 能够快速成型。</p>
<p>D 可以很容易的与旧的代码进行对接，减少了移植的需要。它的设计目的是<a href="https://dlang.org/spec/interfaceToC.html">与 C 代码进行自然地对接</a>，毕竟， C 语言大量用在遗留代码、精心编写而测试过的代码、库以及低级系统调用（特别是 Linux 系统）上。C++ 代码在 <a href="https://dlang.org/spec/cpp_interface.html">D 中也是可调用的</a>，从而进行更大的扩展。事实上，<a href="https://code.dlang.org/packages/pyd">Python</a>、<a href="https://dlang.org/spec/objc_interface.html">Objective-C</a>、<a href="http://beza1e1.tuxen.de/into_luad.html">Lua</a> 和 <a href="http://www.active-analytics.com/blog/interface-d-with-c-fortran/">Fortran</a> 这些语言在技术层面上都是可以在 D 中使用的，有许多第三方正在努力在把 D 语言推向这些领域。这使得大量的开源库在 D 中均可使用，这符合开源软件开发的惯例。</p>
<h3>可读性和可维护性</h3>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">std.stdio</span><span class="p">;</span> <span class="o">//</span> <span class="n">导入标准输入</span><span class="o">/</span><span class="n">输出模块</span>
<span class="n">void</span> <span class="n">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">writeln</span><span class="p">(</span><span class="s2">&quot;Hello, World!&quot;</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<p><em>D 语言的 Hello, World 演示</em></p>
<p>对于熟悉 C 语言的人来说， D 代码很容易理解。另外， D 代码的可读性很强，即使是复杂的代码。这使得很容易发现错误。可读性对于吸引贡献者来说也是很重要的，这是开源软件成长的关键。</p>
<p>在 D 中一个非常简单但很有用的<a href="https://en.wikipedia.org/wiki/Syntactic_sugar">语法糖</a>是支持使用下滑线分隔数字，这使得数字的可读性更高。这在数学上很有用：</p>
<div class="highlight"><pre><span></span><code>int count = 100_000_000;
double price = 20_220.00 + 10.00;
int number = 0x7FFF_FFFF; // 16 进制系统
</code></pre></div>

<p><a href="https://dlang.org/spec/ddoc.html">ddoc</a> 是一个内建的工具，它能够很容易的自动根据代码注释生成文档，而不需要使用额外的工具。文档写作、改进和更新变得更加简单，不具挑战性，因为它伴随代码同时生成。</p>
<p><a href="http://ddili.org/ders/d.en/contracts.html">Contract</a> 能够检查代码的实现，从而确保 D 代码的行为能够像期望的那样。就像法律契约的签订是为了确保每一方在协议中做自己该做的事情，在 D 语言中的契约式编程，能够确保实现的每一个函数、类等如期望的那样产生预期的结果和行为。这样一个特性对于错误检查非常实用，特别是在开源软件中，当多个人合作一个项目的时候。契约是大项目的救星。D 语言强大的契约式编程特性是内建的，而不是后期添加的。契约不仅使得使用 D 语言更加方便，也减少了正确写作和维护困难的头痛。</p>
<h3>方便</h3>
<p>协同开发是具有挑战性的，因为代码经常发生变化，并且有许多移动部分。D 语言通过支持在本地范围内导入模块，从而缓解了那些问题：</p>
<div class="highlight"><pre><span></span><code><span class="o">//</span> <span class="n">返回偶数</span>
<span class="nb">int</span><span class="p">[]</span> <span class="n">evenNumbers</span><span class="p">(</span><span class="nb">int</span><span class="p">[]</span> <span class="n">numbers</span><span class="p">)</span>
<span class="p">{</span>
    <span class="o">//</span> <span class="s2">&quot;filter&quot;</span> <span class="ow">and</span> <span class="s2">&quot;array&quot;</span> <span class="n">are</span> <span class="n">only</span> <span class="n">accessible</span> <span class="n">locally</span>
    <span class="kn">import</span> <span class="nn">std.algorithm</span><span class="p">:</span> <span class="nb">filter</span><span class="p">;</span> 
    <span class="kn">import</span> <span class="nn">std.array</span><span class="p">:</span> <span class="n">array</span><span class="p">;</span>
    <span class="k">return</span> <span class="n">numbers</span><span class="o">.</span><span class="n">filter</span><span class="err">!</span><span class="p">(</span><span class="n">n</span> <span class="o">=&gt;</span> <span class="n">n</span><span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">array</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<p><em>对 filter 使用 <code>!</code> 运算符是<a href="http://ddili.org/ders/d.en/templates.html">模板参数</a>的一个语法</em></p>
<p>上面的函数可以在不破坏代码的情况下调用，因为它不依赖任何全局导入模块。像这样实现的函数都可以在后期无需破坏代码的情况下增强，这是协同开发的好东西。</p>
<p><a href="http://ddili.org/ders/d.en/ufcs.html">通用函数调用语法（UFCS）</a>是 D 语言中的一个语法糖，它允许像调用一个对象的成员函数那样调用常规函数。一个函数的定义如下：</p>
<div class="highlight"><pre><span></span><code><span class="n">void</span> <span class="n">cook</span><span class="p">(</span><span class="n">string</span> <span class="n">food</span><span class="p">,</span> <span class="nb">int</span> <span class="n">quantity</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kn">import</span> <span class="nn">std.stdio</span><span class="p">:</span> <span class="n">writeln</span><span class="p">;</span>
    <span class="n">writeln</span><span class="p">(</span><span class="n">food</span><span class="p">,</span> <span class="s2">&quot; in quantity of &quot;</span><span class="p">,</span> <span class="n">quantity</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<p>它能够以通常的方式调用：</p>
<div class="highlight"><pre><span></span><code>string food = &quot;rice&quot;;
int quantity = 3;

cook(food, quantity);
</code></pre></div>

<p>通过 UFCS，这个函数也可以像下面这样调用，看起来好像 <code>cook</code> 是一个成员函数：</p>
<div class="highlight"><pre><span></span><code>string food = &quot;rice&quot;;
int quantity = 3;

food.cook(quantity);
</code></pre></div>

<p>在编译过程中，编译器会自动把 <code>food</code> 作为 <code>cook</code> 函数的第一个参数。UFCS 使得它能够链起来常规函数，给你的代码产生一种函数风格编程的自然感觉。UFCS 在 D 语言中被大量使用，就像在上面的 <code>evenNumbers</code> 函数中使用的 <code>filter</code> 和 <code>array</code> 函数那样。结合模板、range、条件编译和 UFCS 能够在不牺牲方便性的前提下给予你强大的力量。</p>
<p><code>auto</code> 关键词可以用来代替任何类型。编译器在编译过程中会静态推断类型。这样可以省去输入很长的类型名字，让你感觉写 D 代码就像是在写动态类型语言。</p>
<div class="highlight"><pre><span></span><code><span class="o">//</span><span class="w"> </span><span class="n">Nope</span><span class="p">.</span><span class="w"> </span><span class="n">Do</span><span class="w"> </span><span class="n">you</span><span class="vm">?</span>
<span class="n">VeryLongTypeHere</span><span class="w"> </span><span class="k">variable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">VeryLongTypeHere</span><span class="p">();</span><span class="w"> </span>

<span class="o">//</span><span class="w"> </span><span class="n">使用</span><span class="w"> </span><span class="n">auto</span><span class="w"> </span><span class="n">关键词</span>
<span class="n">auto</span><span class="w"> </span><span class="k">variable</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="k">new</span><span class="w"> </span><span class="n">VeryLongTypeHere</span><span class="p">();</span>
<span class="n">auto</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;John Doe&quot;</span><span class="p">;</span>
<span class="n">auto</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">12</span><span class="p">;</span>
<span class="n">auto</span><span class="w"> </span><span class="n">letter</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;e&#39;</span><span class="p">;</span>
<span class="n">auto</span><span class="w"> </span><span class="n">anArray</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span><span class="n">1, 2.0, 3, 0, 1.5</span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="k">double</span><span class="err">[]</span>
<span class="n">auto</span><span class="w"> </span><span class="k">dictionary</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span><span class="n">&quot;one&quot;: 1, &quot;two&quot;: 2, &quot;three&quot;: 3</span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nc">int</span><span class="o">[</span><span class="n">string</span><span class="o">]</span>
<span class="n">auto</span><span class="w"> </span><span class="n">cook</span><span class="p">(</span><span class="n">string</span><span class="w"> </span><span class="n">food</span><span class="p">)</span><span class="w"> </span><span class="err">{</span><span class="p">...</span><span class="err">}</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">auto</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">type</span>
</code></pre></div>

<p>D 的<a href="http://ddili.org/ders/d.en/foreach.html">foreach</a> 循环允许遍历各种不同的底层数据类型的集合和 range：</p>
<div class="highlight"><pre><span></span><code><span class="nv">foreach</span><span class="ss">(</span><span class="nv">name</span><span class="c1">; [&quot;John&quot;, &quot;Yaw&quot;, &quot;Paul&quot;, &quot;Kofi&quot;, &quot;Ama&quot;])</span>
{
<span class="w">    </span><span class="nv">writeln</span><span class="ss">(</span><span class="nv">name</span><span class="ss">)</span><span class="c1">;</span>
}

<span class="nv">foreach</span><span class="ss">(</span><span class="nv">number</span><span class="c1">; [1, 2, 3, 4, 4, 6]) {...}</span>

<span class="nv">foreach</span><span class="ss">(</span><span class="nv">number</span><span class="c1">; 0..10) {...} // 0..10 is the syntax for number range</span>

<span class="nv">class</span><span class="w"> </span><span class="nv">Student</span><span class="w"> </span>{...}
<span class="nv">Student</span>[]<span class="w"> </span><span class="nv">students</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>[<span class="nv">new</span><span class="w"> </span><span class="nv">Student</span><span class="ss">()</span>,<span class="w"> </span><span class="nv">new</span><span class="w"> </span><span class="nv">Student</span><span class="ss">()</span>]<span class="c1">;</span>
<span class="nv">foreach</span><span class="ss">(</span><span class="nv">student</span><span class="c1">; students) {...}</span>
</code></pre></div>

<p>D 语言中内建的<a href="https://dlang.org/spec/unittest.html">单元测试</a>不仅免除了使用外部工具的需要，也方便了程序员在自己的代码中执行测试。所有的测试用例都位于可定制的 <code>unittest{}</code> 块中：</p>
<div class="highlight"><pre><span></span><code><span class="nb">int</span><span class="p">[]</span> <span class="n">evenNumbers</span><span class="p">(</span><span class="nb">int</span><span class="p">[]</span> <span class="n">numbers</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kn">import</span> <span class="nn">std.algorithm</span><span class="p">:</span> <span class="nb">filter</span><span class="p">;</span> 
    <span class="kn">import</span> <span class="nn">std.array</span><span class="p">:</span> <span class="n">array</span><span class="p">;</span>
    <span class="k">return</span> <span class="n">numbers</span><span class="o">.</span><span class="n">filter</span><span class="err">!</span><span class="p">(</span><span class="n">n</span> <span class="o">=&gt;</span> <span class="n">n</span><span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">array</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">unittest</span>
<span class="p">{</span>
    <span class="k">assert</span><span class="p">(</span> <span class="n">evenNumbers</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span> <span class="o">==</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span> <span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<p>使用 D 语言的标准编译器 DMD，你可以通过增加 <code>-unittest</code> 编译器标志把所有的测试编译进可执行结果中。</p>
<p><a href="http://code.dlang.org/getting_started">Dub</a> 是 D 语言的一个内建包管理器和构建工具，使用它可以很容易的添加来自 <a href="https://code.dlang.org/">Dub package registry</a> 的第三方库。Dub 可以在编译过程中下载、编译和链接这些包，同时也会升级到新版本。</p>
<h3>选择</h3>
<p>除了提供多种编程范例和功能特性外，D 还提供其他的选择。它目前有三个可用的开源编译器。官方编译器 DMD 使用它自己的后端，另外两个编译器 GDC 和 LDC，分别使用 GCC 和 LLVM 后端。DMD 以编译速度块而著称，而 LDC 和 GDC 则以在很短的编译时间内生成快速生成机器代码而著称。你可以自由选择其中一个以适应你的使用情况。</p>
<p>默认情况下，D 语言是采用<a href="https://dlang.org/spec/garbage.html">垃圾收集</a>的内存分配方式的。你也可以选择手动进行内存管理，如果你想的话，甚至可以进行引用计数。一切选择都是你的。</p>
<h3>更多</h3>
<p>在这个简要的讨论中，还有许多 D 语言好的特性没有涉及到。我强烈推荐阅读 <a href="https://dlang.org/comparison.html">D 语言的特性概述</a>，这是隐藏在<a href="https://dlang.org/phobos/index.html">标准库</a>中的宝藏，以及 <a href="https://dlang.org/areas-of-d-usage.html">D 语言的使用区域</a>，从而进一步了解人们用它来干什么。许多组织已经<a href="https://dlang.org/orgs-using-d.html">使用 D 语言来进行开发</a>。最后，如果你打算开始学习 D 语言，那么请看这本书 <em><a href="http://ddili.org/ders/d.en/index.html">D 语言编程</a></em>。</p>
<p>（题图：opensource.com）</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>