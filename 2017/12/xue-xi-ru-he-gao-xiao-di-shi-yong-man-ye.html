<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>学习如何高效地使用 man 页</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Author: Sk 不久前，我们发布了一篇简短的指引描述了如何轻易地回忆起忘记的 Linux 命令 。那篇指引对于无法记住命令的人来说 …" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">linux_cn</a></h1>
                <nav><ul>
                    <li><a href="/category/chuan-shan-jia-zhuan-fang">穿山甲专访</a></li>
                    <li><a href="/category/dai-ma-ying-xiong">代码英雄</a></li>
                    <li><a href="/category/fen-xiang">分享</a></li>
                    <li><a href="/category/guan-dian">观点</a></li>
                    <li><a href="/category/huo-dong">活动</a></li>
                    <li><a href="/category/ji-ke-man-hua">极客漫画</a></li>
                    <li class="active"><a href="/category/ji-zhu">技术</a></li>
                    <li><a href="/category/kai-yuan-zhi-hui">开源智慧</a></li>
                    <li><a href="/category/linux-fa-xing-ban">Linux 发行版</a></li>
                    <li><a href="/category/mei-ri-an-quan-zi-xun">每日安全资讯</a></li>
                    <li><a href="/category/misc">Misc</a></li>
                    <li><a href="/category/qu-kuai-lian">区块链</a></li>
                    <li><a href="/category/rong-qi-yu-yun">容器与云</a></li>
                    <li><a href="/category/ruan-jian-kai-fa">软件开发</a></li>
                    <li><a href="/category/shu-mei-pai">树莓派</a></li>
                    <li><a href="/category/xi-tong-yun-wei">系统运维</a></li>
                    <li><a href="/category/xin-wen">新闻</a></li>
                    <li><a href="/category/ying-he-guan-cha">硬核观察</a></li>
                    <li><a href="/category/zhi-ye-sheng-ya">职业生涯</a></li>
                    <li><a href="/category/zhong-jiang-ming-dan">中奖名单</a></li>
                    <li><a href="/category/zhuo-mian-ying-yong">桌面应用</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2017/12/xue-xi-ru-he-gao-xiao-di-shi-yong-man-ye.html" rel="bookmark"
           title="Permalink to 学习如何高效地使用 man 页">学习如何高效地使用 man 页</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2017-12-22T23:14:59+01:00">
                Published: Fri 22 December 2017
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/linux-fans-from-china.html">linux fans from china</a>
        </address>
<p>In <a href="/category/ji-zhu">技术</a>.</p>

</footer><!-- /.post-info -->      <p>Author: Sk</p>
<p><img alt="" src="/data/attachment/album/201712/22/231438kpp7dhwcjwudddwe.jpg"></p>
<p>不久前，我们发布了一篇简短的指引描述了如何轻易地<a href="https://www.ostechnix.com/easily-recall-forgotten-linux-commands/">回忆起忘记的 Linux 命令</a> 。那篇指引对于无法记住命令的人来说真的非常有用。今天，我们就来学习一下如何高效而又迅速地从 man 页中获取你所需要的信息。如你所知，一个标准的 man 页分成很多个部分，每部分都有一个独立的标题。当你想查看特定的标志/选项时，可能需要向下滚动很长时间才能找到。这是个效率低下而且很耗时间的过程。这也是为什么学会高效使用 man 页来精确定位你想要的内容。</p>
<p>在本文中，我会分享一些常用的跟 man 页相关的重要技巧。</p>
<h3>学习高效地使用 Man 页</h3>
<h4>基础用法</h4>
<p>我们都知道，我们可以使用类似下面的命令来打开关于某个命令（比如 <code>mkdir</code>）的 man 页：</p>
<div class="highlight"><pre><span></span><code>man mkdir
</code></pre></div>

<p>可以使用 <code>空格</code>，<code>d</code>，<code>b</code> 以及上下箭头等来浏览 man 页。要跳转道 man 页的末尾，可以按 <code>End</code> 键而想跳转到 man 页的头部则可以按 <code>Home</code> 键。在当前打开的 man 页中按下 <code>h</code> 键会显示所有有用的键盘快捷键和一般用法。（LCTT 译注：这些快捷键其实是 man 所使用的 less 分页器的快捷键）</p>
<p><img alt="" src="/data/attachment/album/201712/22/231501x5ya8yaqi1sqcka5.png"></p>
<p>按 <code>q</code> 可以退出 man 页。</p>
<h4>回忆起忘记的命令</h4>
<p>对于那些不知道想要哪个命令的家伙，可以去查看一下我第一段中提到的那个链接。使用 man 页我们也能做到这一点。假设说，你想要创建一个目录，而你忘记了使用哪个命令来创建目录。</p>
<p>为了回忆起那个忘记的命令，可以将 man 和 <code>grep</code> 命令联用：</p>
<div class="highlight"><pre><span></span><code>man -k directory | grep create
</code></pre></div>

<p>输出结果为：</p>
<div class="highlight"><pre><span></span><code>CURLOPT_NEW_DIRECTORY_PERMS (3) - permissions for remotely created directories
libssh2_sftp_mkdir_ex (3) - create a directory on the remote file system
mkdir (2) - create a directory
mkdirat (2) - create a directory
mkdtemp (3) - create a unique temporary directory
mkdtemp (3p) - create a unique directory or file
mkfontdir (1) - create an index of X font files in a directory
mklost+found (8) - create a lost+found directory on a mounted Linux second extended file。。。
mkstemp (3p) - create a unique directory
mktemp (1) - create a temporary file or directory
pam_mkhomedir (8) - PAM module to create users home directory
</code></pre></div>

<p><img alt="" src="/data/attachment/album/201712/22/231502u6rrcocxgssvb4nc.png"></p>
<p>你只需要阅读一下每个命令的描述然后挑选出合适的命令就行了。啊，现在你记起来了。<code>mkdir</code> 正式你想要的，对吧？就是那么简单。</p>
<h4>在 man 页中搜索</h4>
<p>若你在 man 页中想要查找特定字符串。只需要输入 <code>/</code> （前斜线）再加上你想要搜索的字符串，像这样：</p>
<div class="highlight"><pre><span></span><code>/&lt;search_string&gt; 或 &lt;pattern&gt;
</code></pre></div>

<p>假设你正在查看 <code>mount</code> 命令的 man 页，想要寻找关于 <code>-bind</code> 选项的相关信息。可以输入：</p>
<div class="highlight"><pre><span></span><code>/bind
</code></pre></div>

<p><img alt="" src="/data/attachment/album/201712/22/231503ado8edqtbqondd3c.png"></p>
<p>当前 man 页中任何匹配搜索字符串的内容都会被高亮显示。</p>
<p><img alt="" src="/data/attachment/album/201712/22/231504v2rhwdft33r8btcw.png"></p>
<p>按下 <code>n</code> 和 <code>SHIFT+n</code> 来查看下一个/上一个匹配的地方。</p>
<p><code>/</code> 模式（或者说字符串）会向前搜索匹配行。你也可以使用 <code>?</code> 模式进行向后搜索。这当你在 man 页的末尾或中间位置时非常有用。</p>
<div class="highlight"><pre><span></span><code>?bind
</code></pre></div>

<p>若想只显示匹配行，输入：</p>
<div class="highlight"><pre><span></span><code>&amp;bind
</code></pre></div>

<p><img alt="" src="/data/attachment/album/201712/22/231505svqsriki0k7io05s.png"></p>
<p>使用这种方法，你无需使用 <code>n</code> 和 <code>SHIFT+n</code> 来滚动到下一个/上一个匹配的位置。<code>&amp;</code> 模式只会显示那些包含搜索内容的行，其他的内容全都被省略掉。</p>
<h4>不打开 man 页而进行搜索</h4>
<p>也可以在不打开 man 页的前提下搜索指定选项的信息。</p>
<p>比如，你想了解 <code>mkdir</code> 命令中的 <code>-m</code> 选项的相关信息。可以运行：</p>
<div class="highlight"><pre><span></span><code>man mkdir | grep -e &#39;-m&#39;
</code></pre></div>

<p>或者，</p>
<div class="highlight"><pre><span></span><code>man mkdir | grep -- &#39;-m&#39;
</code></pre></div>

<p><img alt="" src="/data/attachment/album/201712/22/231505cem3mm0ivv3em1ss.png"></p>
<p>这个命令会显示出 <code>mkdir</code> 命令 man 页中第一次出现 <code>-m</code> 时的内容。从上面命令中我们可以看到 <code>-m</code> 表示的是 “MODE”（<code>chmod</code>）。</p>
<p>如果你想阅读 <code>mkdir</code> 命令的完整 man 页，但是要跳过第一次出现 <code>-m</code> 之前的内容，可以使用下面命令：</p>
<div class="highlight"><pre><span></span><code>man mkdir | less +/-m
</code></pre></div>

<p><img alt="" src="/data/attachment/album/201712/22/231506f3tjzpj8r2mkoshr.png"></p>
<p>这是另一个例子：</p>
<div class="highlight"><pre><span></span><code>man mount | less +/--bind
</code></pre></div>

<p><img alt="" src="/data/attachment/album/201712/22/231507mq64boat0q94bbq9.png"></p>
<p>按下 <code>n</code> 或 <code>SHIFT+n</code> 可以浏览下一个/上一个匹配的位置。</p>
<p>参考阅读：<a href="https://www.ostechnix.com/3-good-alternatives-man-pages-every-linux-user-know/">每个 Linux 用户都应该知道的 3 个 man 页替代品</a>。</p>
<h4>将完整的 man 页导出到文本文件中</h4>
<p>我们可以将指定命令的完整 man 页导出成文本文件。方法是运行下面命令：</p>
<div class="highlight"><pre><span></span><code>man mount &gt; mount.txt
</code></pre></div>

<p>该命令会将 <code>mount</code> 命令的 man 页导出到当前目录的 <code>mount.txt</code> 文件中。</p>
<p>也可以获取一个简化版的 man 页，没有退格和下划线，方法是使用下面命令。</p>
<div class="highlight"><pre><span></span><code>man mount | col -b &gt; mount.txt
</code></pre></div>

<p>要了解更多关于 man 页的详细信息，运行：</p>
<div class="highlight"><pre><span></span><code>man man
</code></pre></div>

<p>该命令会显示出关于 man 的 man 页。这些技巧都很基础但很实用。它们会节省你很多的时间而且能免去很多的滚动操作。</p>
<p>今天的内容就到这了。希望对你有帮助。更多好文即将到来。准备好哦！</p>
<p>Cheers！</p>
<p>（题图：Pixabay， CC0）</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>