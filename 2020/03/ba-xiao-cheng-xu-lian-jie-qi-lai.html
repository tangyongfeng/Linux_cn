<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>把小程序链接起来</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Author: 老王 我们已经开发了几个小程序，分别是用于显示 Linux 命令用法的“Linux”、用于显示和搜索 Linux 中国文章的“Linux文章”，以及改善公众号 …" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">linux_cn</a></h1>
                <nav><ul>
                    <li><a href="/category/chuan-shan-jia-zhuan-fang">穿山甲专访</a></li>
                    <li><a href="/category/dai-ma-ying-xiong">代码英雄</a></li>
                    <li><a href="/category/fen-xiang">分享</a></li>
                    <li><a href="/category/guan-dian">观点</a></li>
                    <li><a href="/category/huo-dong">活动</a></li>
                    <li><a href="/category/ji-ke-man-hua">极客漫画</a></li>
                    <li><a href="/category/ji-zhu">技术</a></li>
                    <li><a href="/category/kai-yuan-zhi-hui">开源智慧</a></li>
                    <li><a href="/category/linux-fa-xing-ban">Linux 发行版</a></li>
                    <li><a href="/category/mei-ri-an-quan-zi-xun">每日安全资讯</a></li>
                    <li><a href="/category/misc">Misc</a></li>
                    <li><a href="/category/qu-kuai-lian">区块链</a></li>
                    <li><a href="/category/rong-qi-yu-yun">容器与云</a></li>
                    <li><a href="/category/ruan-jian-kai-fa">软件开发</a></li>
                    <li><a href="/category/shu-mei-pai">树莓派</a></li>
                    <li><a href="/category/xi-tong-yun-wei">系统运维</a></li>
                    <li class="active"><a href="/category/xin-wen">新闻</a></li>
                    <li><a href="/category/ying-he-guan-cha">硬核观察</a></li>
                    <li><a href="/category/zhi-ye-sheng-ya">职业生涯</a></li>
                    <li><a href="/category/zhong-jiang-ming-dan">中奖名单</a></li>
                    <li><a href="/category/zhuo-mian-ying-yong">桌面应用</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2020/03/ba-xiao-cheng-xu-lian-jie-qi-lai.html" rel="bookmark"
           title="Permalink to 把小程序链接起来">把小程序链接起来</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2020-03-18T22:29:30+01:00">
                Published: Wed 18 March 2020
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/linux-fans-from-china.html">linux fans from china</a>
        </address>
<p>In <a href="/category/xin-wen">新闻</a>.</p>

</footer><!-- /.post-info -->      <p>Author: 老王</p>
<p><img alt="" src="/data/attachment/album/202003/18/221857vbz45qg5d9z6gwd6.png"></p>
<p>我们已经开发了几个小程序，分别是用于显示 Linux 命令用法的“<strong>Linux</strong>”、用于显示和搜索 Linux 中国文章的“<strong>Linux文章</strong>”，以及改善公众号文章内链接访问体验的“<strong>文章助手</strong>”。这几个独立的小程序各司其职，也在一定领域有所重叠和关联，因此，最近几天，我将它们链接了起来。</p>
<h3>从 “Linux” 链接到“Linux文章”</h3>
<p>首先，在“Linux”小程序内显示命令用法的页面上，在“延伸阅读”部分会推荐相关文章，之前这个部分的数据是采用远程 API 的方式来呈现 <a href="https://linux.cn">https://linux.cn</a> 网站上的相关文章。不过，这些文章的内容其实在我们的“Linux文章”小程序内也可以访问，而且还是原生的小程序体验，所以，我们将两个小程序进行了关联。</p>
<p><img alt="" src="/data/attachment/album/202003/18/221934y0h7ojggfygl9gpx.png"></p>
<p>一方面，采用云开发提供的访问另外一个云空间的方式，在“Linux”小程序内调用“Linux文章”小程序的云函数来获取相关文章（顺便做了一个重构）。</p>
<p>另外一方面，在“Linux”小程序的“延伸阅读”里展示的相关文章标题，点击后会跳转到“Linux文章”中对应的文章。当然，由于小程序本身的限制，在跳转前会做个确认提示，如果选“是”则跳转，如果选“否”，我们展示保留了回退模式，依然可以用 webview 方式访问远程网站上的文章，只是 webview 体验没有专门为小程序环境做过优化。</p>
<h3>从“Linux文章”链接到“文章助手”</h3>
<p>其实最初“文章助手”小程序的灵感就来自于“Linux文章”小程序，所以，一直以来在“Linux文章”中就保留着“文章助手”小程序中相关的功能，包括复制链接、显示链接信息等，甚至还有一些更多的功能。</p>
<p>不过，考虑到“文章助手”小程序会在链接管理方面更加深入，比如前一段时间，我们就为“文章助手”小程序添加了显示链接的更多信息的功能。而将这些功能再回迁到“Linux文章”小程序不但代码臃肿，而且需要维护两个不同模块，显然不够专业。</p>
<p><img alt="" src="/data/attachment/album/202003/18/221952tngpe7xppnvx71zc.png"></p>
<p>因此，我去除了“Linux文章”小程序中的链接管理功能，并指向到了“文章助手”小程序，这样，将来在“文章助手”小程序中可以提供更丰富的链接管理功能。此外，目前在“Linux文章”小程序中的直接访问微信链接的功能，我也会之后移植到“文章助手”小程序上。</p>
<p>最后，我在想，从“文章助手”小程序到“Linux”小程序是否也有关联的场景呢？目前还没有成熟的想法，或许之后会找到合适的场景吧。</p>
<h3>总结</h3>
<p>通过几天的努力，我将三个原本彼此独立的小程序彼此关联了起来。</p>
<p>我感觉，在小程序的功能和定位上，解耦小程序的功能有助于开发出健壮而轻快的小程序。而让小程序可以彼此配合，则可以形成小程序之间的联动和互补。虽然现在小程序之间跳转会弹出一个确认提示颇为破坏用户体验，但是这个事情也是利弊参半的。</p>
<p>另外一点就是，善于利用小程序的云开发环境的远程调用，可以让小程序之间更容易联动起来。</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>