<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>使用 MinGW 在 Windows 上使用 GNU</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Author: Seth Kenlon 在 Windows 上安装 GNU 编译器集合（gcc）和其他 GNU 组件来启用 GNU Autotools。 如果你是一名使用 Windows 的黑客，你不需要专有应用来编译代 …" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">linux_cn</a></h1>
                <nav><ul>
                    <li><a href="/category/chuan-shan-jia-zhuan-fang">穿山甲专访</a></li>
                    <li><a href="/category/dai-ma-ying-xiong">代码英雄</a></li>
                    <li><a href="/category/fen-xiang">分享</a></li>
                    <li><a href="/category/guan-dian">观点</a></li>
                    <li><a href="/category/huo-dong">活动</a></li>
                    <li><a href="/category/ji-ke-man-hua">极客漫画</a></li>
                    <li class="active"><a href="/category/ji-zhu">技术</a></li>
                    <li><a href="/category/kai-yuan-zhi-hui">开源智慧</a></li>
                    <li><a href="/category/linux-fa-xing-ban">Linux 发行版</a></li>
                    <li><a href="/category/mei-ri-an-quan-zi-xun">每日安全资讯</a></li>
                    <li><a href="/category/misc">Misc</a></li>
                    <li><a href="/category/qu-kuai-lian">区块链</a></li>
                    <li><a href="/category/rong-qi-yu-yun">容器与云</a></li>
                    <li><a href="/category/ruan-jian-kai-fa">软件开发</a></li>
                    <li><a href="/category/shu-mei-pai">树莓派</a></li>
                    <li><a href="/category/xi-tong-yun-wei">系统运维</a></li>
                    <li><a href="/category/xin-wen">新闻</a></li>
                    <li><a href="/category/ying-he-guan-cha">硬核观察</a></li>
                    <li><a href="/category/zhi-ye-sheng-ya">职业生涯</a></li>
                    <li><a href="/category/zhong-jiang-ming-dan">中奖名单</a></li>
                    <li><a href="/category/zhuo-mian-ying-yong">桌面应用</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2020/08/shi-yong-mingw-zai-windows-shang-shi-yong-gnu.html" rel="bookmark"
           title="Permalink to 使用 MinGW 在 Windows 上使用 GNU">使用 MinGW 在 Windows 上使用 GNU</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2020-08-25T08:57:00+02:00">
                Published: Tue 25 August 2020
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/linux-fans-from-china.html">linux fans from china</a>
        </address>
<p>In <a href="/category/ji-zhu">技术</a>.</p>

</footer><!-- /.post-info -->      <p>Author: Seth Kenlon</p>
<blockquote>
<p>在 Windows 上安装 GNU 编译器集合（gcc）和其他 GNU 组件来启用 GNU Autotools。</p>
</blockquote>
<p><img alt="" src="/data/attachment/album/202008/25/085619rr331p13shpt6htp.jpg"></p>
<p>如果你是一名使用 Windows 的黑客，你不需要专有应用来编译代码。借助 <a href="http://mingw.org">Minimalist GNU for Windows</a>（MinGW）项目，你可以下载并安装 <a href="https://gcc.gnu.org/">GNU 编译器集合（GCC）</a>以及其它几个基本的 GNU 组件，以在 Windows 计算机上启用 <a href="https://opensource.com/article/19/7/introduction-gnu-autotools">GNU Autotools</a>。</p>
<h3>安装 MinGW</h3>
<p>安装 MinGW 的最简单方法是通过 mingw-get，它是一个图形用户界面 （GUI） 应用，可帮助你选择要安装哪些组件，并让它们保持最新。要运行它，请从项目主页<a href="https://osdn.net/projects/mingw/releases/">下载 mingw-get-setup.exe</a>。像你安装其他 EXE 一样，在向导中单击完成安装。</p>
<p><img alt="Installing mingw-get" src="/data/attachment/album/202008/25/085733vqztdgvhf3g4codt.jpg" title="Installing mingw-get"></p>
<h3>在 Windows 上安装 GCC</h3>
<p>目前为止，你只安装了一个程序，或者更准确地说，一个称为 mingw-get 的专用的<em>包管理器</em>。启动 mingw-get 选择要在计算机上安装的 MinGW 项目应用。</p>
<p>首先，从应用菜单中选择 mingw-get 启动它。</p>
<p><img alt="Installing GCC with MinGW" src="/data/attachment/album/202008/25/085735rp72bybqy4zvz65t.jpg" title="Installing GCC with MinGW"></p>
<p>要安装 GCC，请单击 GCC 和 G++ 包来标记要安装 GNU C、C++ 编译器。要完成此过程，请从 mingw-get 窗口左上角的<strong>安装</strong>菜单中选择<strong>应用更改</strong>。</p>
<p>安装 GCC 后，你可以使用完整路径在 <a href="https://opensource.com/article/19/8/variables-powershell">PowerShell</a> 中运行它：</p>
<div class="highlight"><pre><span></span><code>PS&amp;gt; C:\MinGW\bin\gcc.exe --version
gcc.exe (MinGW.org GCC Build-x) x.y.z
Copyright (C) 2019 Free Software Foundation, Inc.
</code></pre></div>

<h3>在 Windows 上运行 Bash</h3>
<p>虽然它自称 “minimalist”（最小化），但 MinGW 还提供一个可选的 <a href="https://en.wikipedia.org/wiki/Bourne_shell">Bourne shell</a> 命令行解释器，称为 MSYS（它代表<ruby> 最小系统 <rt>  Minimal System </rt></ruby>）。它是微软的 <code>cmd.exe</code> 和 PowerShell 的替代方案，它默认是 Bash。除了是（自然而然的）最流行的 shell 之一外，Bash 在将开源应用移植到 Windows 平台时很有用，因为许多开源项目都假定了 <a href="https://opensource.com/article/19/7/what-posix-richard-stallman-explains">POSIX</a> 环境。</p>
<p>你可以在 mingw-get GUI 或 PowerShell 内安装 MSYS：</p>
<div class="highlight"><pre><span></span><code>PS&gt; mingw-get install msys
</code></pre></div>

<p>要尝试 Bash，请使用完整路径启动它：</p>
<div class="highlight"><pre><span></span><code>PS&gt; C:\MinGW\msys/1.0/bin/bash.exe
bash.exe-$ echo $0
&quot;C:\MinGW\msys/1.0/bin/bash.exe&quot;
</code></pre></div>

<h3>在 Windows 上设置路径</h3>
<p>你可能不希望为要使用的每个命令输入完整路径。将包含新 GNU 可执行文件的目录添加到 Windows 中的路径中。需要添加两个可执行文件的根目录：一个用于 MinGW（包括 GCC 及其相关工具链），另一个用于 MSYS（包括 Bash、GNU 和 <a href="https://opensource.com/article/19/3/netbsd-raspberry-pi">BSD</a> 项目中的许多常用工具）。</p>
<p>若要在 Windows 中修改环境，请单击应用菜单并输入 <code>env</code>。</p>
<p><img alt="Edit your env" src="/data/attachment/album/202008/25/085736p9w4khvo93v93kdh.jpg" title="Edit your env"></p>
<p>这将打开“首选项”窗口。点击窗口底部附近的“环境变量”按钮。</p>
<p>在“环境变量”窗口中，双击底部面板中的“路径”选区。</p>
<p>在“编辑环境变量”窗口中，单击右侧的“新增”按钮。创建一个新条目 <code>C:\MinCW\msys\1.0\bin</code>，然后单击 “确定”。以相同的方式创建第二条 <code>C:\MinGW\bin</code>，然后单击 “确定”。</p>
<p><img alt="Set your env" src="/data/attachment/album/202008/25/085737b6alynrhzv18dd47.jpg" title="Set your env"></p>
<p>在每个首选项窗口中接受这些更改。你可以重启计算机以确保所有应用都检测到新变量，或者只需重启 PowerShell 窗口。</p>
<p>从现在开始，你可以调用任何 MinGW 命令而不指定完整路径，因为完整路径位于 PowerShell 继承的 Windows 系统的 <code>%PATH%</code> 环境变量中。</p>
<h3>Hello world</h3>
<p>你已经完成设置，因此可以对新的 MinGW 系统进行小测试。如果你是 <a href="https://opensource.com/resources/what-vim">Vim</a> 用户，请启动它，然后输入下面的 “hello world” 代码：</p>
<div class="highlight"><pre><span></span><code><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>

<span class="n">using</span><span class="w"> </span><span class="n">namespace</span><span class="w"> </span><span class="nn">std</span><span class="p">;</span>

<span class="kr">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Hello open source.&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<p>将文件保存为 <code>hello.cpp</code>，然后使用 GCC 的 C++ 组件编译文件：</p>
<div class="highlight"><pre><span></span><code>PS&gt; gcc hello.cpp --output hello
</code></pre></div>

<p>最后，运行它：</p>
<div class="highlight"><pre><span></span><code>PS&gt; .\a.exe
Hello open source.
PS&gt;
</code></pre></div>

<p>MinGW 的内容远不止我在这里所能介绍的。毕竟，MinGW 打开了一个完整的开源世界和定制代码的潜力，因此请充分利用它。对于更广阔的开源世界，你还可以<a href="https://opensource.com/article/19/7/ways-get-started-linux">试试 Linux</a>。当所有的限制都被消除后，你会惊讶于可能的事情。但与此同时，请试试 MinGW，并享受 GNU 的自由。</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>